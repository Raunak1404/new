function FN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w_={exports:{}},Kd={},__={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),BN=Symbol.for("react.portal"),zN=Symbol.for("react.fragment"),$N=Symbol.for("react.strict_mode"),qN=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),WN=Symbol.for("react.context"),GN=Symbol.for("react.forward_ref"),KN=Symbol.for("react.suspense"),QN=Symbol.for("react.memo"),YN=Symbol.for("react.lazy"),a0=Symbol.iterator;function JN(t){return t===null||typeof t!="object"?null:(t=a0&&t[a0]||t["@@iterator"],typeof t=="function"?t:null)}var b_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T_=Object.assign,k_={};function Xa(t,e,n){this.props=t,this.context=e,this.refs=k_,this.updater=n||b_}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function E_(){}E_.prototype=Xa.prototype;function Wp(t,e,n){this.props=t,this.context=e,this.refs=k_,this.updater=n||b_}var Gp=Wp.prototype=new E_;Gp.constructor=Wp;T_(Gp,Xa.prototype);Gp.isPureReactComponent=!0;var o0=Array.isArray,S_=Object.prototype.hasOwnProperty,Kp={current:null},N_={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)S_.call(e,r)&&!N_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Xl,type:t,key:i,ref:a,props:s,_owner:Kp.current}}function XN(t,e){return{$$typeof:Xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xl}function ZN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var l0=/\/+/g;function af(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZN(""+t.key):e.toString(36)}function xu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Xl:case BN:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+af(a,0):r,o0(s)?(n="",t!=null&&(n=t.replace(l0,"$&/")+"/"),xu(s,e,n,"",function(d){return d})):s!=null&&(Qp(s)&&(s=XN(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(l0,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",o0(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+af(i,l);a+=xu(i,e,n,c,s)}else if(c=JN(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+af(i,l++),a+=xu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Uc(t,e,n){if(t==null)return t;var r=[],s=0;return xu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function eI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},wu={transition:null},tI={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:wu,ReactCurrentOwner:Kp};function j_(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Uc,forEach:function(t,e,n){Uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uc(t,function(){e++}),e},toArray:function(t){return Uc(t,function(e){return e})||[]},only:function(t){if(!Qp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Xa;ye.Fragment=zN;ye.Profiler=qN;ye.PureComponent=Wp;ye.StrictMode=$N;ye.Suspense=KN;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tI;ye.act=j_;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T_({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Kp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)S_.call(e,c)&&!N_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Xl,type:t.type,key:s,ref:i,props:r,_owner:a}};ye.createContext=function(t){return t={$$typeof:WN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HN,_context:t},t.Consumer=t};ye.createElement=I_;ye.createFactory=function(t){var e=I_.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:GN,render:t}};ye.isValidElement=Qp;ye.lazy=function(t){return{$$typeof:YN,_payload:{_status:-1,_result:t},_init:eI}};ye.memo=function(t,e){return{$$typeof:QN,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=wu.transition;wu.transition={};try{t()}finally{wu.transition=e}};ye.unstable_act=j_;ye.useCallback=function(t,e){return tn.current.useCallback(t,e)};ye.useContext=function(t){return tn.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};ye.useEffect=function(t,e){return tn.current.useEffect(t,e)};ye.useId=function(){return tn.current.useId()};ye.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return tn.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};ye.useRef=function(t){return tn.current.useRef(t)};ye.useState=function(t){return tn.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return tn.current.useTransition()};ye.version="18.3.1";__.exports=ye;var A=__.exports;const Yp=UN(A),nI=FN({__proto__:null,default:Yp},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI=A,sI=Symbol.for("react.element"),iI=Symbol.for("react.fragment"),aI=Object.prototype.hasOwnProperty,oI=rI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lI={key:!0,ref:!0,__self:!0,__source:!0};function A_(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)aI.call(e,r)&&!lI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:sI,type:t,key:i,ref:a,props:s,_owner:oI.current}}Kd.Fragment=iI;Kd.jsx=A_;Kd.jsxs=A_;w_.exports=Kd;var o=w_.exports,C_={exports:{}},Nn={},P_={exports:{}},R_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,W){var Z=V.length;V.push(W);e:for(;0<Z;){var ie=Z-1>>>1,le=V[ie];if(0<s(le,W))V[ie]=W,V[Z]=le,Z=ie;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],Z=V.pop();if(Z!==W){V[0]=Z;e:for(var ie=0,le=V.length,we=le>>>1;ie<we;){var Re=2*(ie+1)-1,Me=V[Re],B=Re+1,X=V[B];if(0>s(Me,Z))B<le&&0>s(X,Me)?(V[ie]=X,V[B]=Z,ie=B):(V[ie]=Me,V[Re]=Z,ie=Re);else if(B<le&&0>s(X,Z))V[ie]=X,V[B]=Z,ie=B;else break e}}return W}function s(V,W){var Z=V.sortIndex-W.sortIndex;return Z!==0?Z:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,f=null,p=3,x=!1,b=!1,E=!1,j=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(V){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=V)r(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=n(d)}}function S(V){if(E=!1,g(V),!b)if(n(c)!==null)b=!0,H(D);else{var W=n(d);W!==null&&G(S,W.startTime-V)}}function D(V,W){b=!1,E&&(E=!1,T(w),w=-1),x=!0;var Z=p;try{for(g(W),f=n(c);f!==null&&(!(f.expirationTime>W)||V&&!L());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var le=ie(f.expirationTime<=W);W=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(c)&&r(c),g(W)}else r(c);f=n(c)}if(f!==null)var we=!0;else{var Re=n(d);Re!==null&&G(S,Re.startTime-W),we=!1}return we}finally{f=null,p=Z,x=!1}}var C=!1,_=null,w=-1,k=5,P=-1;function L(){return!(t.unstable_now()-P<k)}function R(){if(_!==null){var V=t.unstable_now();P=V;var W=!0;try{W=_(!0,V)}finally{W?N():(C=!1,_=null)}}else C=!1}var N;if(typeof v=="function")N=function(){v(R)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ee=re.port2;re.port1.onmessage=R,N=function(){ee.postMessage(null)}}else N=function(){j(R,0)};function H(V){_=V,C||(C=!0,N())}function G(V,W){w=j(function(){V(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,H(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var Z=p;p=W;try{return V()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=p;p=V;try{return W()}finally{p=Z}},t.unstable_scheduleCallback=function(V,W,Z){var ie=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ie+Z:ie):Z=ie,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Z+le,V={id:h++,callback:W,priorityLevel:V,startTime:Z,expirationTime:le,sortIndex:-1},Z>ie?(V.sortIndex=Z,e(d,V),n(c)===null&&V===n(d)&&(E?(T(w),w=-1):E=!0,G(S,Z-ie))):(V.sortIndex=le,e(c,V),b||x||(b=!0,H(D))),V},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(V){var W=p;return function(){var Z=p;p=W;try{return V.apply(this,arguments)}finally{p=Z}}}})(R_);P_.exports=R_;var cI=P_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uI=A,kn=cI;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M_=new Set,ml={};function Bi(t,e){La(t,e),La(t+"Capture",e)}function La(t,e){for(ml[t]=e,t=0;t<e.length;t++)M_.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hm=Object.prototype.hasOwnProperty,dI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c0={},u0={};function hI(t){return hm.call(u0,t)?!0:hm.call(c0,t)?!1:dI.test(t)?u0[t]=!0:(c0[t]=!0,!1)}function fI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mI(t,e,n,r){if(e===null||typeof e>"u"||fI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jp=/[\-:]([a-z])/g;function Xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jp,Xp);Ct[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jp,Xp);Ct[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jp,Xp);Ct[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zp(t,e,n,r){var s=Ct.hasOwnProperty(e)?Ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mI(e,n,s,r)&&(n=null),r||s===null?hI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=uI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bc=Symbol.for("react.element"),ia=Symbol.for("react.portal"),aa=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),D_=Symbol.for("react.provider"),L_=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),mm=Symbol.for("react.suspense"),pm=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),O_=Symbol.for("react.offscreen"),d0=Symbol.iterator;function bo(t){return t===null||typeof t!="object"?null:(t=d0&&t[d0]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,of;function Vo(t){if(of===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);of=e&&e[1]||""}return`
`+of+t}var lf=!1;function cf(t,e){if(!t||lf)return"";lf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{lf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vo(t):""}function pI(t){switch(t.tag){case 5:return Vo(t.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return t=cf(t.type,!1),t;case 11:return t=cf(t.type.render,!1),t;case 1:return t=cf(t.type,!0),t;default:return""}}function gm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case aa:return"Fragment";case ia:return"Portal";case fm:return"Profiler";case eg:return"StrictMode";case mm:return"Suspense";case pm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L_:return(t.displayName||"Context")+".Consumer";case D_:return(t._context.displayName||"Context")+".Provider";case tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ng:return e=t.displayName||null,e!==null?e:gm(t.type)||"Memo";case os:e=t._payload,t=t._init;try{return gm(t(e))}catch{}}return null}function gI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gm(e);case 8:return e===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yI(t){var e=V_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zc(t){t._valueTracker||(t._valueTracker=yI(t))}function F_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=V_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ym(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function h0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function U_(t,e){e=e.checked,e!=null&&Zp(t,"checked",e,!1)}function vm(t,e){U_(t,e);var n=Ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xm(t,e.type,n):e.hasOwnProperty("defaultValue")&&xm(t,e.type,Ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xm(t,e,n){(e!=="number"||qu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fo=Array.isArray;function ka(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ds(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function wm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function m0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Fo(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ds(n)}}function B_(t,e){var n=Ds(e.value),r=Ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function p0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _m(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $c,$_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($c=$c||document.createElement("div"),$c.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$c.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vI=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(t){vI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ko[e]=Ko[t]})});function q_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ko.hasOwnProperty(t)&&Ko[t]?(""+e).trim():e+"px"}function H_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=q_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xI=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bm(t,e){if(e){if(xI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Tm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var km=null;function rg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Em=null,Ea=null,Sa=null;function g0(t){if(t=tc(t)){if(typeof Em!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Zd(e),Em(t.stateNode,t.type,e))}}function W_(t){Ea?Sa?Sa.push(t):Sa=[t]:Ea=t}function G_(){if(Ea){var t=Ea,e=Sa;if(Sa=Ea=null,g0(t),e)for(t=0;t<e.length;t++)g0(e[t])}}function K_(t,e){return t(e)}function Q_(){}var uf=!1;function Y_(t,e,n){if(uf)return t(e,n);uf=!0;try{return K_(t,e,n)}finally{uf=!1,(Ea!==null||Sa!==null)&&(Q_(),G_())}}function gl(t,e){var n=t.stateNode;if(n===null)return null;var r=Zd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Sm=!1;if(Vr)try{var To={};Object.defineProperty(To,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Sm=!1}function wI(t,e,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Qo=!1,Hu=null,Wu=!1,Nm=null,_I={onError:function(t){Qo=!0,Hu=t}};function bI(t,e,n,r,s,i,a,l,c){Qo=!1,Hu=null,wI.apply(_I,arguments)}function TI(t,e,n,r,s,i,a,l,c){if(bI.apply(this,arguments),Qo){if(Qo){var d=Hu;Qo=!1,Hu=null}else throw Error(q(198));Wu||(Wu=!0,Nm=d)}}function zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function J_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y0(t){if(zi(t)!==t)throw Error(q(188))}function kI(t){var e=t.alternate;if(!e){if(e=zi(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return y0(s),t;if(i===r)return y0(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function X_(t){return t=kI(t),t!==null?Z_(t):null}function Z_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z_(t);if(e!==null)return e;t=t.sibling}return null}var eb=kn.unstable_scheduleCallback,v0=kn.unstable_cancelCallback,EI=kn.unstable_shouldYield,SI=kn.unstable_requestPaint,rt=kn.unstable_now,NI=kn.unstable_getCurrentPriorityLevel,sg=kn.unstable_ImmediatePriority,tb=kn.unstable_UserBlockingPriority,Gu=kn.unstable_NormalPriority,II=kn.unstable_LowPriority,nb=kn.unstable_IdlePriority,Qd=null,dr=null;function jI(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Qd,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:PI,AI=Math.log,CI=Math.LN2;function PI(t){return t>>>=0,t===0?32:31-(AI(t)/CI|0)|0}var qc=64,Hc=4194304;function Uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Uo(l):(i&=a,i!==0&&(r=Uo(i)))}else a=n&~s,a!==0?r=Uo(a):i!==0&&(r=Uo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),s=1<<n,r|=t[n],e&=~s;return r}function RI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Xn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=RI(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Im(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rb(){var t=qc;return qc<<=1,!(qc&4194240)&&(qc=64),t}function df(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function DI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ig(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ce=0;function sb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ib,ag,ab,ob,lb,jm=!1,Wc=[],_s=null,bs=null,Ts=null,yl=new Map,vl=new Map,ds=[],LI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x0(t,e){switch(t){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(e.pointerId)}}function ko(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=tc(e),e!==null&&ag(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function OI(t,e,n,r,s){switch(e){case"focusin":return _s=ko(_s,t,e,n,r,s),!0;case"dragenter":return bs=ko(bs,t,e,n,r,s),!0;case"mouseover":return Ts=ko(Ts,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return yl.set(i,ko(yl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vl.set(i,ko(vl.get(i)||null,t,e,n,r,s)),!0}return!1}function cb(t){var e=yi(t.target);if(e!==null){var n=zi(e);if(n!==null){if(e=n.tag,e===13){if(e=J_(n),e!==null){t.blockedOn=e,lb(t.priority,function(){ab(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Am(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);km=r,n.target.dispatchEvent(r),km=null}else return e=tc(n),e!==null&&ag(e),t.blockedOn=n,!1;e.shift()}return!0}function w0(t,e,n){_u(t)&&n.delete(e)}function VI(){jm=!1,_s!==null&&_u(_s)&&(_s=null),bs!==null&&_u(bs)&&(bs=null),Ts!==null&&_u(Ts)&&(Ts=null),yl.forEach(w0),vl.forEach(w0)}function Eo(t,e){t.blockedOn===e&&(t.blockedOn=null,jm||(jm=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,VI)))}function xl(t){function e(s){return Eo(s,t)}if(0<Wc.length){Eo(Wc[0],t);for(var n=1;n<Wc.length;n++){var r=Wc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_s!==null&&Eo(_s,t),bs!==null&&Eo(bs,t),Ts!==null&&Eo(Ts,t),yl.forEach(e),vl.forEach(e),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)cb(n),n.blockedOn===null&&ds.shift()}var Na=Gr.ReactCurrentBatchConfig,Qu=!0;function FI(t,e,n,r){var s=Ce,i=Na.transition;Na.transition=null;try{Ce=1,og(t,e,n,r)}finally{Ce=s,Na.transition=i}}function UI(t,e,n,r){var s=Ce,i=Na.transition;Na.transition=null;try{Ce=4,og(t,e,n,r)}finally{Ce=s,Na.transition=i}}function og(t,e,n,r){if(Qu){var s=Am(t,e,n,r);if(s===null)_f(t,e,r,Yu,n),x0(t,r);else if(OI(s,t,e,n,r))r.stopPropagation();else if(x0(t,r),e&4&&-1<LI.indexOf(t)){for(;s!==null;){var i=tc(s);if(i!==null&&ib(i),i=Am(t,e,n,r),i===null&&_f(t,e,r,Yu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _f(t,e,r,null,n)}}var Yu=null;function Am(t,e,n,r){if(Yu=null,t=rg(r),t=yi(t),t!==null)if(e=zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=J_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function ub(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NI()){case sg:return 1;case tb:return 4;case Gu:case II:return 16;case nb:return 536870912;default:return 16}default:return 16}}var ys=null,lg=null,bu=null;function db(){if(bu)return bu;var t,e=lg,n=e.length,r,s="value"in ys?ys.value:ys.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return bu=s.slice(t,1<r?1-r:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gc(){return!0}function _0(){return!1}function In(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gc:_0,this.isPropagationStopped=_0,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),e}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cg=In(Za),ec=Ye({},Za,{view:0,detail:0}),BI=In(ec),hf,ff,So,Yd=Ye({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==So&&(So&&t.type==="mousemove"?(hf=t.screenX-So.screenX,ff=t.screenY-So.screenY):ff=hf=0,So=t),hf)},movementY:function(t){return"movementY"in t?t.movementY:ff}}),b0=In(Yd),zI=Ye({},Yd,{dataTransfer:0}),$I=In(zI),qI=Ye({},ec,{relatedTarget:0}),mf=In(qI),HI=Ye({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),WI=In(HI),GI=Ye({},Za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KI=In(GI),QI=Ye({},Za,{data:0}),T0=In(QI),YI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XI[t])?!!e[t]:!1}function ug(){return ZI}var ej=Ye({},ec,{key:function(t){if(t.key){var e=YI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tj=In(ej),nj=Ye({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k0=In(nj),rj=Ye({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),sj=In(rj),ij=Ye({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),aj=In(ij),oj=Ye({},Yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lj=In(oj),cj=[9,13,27,32],dg=Vr&&"CompositionEvent"in window,Yo=null;Vr&&"documentMode"in document&&(Yo=document.documentMode);var uj=Vr&&"TextEvent"in window&&!Yo,hb=Vr&&(!dg||Yo&&8<Yo&&11>=Yo),E0=" ",S0=!1;function fb(t,e){switch(t){case"keyup":return cj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function dj(t,e){switch(t){case"compositionend":return mb(e);case"keypress":return e.which!==32?null:(S0=!0,E0);case"textInput":return t=e.data,t===E0&&S0?null:t;default:return null}}function hj(t,e){if(oa)return t==="compositionend"||!dg&&fb(t,e)?(t=db(),bu=lg=ys=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hb&&e.locale!=="ko"?null:e.data;default:return null}}var fj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fj[t.type]:e==="textarea"}function pb(t,e,n,r){W_(r),e=Ju(e,"onChange"),0<e.length&&(n=new cg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jo=null,wl=null;function mj(t){Sb(t,0)}function Jd(t){var e=ua(t);if(F_(e))return t}function pj(t,e){if(t==="change")return e}var gb=!1;if(Vr){var pf;if(Vr){var gf="oninput"in document;if(!gf){var I0=document.createElement("div");I0.setAttribute("oninput","return;"),gf=typeof I0.oninput=="function"}pf=gf}else pf=!1;gb=pf&&(!document.documentMode||9<document.documentMode)}function j0(){Jo&&(Jo.detachEvent("onpropertychange",yb),wl=Jo=null)}function yb(t){if(t.propertyName==="value"&&Jd(wl)){var e=[];pb(e,wl,t,rg(t)),Y_(mj,e)}}function gj(t,e,n){t==="focusin"?(j0(),Jo=e,wl=n,Jo.attachEvent("onpropertychange",yb)):t==="focusout"&&j0()}function yj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jd(wl)}function vj(t,e){if(t==="click")return Jd(e)}function xj(t,e){if(t==="input"||t==="change")return Jd(e)}function wj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:wj;function _l(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hm.call(e,s)||!er(t[s],e[s]))return!1}return!0}function A0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C0(t,e){var n=A0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A0(n)}}function vb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xb(){for(var t=window,e=qu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qu(t.document)}return e}function hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _j(t){var e=xb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vb(n.ownerDocument.documentElement,n)){if(r!==null&&hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=C0(n,i);var a=C0(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bj=Vr&&"documentMode"in document&&11>=document.documentMode,la=null,Cm=null,Xo=null,Pm=!1;function P0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pm||la==null||la!==qu(r)||(r=la,"selectionStart"in r&&hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xo&&_l(Xo,r)||(Xo=r,r=Ju(Cm,"onSelect"),0<r.length&&(e=new cg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=la)))}function Kc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ca={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},yf={},wb={};Vr&&(wb=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Xd(t){if(yf[t])return yf[t];if(!ca[t])return t;var e=ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wb)return yf[t]=e[n];return t}var _b=Xd("animationend"),bb=Xd("animationiteration"),Tb=Xd("animationstart"),kb=Xd("transitionend"),Eb=new Map,R0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(t,e){Eb.set(t,e),Bi(e,[t])}for(var vf=0;vf<R0.length;vf++){var xf=R0[vf],Tj=xf.toLowerCase(),kj=xf[0].toUpperCase()+xf.slice(1);qs(Tj,"on"+kj)}qs(_b,"onAnimationEnd");qs(bb,"onAnimationIteration");qs(Tb,"onAnimationStart");qs("dblclick","onDoubleClick");qs("focusin","onFocus");qs("focusout","onBlur");qs(kb,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ej=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function M0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TI(r,e,void 0,t),t.currentTarget=null}function Sb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;M0(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;M0(s,l,d),i=c}}}if(Wu)throw t=Nm,Wu=!1,Nm=null,t}function Be(t,e){var n=e[Om];n===void 0&&(n=e[Om]=new Set);var r=t+"__bubble";n.has(r)||(Nb(e,t,2,!1),n.add(r))}function wf(t,e,n){var r=0;e&&(r|=4),Nb(n,t,r,e)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function bl(t){if(!t[Qc]){t[Qc]=!0,M_.forEach(function(n){n!=="selectionchange"&&(Ej.has(n)||wf(n,!1,t),wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qc]||(e[Qc]=!0,wf("selectionchange",!1,e))}}function Nb(t,e,n,r){switch(ub(e)){case 1:var s=FI;break;case 4:s=UI;break;default:s=og}n=s.bind(null,e,n,t),s=void 0,!Sm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _f(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=yi(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Y_(function(){var d=i,h=rg(n),f=[];e:{var p=Eb.get(t);if(p!==void 0){var x=cg,b=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":x=tj;break;case"focusin":b="focus",x=mf;break;case"focusout":b="blur",x=mf;break;case"beforeblur":case"afterblur":x=mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=b0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=$I;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=sj;break;case _b:case bb:case Tb:x=WI;break;case kb:x=aj;break;case"scroll":x=BI;break;case"wheel":x=lj;break;case"copy":case"cut":case"paste":x=KI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=k0}var E=(e&4)!==0,j=!E&&t==="scroll",T=E?p!==null?p+"Capture":null:p;E=[];for(var v=d,g;v!==null;){g=v;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,T!==null&&(S=gl(v,T),S!=null&&E.push(Tl(v,S,g)))),j)break;v=v.return}0<E.length&&(p=new x(p,b,null,n,h),f.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&n!==km&&(b=n.relatedTarget||n.fromElement)&&(yi(b)||b[Fr]))break e;if((x||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,x?(b=n.relatedTarget||n.toElement,x=d,b=b?yi(b):null,b!==null&&(j=zi(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=d),x!==b)){if(E=b0,S="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=k0,S="onPointerLeave",T="onPointerEnter",v="pointer"),j=x==null?p:ua(x),g=b==null?p:ua(b),p=new E(S,v+"leave",x,n,h),p.target=j,p.relatedTarget=g,S=null,yi(h)===d&&(E=new E(T,v+"enter",b,n,h),E.target=g,E.relatedTarget=j,S=E),j=S,x&&b)t:{for(E=x,T=b,v=0,g=E;g;g=ta(g))v++;for(g=0,S=T;S;S=ta(S))g++;for(;0<v-g;)E=ta(E),v--;for(;0<g-v;)T=ta(T),g--;for(;v--;){if(E===T||T!==null&&E===T.alternate)break t;E=ta(E),T=ta(T)}E=null}else E=null;x!==null&&D0(f,p,x,E,!1),b!==null&&j!==null&&D0(f,j,b,E,!0)}}e:{if(p=d?ua(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var D=pj;else if(N0(p))if(gb)D=xj;else{D=yj;var C=gj}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=vj);if(D&&(D=D(t,d))){pb(f,D,n,h);break e}C&&C(t,p,d),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&xm(p,"number",p.value)}switch(C=d?ua(d):window,t){case"focusin":(N0(C)||C.contentEditable==="true")&&(la=C,Cm=d,Xo=null);break;case"focusout":Xo=Cm=la=null;break;case"mousedown":Pm=!0;break;case"contextmenu":case"mouseup":case"dragend":Pm=!1,P0(f,n,h);break;case"selectionchange":if(bj)break;case"keydown":case"keyup":P0(f,n,h)}var _;if(dg)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else oa?fb(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(hb&&n.locale!=="ko"&&(oa||w!=="onCompositionStart"?w==="onCompositionEnd"&&oa&&(_=db()):(ys=h,lg="value"in ys?ys.value:ys.textContent,oa=!0)),C=Ju(d,w),0<C.length&&(w=new T0(w,t,null,n,h),f.push({event:w,listeners:C}),_?w.data=_:(_=mb(n),_!==null&&(w.data=_)))),(_=uj?dj(t,n):hj(t,n))&&(d=Ju(d,"onBeforeInput"),0<d.length&&(h=new T0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=_))}Sb(f,e)})}function Tl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gl(t,n),i!=null&&r.unshift(Tl(t,i,s)),i=gl(t,e),i!=null&&r.push(Tl(t,i,s))),t=t.return}return r}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D0(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=gl(n,i),c!=null&&a.unshift(Tl(n,c,l))):s||(c=gl(n,i),c!=null&&a.push(Tl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Sj=/\r\n?/g,Nj=/\u0000|\uFFFD/g;function L0(t){return(typeof t=="string"?t:""+t).replace(Sj,`
`).replace(Nj,"")}function Yc(t,e,n){if(e=L0(e),L0(t)!==e&&n)throw Error(q(425))}function Xu(){}var Rm=null,Mm=null;function Dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lm=typeof setTimeout=="function"?setTimeout:void 0,Ij=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,jj=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(t){return O0.resolve(null).then(t).catch(Aj)}:Lm;function Aj(t){setTimeout(function(){throw t})}function bf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xl(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function V0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var eo=Math.random().toString(36).slice(2),lr="__reactFiber$"+eo,kl="__reactProps$"+eo,Fr="__reactContainer$"+eo,Om="__reactEvents$"+eo,Cj="__reactListeners$"+eo,Pj="__reactHandles$"+eo;function yi(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=V0(t);t!==null;){if(n=t[lr])return n;t=V0(t)}return e}t=n,n=t.parentNode}return null}function tc(t){return t=t[lr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Zd(t){return t[kl]||null}var Vm=[],da=-1;function Hs(t){return{current:t}}function ze(t){0>da||(t.current=Vm[da],Vm[da]=null,da--)}function Ve(t,e){da++,Vm[da]=t.current,t.current=e}var Ls={},Ht=Hs(Ls),cn=Hs(!1),Ii=Ls;function Oa(t,e){var n=t.type.contextTypes;if(!n)return Ls;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function un(t){return t=t.childContextTypes,t!=null}function Zu(){ze(cn),ze(Ht)}function F0(t,e,n){if(Ht.current!==Ls)throw Error(q(168));Ve(Ht,e),Ve(cn,n)}function Ib(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,gI(t)||"Unknown",s));return Ye({},n,r)}function ed(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ls,Ii=Ht.current,Ve(Ht,t),Ve(cn,cn.current),!0}function U0(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=Ib(t,e,Ii),r.__reactInternalMemoizedMergedChildContext=t,ze(cn),ze(Ht),Ve(Ht,t)):ze(cn),Ve(cn,n)}var Nr=null,eh=!1,Tf=!1;function jb(t){Nr===null?Nr=[t]:Nr.push(t)}function Rj(t){eh=!0,jb(t)}function Ws(){if(!Tf&&Nr!==null){Tf=!0;var t=0,e=Ce;try{var n=Nr;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,eh=!1}catch(s){throw Nr!==null&&(Nr=Nr.slice(t+1)),eb(sg,Ws),s}finally{Ce=e,Tf=!1}}return null}var ha=[],fa=0,td=null,nd=0,Cn=[],Pn=0,ji=null,Ir=1,jr="";function ui(t,e){ha[fa++]=nd,ha[fa++]=td,td=t,nd=e}function Ab(t,e,n){Cn[Pn++]=Ir,Cn[Pn++]=jr,Cn[Pn++]=ji,ji=t;var r=Ir;t=jr;var s=32-Xn(r)-1;r&=~(1<<s),n+=1;var i=32-Xn(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ir=1<<32-Xn(e)+s|n<<s|r,jr=i+t}else Ir=1<<i|n<<s|r,jr=t}function fg(t){t.return!==null&&(ui(t,1),Ab(t,1,0))}function mg(t){for(;t===td;)td=ha[--fa],ha[fa]=null,nd=ha[--fa],ha[fa]=null;for(;t===ji;)ji=Cn[--Pn],Cn[Pn]=null,jr=Cn[--Pn],Cn[Pn]=null,Ir=Cn[--Pn],Cn[Pn]=null}var _n=null,xn=null,qe=!1,Qn=null;function Cb(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function B0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,xn=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ji!==null?{id:Ir,overflow:jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,xn=null,!0):!1;default:return!1}}function Fm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Um(t){if(qe){var e=xn;if(e){var n=e;if(!B0(t,e)){if(Fm(t))throw Error(q(418));e=ks(n.nextSibling);var r=_n;e&&B0(t,e)?Cb(r,n):(t.flags=t.flags&-4097|2,qe=!1,_n=t)}}else{if(Fm(t))throw Error(q(418));t.flags=t.flags&-4097|2,qe=!1,_n=t}}}function z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function Jc(t){if(t!==_n)return!1;if(!qe)return z0(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dm(t.type,t.memoizedProps)),e&&(e=xn)){if(Fm(t))throw Pb(),Error(q(418));for(;e;)Cb(t,e),e=ks(e.nextSibling)}if(z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=_n?ks(t.stateNode.nextSibling):null;return!0}function Pb(){for(var t=xn;t;)t=ks(t.nextSibling)}function Va(){xn=_n=null,qe=!1}function pg(t){Qn===null?Qn=[t]:Qn.push(t)}var Mj=Gr.ReactCurrentBatchConfig;function No(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Xc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $0(t){var e=t._init;return e(t._payload)}function Rb(t){function e(T,v){if(t){var g=T.deletions;g===null?(T.deletions=[v],T.flags|=16):g.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function s(T,v){return T=Is(T,v),T.index=0,T.sibling=null,T}function i(T,v,g){return T.index=g,t?(g=T.alternate,g!==null?(g=g.index,g<v?(T.flags|=2,v):g):(T.flags|=2,v)):(T.flags|=1048576,v)}function a(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,v,g,S){return v===null||v.tag!==6?(v=Af(g,T.mode,S),v.return=T,v):(v=s(v,g),v.return=T,v)}function c(T,v,g,S){var D=g.type;return D===aa?h(T,v,g.props.children,S,g.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===os&&$0(D)===v.type)?(S=s(v,g.props),S.ref=No(T,v,g),S.return=T,S):(S=Au(g.type,g.key,g.props,null,T.mode,S),S.ref=No(T,v,g),S.return=T,S)}function d(T,v,g,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=Cf(g,T.mode,S),v.return=T,v):(v=s(v,g.children||[]),v.return=T,v)}function h(T,v,g,S,D){return v===null||v.tag!==7?(v=ki(g,T.mode,S,D),v.return=T,v):(v=s(v,g),v.return=T,v)}function f(T,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Af(""+v,T.mode,g),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bc:return g=Au(v.type,v.key,v.props,null,T.mode,g),g.ref=No(T,null,v),g.return=T,g;case ia:return v=Cf(v,T.mode,g),v.return=T,v;case os:var S=v._init;return f(T,S(v._payload),g)}if(Fo(v)||bo(v))return v=ki(v,T.mode,g,null),v.return=T,v;Xc(T,v)}return null}function p(T,v,g,S){var D=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return D!==null?null:l(T,v,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bc:return g.key===D?c(T,v,g,S):null;case ia:return g.key===D?d(T,v,g,S):null;case os:return D=g._init,p(T,v,D(g._payload),S)}if(Fo(g)||bo(g))return D!==null?null:h(T,v,g,S,null);Xc(T,g)}return null}function x(T,v,g,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return T=T.get(g)||null,l(v,T,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bc:return T=T.get(S.key===null?g:S.key)||null,c(v,T,S,D);case ia:return T=T.get(S.key===null?g:S.key)||null,d(v,T,S,D);case os:var C=S._init;return x(T,v,g,C(S._payload),D)}if(Fo(S)||bo(S))return T=T.get(g)||null,h(v,T,S,D,null);Xc(v,S)}return null}function b(T,v,g,S){for(var D=null,C=null,_=v,w=v=0,k=null;_!==null&&w<g.length;w++){_.index>w?(k=_,_=null):k=_.sibling;var P=p(T,_,g[w],S);if(P===null){_===null&&(_=k);break}t&&_&&P.alternate===null&&e(T,_),v=i(P,v,w),C===null?D=P:C.sibling=P,C=P,_=k}if(w===g.length)return n(T,_),qe&&ui(T,w),D;if(_===null){for(;w<g.length;w++)_=f(T,g[w],S),_!==null&&(v=i(_,v,w),C===null?D=_:C.sibling=_,C=_);return qe&&ui(T,w),D}for(_=r(T,_);w<g.length;w++)k=x(_,T,w,g[w],S),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?w:k.key),v=i(k,v,w),C===null?D=k:C.sibling=k,C=k);return t&&_.forEach(function(L){return e(T,L)}),qe&&ui(T,w),D}function E(T,v,g,S){var D=bo(g);if(typeof D!="function")throw Error(q(150));if(g=D.call(g),g==null)throw Error(q(151));for(var C=D=null,_=v,w=v=0,k=null,P=g.next();_!==null&&!P.done;w++,P=g.next()){_.index>w?(k=_,_=null):k=_.sibling;var L=p(T,_,P.value,S);if(L===null){_===null&&(_=k);break}t&&_&&L.alternate===null&&e(T,_),v=i(L,v,w),C===null?D=L:C.sibling=L,C=L,_=k}if(P.done)return n(T,_),qe&&ui(T,w),D;if(_===null){for(;!P.done;w++,P=g.next())P=f(T,P.value,S),P!==null&&(v=i(P,v,w),C===null?D=P:C.sibling=P,C=P);return qe&&ui(T,w),D}for(_=r(T,_);!P.done;w++,P=g.next())P=x(_,T,w,P.value,S),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?w:P.key),v=i(P,v,w),C===null?D=P:C.sibling=P,C=P);return t&&_.forEach(function(R){return e(T,R)}),qe&&ui(T,w),D}function j(T,v,g,S){if(typeof g=="object"&&g!==null&&g.type===aa&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Bc:e:{for(var D=g.key,C=v;C!==null;){if(C.key===D){if(D=g.type,D===aa){if(C.tag===7){n(T,C.sibling),v=s(C,g.props.children),v.return=T,T=v;break e}}else if(C.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===os&&$0(D)===C.type){n(T,C.sibling),v=s(C,g.props),v.ref=No(T,C,g),v.return=T,T=v;break e}n(T,C);break}else e(T,C);C=C.sibling}g.type===aa?(v=ki(g.props.children,T.mode,S,g.key),v.return=T,T=v):(S=Au(g.type,g.key,g.props,null,T.mode,S),S.ref=No(T,v,g),S.return=T,T=S)}return a(T);case ia:e:{for(C=g.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(T,v.sibling),v=s(v,g.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=Cf(g,T.mode,S),v.return=T,T=v}return a(T);case os:return C=g._init,j(T,v,C(g._payload),S)}if(Fo(g))return b(T,v,g,S);if(bo(g))return E(T,v,g,S);Xc(T,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(n(T,v.sibling),v=s(v,g),v.return=T,T=v):(n(T,v),v=Af(g,T.mode,S),v.return=T,T=v),a(T)):n(T,v)}return j}var Fa=Rb(!0),Mb=Rb(!1),rd=Hs(null),sd=null,ma=null,gg=null;function yg(){gg=ma=sd=null}function vg(t){var e=rd.current;ze(rd),t._currentValue=e}function Bm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ia(t,e){sd=t,gg=ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(gg!==t)if(t={context:t,memoizedValue:e,next:null},ma===null){if(sd===null)throw Error(q(308));ma=t,sd.dependencies={lanes:0,firstContext:t}}else ma=ma.next=t;return e}var vi=null;function xg(t){vi===null?vi=[t]:vi.push(t)}function Db(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ls=!1;function wg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Es(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ur(t,n)}return s=r.interleaved,s===null?(e.next=e,xg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ur(t,n)}function ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ig(t,n)}}function q0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var s=t.updateQueue;ls=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=d=c=null,l=i;do{var p=l.lane,x=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,E=l;switch(p=e,x=n,E.tag){case 1:if(b=E.payload,typeof b=="function"){f=b.call(x,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=E.payload,p=typeof b=="function"?b.call(x,f,p):b,p==null)break e;f=Ye({},f,p);break e;case 2:ls=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=x,c=f):h=h.next=x,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ci|=a,t.lanes=a,t.memoizedState=f}}function H0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var nc={},hr=Hs(nc),El=Hs(nc),Sl=Hs(nc);function xi(t){if(t===nc)throw Error(q(174));return t}function _g(t,e){switch(Ve(Sl,e),Ve(El,t),Ve(hr,nc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_m(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_m(e,t)}ze(hr),Ve(hr,e)}function Ua(){ze(hr),ze(El),ze(Sl)}function Ob(t){xi(Sl.current);var e=xi(hr.current),n=_m(e,t.type);e!==n&&(Ve(El,t),Ve(hr,n))}function bg(t){El.current===t&&(ze(hr),ze(El))}var Ge=Hs(0);function ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kf=[];function Tg(){for(var t=0;t<kf.length;t++)kf[t]._workInProgressVersionPrimary=null;kf.length=0}var Eu=Gr.ReactCurrentDispatcher,Ef=Gr.ReactCurrentBatchConfig,Ai=0,Qe=null,ht=null,yt=null,od=!1,Zo=!1,Nl=0,Dj=0;function Ot(){throw Error(q(321))}function kg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function Eg(t,e,n,r,s,i){if(Ai=i,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eu.current=t===null||t.memoizedState===null?Fj:Uj,t=n(r,s),Zo){i=0;do{if(Zo=!1,Nl=0,25<=i)throw Error(q(301));i+=1,yt=ht=null,e.updateQueue=null,Eu.current=Bj,t=n(r,s)}while(Zo)}if(Eu.current=ld,e=ht!==null&&ht.next!==null,Ai=0,yt=ht=Qe=null,od=!1,e)throw Error(q(300));return t}function Sg(){var t=Nl!==0;return Nl=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Qe.memoizedState=yt=t:yt=yt.next=t,yt}function Vn(){if(ht===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=yt===null?Qe.memoizedState:yt.next;if(e!==null)yt=e,ht=t;else{if(t===null)throw Error(q(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Qe.memoizedState=yt=t:yt=yt.next=t}return yt}function Il(t,e){return typeof e=="function"?e(t):e}function Sf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=ht,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var h=d.lane;if((Ai&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Qe.lanes|=h,Ci|=h}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,er(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Qe.lanes|=i,Ci|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);er(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Vb(){}function Fb(t,e){var n=Qe,r=Vn(),s=e(),i=!er(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,Ng(zb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,jl(9,Bb.bind(null,n,r,s,e),void 0,null),xt===null)throw Error(q(349));Ai&30||Ub(n,e,s)}return s}function Ub(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bb(t,e,n,r){e.value=n,e.getSnapshot=r,$b(e)&&qb(t)}function zb(t,e,n){return n(function(){$b(e)&&qb(t)})}function $b(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function qb(t){var e=Ur(t,1);e!==null&&Zn(e,t,1,-1)}function W0(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:t},e.queue=t,t=t.dispatch=Vj.bind(null,Qe,t),[e.memoizedState,t]}function jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Hb(){return Vn().memoizedState}function Su(t,e,n,r){var s=or();Qe.flags|=t,s.memoizedState=jl(1|e,n,void 0,r===void 0?null:r)}function th(t,e,n,r){var s=Vn();r=r===void 0?null:r;var i=void 0;if(ht!==null){var a=ht.memoizedState;if(i=a.destroy,r!==null&&kg(r,a.deps)){s.memoizedState=jl(e,n,i,r);return}}Qe.flags|=t,s.memoizedState=jl(1|e,n,i,r)}function G0(t,e){return Su(8390656,8,t,e)}function Ng(t,e){return th(2048,8,t,e)}function Wb(t,e){return th(4,2,t,e)}function Gb(t,e){return th(4,4,t,e)}function Kb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qb(t,e,n){return n=n!=null?n.concat([t]):null,th(4,4,Kb.bind(null,e,t),n)}function Ig(){}function Yb(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jb(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xb(t,e,n){return Ai&21?(er(n,e)||(n=rb(),Qe.lanes|=n,Ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function Lj(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Ef.transition;Ef.transition={};try{t(!1),e()}finally{Ce=n,Ef.transition=r}}function Zb(){return Vn().memoizedState}function Oj(t,e,n){var r=Ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eT(t))tT(e,n);else if(n=Db(t,e,n,r),n!==null){var s=Xt();Zn(n,t,r,s),nT(n,e,r)}}function Vj(t,e,n){var r=Ns(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eT(t))tT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,er(l,a)){var c=e.interleaved;c===null?(s.next=s,xg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Db(t,e,s,r),n!==null&&(s=Xt(),Zn(n,t,r,s),nT(n,e,r))}}function eT(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function tT(t,e){Zo=od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ig(t,n)}}var ld={readContext:On,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},Fj={readContext:On,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:G0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Su(4194308,4,Kb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Su(4194308,4,t,e)},useInsertionEffect:function(t,e){return Su(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Oj.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:W0,useDebugValue:Ig,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=W0(!1),e=t[0];return t=Lj.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,s=or();if(qe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),xt===null)throw Error(q(349));Ai&30||Ub(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,G0(zb.bind(null,r,i,t),[t]),r.flags|=2048,jl(9,Bb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=or(),e=xt.identifierPrefix;if(qe){var n=jr,r=Ir;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Dj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Uj={readContext:On,useCallback:Yb,useContext:On,useEffect:Ng,useImperativeHandle:Qb,useInsertionEffect:Wb,useLayoutEffect:Gb,useMemo:Jb,useReducer:Sf,useRef:Hb,useState:function(){return Sf(Il)},useDebugValue:Ig,useDeferredValue:function(t){var e=Vn();return Xb(e,ht.memoizedState,t)},useTransition:function(){var t=Sf(Il)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:Vb,useSyncExternalStore:Fb,useId:Zb,unstable_isNewReconciler:!1},Bj={readContext:On,useCallback:Yb,useContext:On,useEffect:Ng,useImperativeHandle:Qb,useInsertionEffect:Wb,useLayoutEffect:Gb,useMemo:Jb,useReducer:Nf,useRef:Hb,useState:function(){return Nf(Il)},useDebugValue:Ig,useDeferredValue:function(t){var e=Vn();return ht===null?e.memoizedState=t:Xb(e,ht.memoizedState,t)},useTransition:function(){var t=Nf(Il)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:Vb,useSyncExternalStore:Fb,useId:Zb,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nh={isMounted:function(t){return(t=t._reactInternals)?zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xt(),s=Ns(t),i=Mr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Es(t,i,s),e!==null&&(Zn(e,t,s,r),ku(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xt(),s=Ns(t),i=Mr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Es(t,i,s),e!==null&&(Zn(e,t,s,r),ku(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),r=Ns(t),s=Mr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Es(t,s,r),e!==null&&(Zn(e,t,r,n),ku(e,t,r))}};function K0(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!_l(n,r)||!_l(s,i):!0}function rT(t,e,n){var r=!1,s=Ls,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=un(e)?Ii:Ht.current,r=e.contextTypes,i=(r=r!=null)?Oa(t,s):Ls),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Q0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nh.enqueueReplaceState(e,e.state,null)}function $m(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},wg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=un(e)?Ii:Ht.current,s.context=Oa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(zm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&nh.enqueueReplaceState(s,s.state,null),id(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ba(t,e){try{var n="",r=e;do n+=pI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function If(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zj=typeof WeakMap=="function"?WeakMap:Map;function sT(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ud||(ud=!0,ep=r),qm(t,e)},n}function iT(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qm(t,e),typeof r!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Y0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=nA.bind(null,t,e,n),e.then(t,t))}function J0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function X0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,Es(n,e,1))),n.lanes|=1),t)}var $j=Gr.ReactCurrentOwner,ln=!1;function Yt(t,e,n,r){e.child=t===null?Mb(e,null,n,r):Fa(e,t.child,n,r)}function Z0(t,e,n,r,s){n=n.render;var i=e.ref;return Ia(e,s),r=Eg(t,e,n,r,i,s),n=Sg(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(qe&&n&&fg(e),e.flags|=1,Yt(t,e,r,s),e.child)}function ex(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Lg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,aT(t,e,i,r,s)):(t=Au(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(a,r)&&t.ref===e.ref)return Br(t,e,s)}return e.flags|=1,t=Is(i,r),t.ref=e.ref,t.return=e,e.child=t}function aT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_l(i,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,Br(t,e,s)}return Hm(t,e,n,r,s)}function oT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ga,vn),vn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(ga,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ve(ga,vn),vn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ve(ga,vn),vn|=r;return Yt(t,e,s,n),e.child}function lT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hm(t,e,n,r,s){var i=un(n)?Ii:Ht.current;return i=Oa(e,i),Ia(e,s),n=Eg(t,e,n,r,i,s),r=Sg(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(qe&&r&&fg(e),e.flags|=1,Yt(t,e,n,s),e.child)}function tx(t,e,n,r,s){if(un(n)){var i=!0;ed(e)}else i=!1;if(Ia(e,s),e.stateNode===null)Nu(t,e),rT(e,n,r),$m(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=On(d):(d=un(n)?Ii:Ht.current,d=Oa(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Q0(e,a,r,d),ls=!1;var p=e.memoizedState;a.state=p,id(e,r,a,s),c=e.memoizedState,l!==r||p!==c||cn.current||ls?(typeof h=="function"&&(zm(e,n,h,r),c=e.memoizedState),(l=ls||K0(e,n,l,r,p,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Lb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Gn(e.type,l),a.props=d,f=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=On(c):(c=un(n)?Ii:Ht.current,c=Oa(e,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Q0(e,a,r,c),ls=!1,p=e.memoizedState,a.state=p,id(e,r,a,s);var b=e.memoizedState;l!==f||p!==b||cn.current||ls?(typeof x=="function"&&(zm(e,n,x,r),b=e.memoizedState),(d=ls||K0(e,n,d,r,p,b,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Wm(t,e,n,r,i,s)}function Wm(t,e,n,r,s,i){lT(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&U0(e,n,!1),Br(t,e,i);r=e.stateNode,$j.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Fa(e,t.child,null,i),e.child=Fa(e,null,l,i)):Yt(t,e,l,i),e.memoizedState=r.state,s&&U0(e,n,!0),e.child}function cT(t){var e=t.stateNode;e.pendingContext?F0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&F0(t,e.context,!1),_g(t,e.containerInfo)}function nx(t,e,n,r,s){return Va(),pg(s),e.flags|=256,Yt(t,e,n,r),e.child}var Gm={dehydrated:null,treeContext:null,retryLane:0};function Km(t){return{baseLanes:t,cachePool:null,transitions:null}}function uT(t,e,n){var r=e.pendingProps,s=Ge.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ve(Ge,s&1),t===null)return Um(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ih(a,r,0,null),t=ki(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Km(n),e.memoizedState=Gm,t):jg(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return qj(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Is(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Is(l,i):(i=ki(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Km(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Gm,r}return i=t.child,t=i.sibling,r=Is(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jg(t,e){return e=ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zc(t,e,n,r){return r!==null&&pg(r),Fa(e,t.child,null,n),t=jg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qj(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=If(Error(q(422))),Zc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ih({mode:"visible",children:r.children},s,0,null),i=ki(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fa(e,t.child,null,a),e.child.memoizedState=Km(a),e.memoizedState=Gm,i);if(!(e.mode&1))return Zc(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=If(i,r,void 0),Zc(t,e,a,r)}if(l=(a&t.childLanes)!==0,ln||l){if(r=xt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ur(t,s),Zn(r,t,s,-1))}return Dg(),r=If(Error(q(421))),Zc(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=rA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,xn=ks(s.nextSibling),_n=e,qe=!0,Qn=null,t!==null&&(Cn[Pn++]=Ir,Cn[Pn++]=jr,Cn[Pn++]=ji,Ir=t.id,jr=t.overflow,ji=e),e=jg(e,r.children),e.flags|=4096,e)}function rx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bm(t.return,e,n)}function jf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rx(t,n,e);else if(t.tag===19)rx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ad(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ad(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jf(e,!0,n,null,i);break;case"together":jf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Hj(t,e,n){switch(e.tag){case 3:cT(e),Va();break;case 5:Ob(e);break;case 1:un(e.type)&&ed(e);break;case 4:_g(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ve(rd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?uT(t,e,n):(Ve(Ge,Ge.current&1),t=Br(t,e,n),t!==null?t.sibling:null);Ve(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,oT(t,e,n)}return Br(t,e,n)}var hT,Qm,fT,mT;hT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qm=function(){};fT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,xi(hr.current);var i=null;switch(n){case"input":s=ym(t,s),r=ym(t,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=wm(t,s),r=wm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xu)}bm(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ml.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ml.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Be("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};mT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Io(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wj(t,e,n){var r=e.pendingProps;switch(mg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return un(e.type)&&Zu(),Vt(e),null;case 3:return r=e.stateNode,Ua(),ze(cn),ze(Ht),Tg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(rp(Qn),Qn=null))),Qm(t,e),Vt(e),null;case 5:bg(e);var s=xi(Sl.current);if(n=e.type,t!==null&&e.stateNode!=null)fT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Vt(e),null}if(t=xi(hr.current),Jc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[lr]=e,r[kl]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Bo.length;s++)Be(Bo[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":h0(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":m0(r,i),Be("invalid",r)}bm(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Yc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Yc(r.textContent,l,t),s=["children",""+l]):ml.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",r)}switch(n){case"input":zc(r),f0(r,i,!0);break;case"textarea":zc(r),p0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[lr]=e,t[kl]=r,hT(t,e,!1,!1),e.stateNode=t;e:{switch(a=Tm(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<Bo.length;s++)Be(Bo[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":h0(t,r),s=ym(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),Be("invalid",t);break;case"textarea":m0(t,r),s=wm(t,r),Be("invalid",t);break;default:s=r}bm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?H_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pl(t,c):typeof c=="number"&&pl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ml.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",t):c!=null&&Zp(t,i,c,a))}switch(n){case"input":zc(t),f0(t,r,!1);break;case"textarea":zc(t),p0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ds(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ka(t,!!r.multiple,i,!1):r.defaultValue!=null&&ka(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Xu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)mT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=xi(Sl.current),xi(hr.current),Jc(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(i=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:Yc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Vt(e),null;case 13:if(ze(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&xn!==null&&e.mode&1&&!(e.flags&128))Pb(),Va(),e.flags|=98560,i=!1;else if(i=Jc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[lr]=e}else Va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),i=!1}else Qn!==null&&(rp(Qn),Qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?ft===0&&(ft=3):Dg())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Ua(),Qm(t,e),t===null&&bl(e.stateNode.containerInfo),Vt(e),null;case 10:return vg(e.type._context),Vt(e),null;case 17:return un(e.type)&&Zu(),Vt(e),null;case 19:if(ze(Ge),i=e.memoizedState,i===null)return Vt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Io(i,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ad(t),a!==null){for(e.flags|=128,Io(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ge,Ge.current&1|2),e.child}t=t.sibling}i.tail!==null&&rt()>za&&(e.flags|=128,r=!0,Io(i,!1),e.lanes=4194304)}else{if(!r)if(t=ad(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Io(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!qe)return Vt(e),null}else 2*rt()-i.renderingStartTime>za&&n!==1073741824&&(e.flags|=128,r=!0,Io(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=Ge.current,Ve(Ge,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return Mg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function Gj(t,e){switch(mg(e),e.tag){case 1:return un(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ua(),ze(cn),ze(Ht),Tg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bg(e),null;case 13:if(ze(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ge),null;case 4:return Ua(),null;case 10:return vg(e.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var eu=!1,zt=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,ne=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function Ym(t,e,n){try{n()}catch(r){et(t,e,r)}}var sx=!1;function Qj(t,e){if(Rm=Qu,t=xb(),hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===t)break t;if(p===n&&++d===s&&(l=a),p===i&&++h===r&&(c=a),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mm={focusedElem:t,selectionRange:n},Qu=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var E=b.memoizedProps,j=b.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?E:Gn(e.type,E),j);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(S){et(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return b=sx,sx=!1,b}function el(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ym(e,n,i)}s=s.next}while(s!==r)}}function rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pT(t){var e=t.alternate;e!==null&&(t.alternate=null,pT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[kl],delete e[Om],delete e[Cj],delete e[Pj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gT(t){return t.tag===5||t.tag===3||t.tag===4}function ix(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xu));else if(r!==4&&(t=t.child,t!==null))for(Xm(t,e,n),t=t.sibling;t!==null;)Xm(t,e,n),t=t.sibling}function Zm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zm(t,e,n),t=t.sibling;t!==null;)Zm(t,e,n),t=t.sibling}var Tt=null,Kn=!1;function ss(t,e,n){for(n=n.child;n!==null;)yT(t,e,n),n=n.sibling}function yT(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Qd,n)}catch{}switch(n.tag){case 5:zt||pa(n,e);case 6:var r=Tt,s=Kn;Tt=null,ss(t,e,n),Tt=r,Kn=s,Tt!==null&&(Kn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Kn?(t=Tt,n=n.stateNode,t.nodeType===8?bf(t.parentNode,n):t.nodeType===1&&bf(t,n),xl(t)):bf(Tt,n.stateNode));break;case 4:r=Tt,s=Kn,Tt=n.stateNode.containerInfo,Kn=!0,ss(t,e,n),Tt=r,Kn=s;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ym(n,e,a),s=s.next}while(s!==r)}ss(t,e,n);break;case 1:if(!zt&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){et(n,e,l)}ss(t,e,n);break;case 21:ss(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,ss(t,e,n),zt=r):ss(t,e,n);break;default:ss(t,e,n)}}function ax(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Kj),e.forEach(function(r){var s=sA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Tt=l.stateNode,Kn=!1;break e;case 3:Tt=l.stateNode.containerInfo,Kn=!0;break e;case 4:Tt=l.stateNode.containerInfo,Kn=!0;break e}l=l.return}if(Tt===null)throw Error(q(160));yT(i,a,s),Tt=null,Kn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){et(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vT(e,t),e=e.sibling}function vT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wn(e,t),ar(t),r&4){try{el(3,t,t.return),rh(3,t)}catch(E){et(t,t.return,E)}try{el(5,t,t.return)}catch(E){et(t,t.return,E)}}break;case 1:Wn(e,t),ar(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(Wn(e,t),ar(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var s=t.stateNode;try{pl(s,"")}catch(E){et(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&U_(s,i),Tm(l,a);var d=Tm(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?H_(s,f):h==="dangerouslySetInnerHTML"?$_(s,f):h==="children"?pl(s,f):Zp(s,h,f,d)}switch(l){case"input":vm(s,i);break;case"textarea":B_(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ka(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?ka(s,!!i.multiple,i.defaultValue,!0):ka(s,!!i.multiple,i.multiple?[]:"",!1))}s[kl]=i}catch(E){et(t,t.return,E)}}break;case 6:if(Wn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){et(t,t.return,E)}}break;case 3:if(Wn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xl(e.containerInfo)}catch(E){et(t,t.return,E)}break;case 4:Wn(e,t),ar(t);break;case 13:Wn(e,t),ar(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pg=rt())),r&4&&ax(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(d=zt)||h,Wn(e,t),zt=d):Wn(e,t),ar(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(f=ne=h;ne!==null;){switch(p=ne,x=p.child,p.tag){case 0:case 11:case 14:case 15:el(4,p,p.return);break;case 1:pa(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(E){et(r,n,E)}}break;case 5:pa(p,p.return);break;case 22:if(p.memoizedState!==null){lx(f);continue}}x!==null?(x.return=p,ne=x):lx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=q_("display",a))}catch(E){et(t,t.return,E)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(E){et(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wn(e,t),ar(t),r&4&&ax(t);break;case 21:break;default:Wn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gT(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pl(s,""),r.flags&=-33);var i=ix(t);Zm(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=ix(t);Xm(t,l,a);break;default:throw Error(q(161))}}catch(c){et(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yj(t,e,n){ne=t,xT(t)}function xT(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||eu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||zt;l=eu;var d=zt;if(eu=a,(zt=c)&&!d)for(ne=s;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?cx(s):c!==null?(c.return=a,ne=c):cx(s);for(;i!==null;)ne=i,xT(i),i=i.sibling;ne=s,eu=l,zt=d}ox(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):ox(t)}}function ox(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&H0(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}H0(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&xl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}zt||e.flags&512&&Jm(e)}catch(p){et(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function lx(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function cx(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rh(4,e)}catch(c){et(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){et(e,s,c)}}var i=e.return;try{Jm(e)}catch(c){et(e,i,c)}break;case 5:var a=e.return;try{Jm(e)}catch(c){et(e,a,c)}}}catch(c){et(e,e.return,c)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var Jj=Math.ceil,cd=Gr.ReactCurrentDispatcher,Ag=Gr.ReactCurrentOwner,Dn=Gr.ReactCurrentBatchConfig,Te=0,xt=null,ct=null,Nt=0,vn=0,ga=Hs(0),ft=0,Al=null,Ci=0,sh=0,Cg=0,tl=null,sn=null,Pg=0,za=1/0,Sr=null,ud=!1,ep=null,Ss=null,tu=!1,vs=null,dd=0,nl=0,tp=null,Iu=-1,ju=0;function Xt(){return Te&6?rt():Iu!==-1?Iu:Iu=rt()}function Ns(t){return t.mode&1?Te&2&&Nt!==0?Nt&-Nt:Mj.transition!==null?(ju===0&&(ju=rb()),ju):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:ub(t.type)),t):1}function Zn(t,e,n,r){if(50<nl)throw nl=0,tp=null,Error(q(185));Zl(t,n,r),(!(Te&2)||t!==xt)&&(t===xt&&(!(Te&2)&&(sh|=n),ft===4&&hs(t,Nt)),dn(t,r),n===1&&Te===0&&!(e.mode&1)&&(za=rt()+500,eh&&Ws()))}function dn(t,e){var n=t.callbackNode;MI(t,e);var r=Ku(t,t===xt?Nt:0);if(r===0)n!==null&&v0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v0(n),e===1)t.tag===0?Rj(ux.bind(null,t)):jb(ux.bind(null,t)),jj(function(){!(Te&6)&&Ws()}),n=null;else{switch(sb(r)){case 1:n=sg;break;case 4:n=tb;break;case 16:n=Gu;break;case 536870912:n=nb;break;default:n=Gu}n=NT(n,wT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wT(t,e){if(Iu=-1,ju=0,Te&6)throw Error(q(327));var n=t.callbackNode;if(ja()&&t.callbackNode!==n)return null;var r=Ku(t,t===xt?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hd(t,r);else{e=r;var s=Te;Te|=2;var i=bT();(xt!==t||Nt!==e)&&(Sr=null,za=rt()+500,Ti(t,e));do try{eA();break}catch(l){_T(t,l)}while(!0);yg(),cd.current=i,Te=s,ct!==null?e=0:(xt=null,Nt=0,e=ft)}if(e!==0){if(e===2&&(s=Im(t),s!==0&&(r=s,e=np(t,s))),e===1)throw n=Al,Ti(t,0),hs(t,r),dn(t,rt()),n;if(e===6)hs(t,r);else{if(s=t.current.alternate,!(r&30)&&!Xj(s)&&(e=hd(t,r),e===2&&(i=Im(t),i!==0&&(r=i,e=np(t,i))),e===1))throw n=Al,Ti(t,0),hs(t,r),dn(t,rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:di(t,sn,Sr);break;case 3:if(hs(t,r),(r&130023424)===r&&(e=Pg+500-rt(),10<e)){if(Ku(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lm(di.bind(null,t,sn,Sr),e);break}di(t,sn,Sr);break;case 4:if(hs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Xn(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jj(r/1960))-r,10<r){t.timeoutHandle=Lm(di.bind(null,t,sn,Sr),r);break}di(t,sn,Sr);break;case 5:di(t,sn,Sr);break;default:throw Error(q(329))}}}return dn(t,rt()),t.callbackNode===n?wT.bind(null,t):null}function np(t,e){var n=tl;return t.current.memoizedState.isDehydrated&&(Ti(t,e).flags|=256),t=hd(t,e),t!==2&&(e=sn,sn=n,e!==null&&rp(e)),t}function rp(t){sn===null?sn=t:sn.push.apply(sn,t)}function Xj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hs(t,e){for(e&=~Cg,e&=~sh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function ux(t){if(Te&6)throw Error(q(327));ja();var e=Ku(t,0);if(!(e&1))return dn(t,rt()),null;var n=hd(t,e);if(t.tag!==0&&n===2){var r=Im(t);r!==0&&(e=r,n=np(t,r))}if(n===1)throw n=Al,Ti(t,0),hs(t,e),dn(t,rt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,sn,Sr),dn(t,rt()),null}function Rg(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(za=rt()+500,eh&&Ws())}}function Pi(t){vs!==null&&vs.tag===0&&!(Te&6)&&ja();var e=Te;Te|=1;var n=Dn.transition,r=Ce;try{if(Dn.transition=null,Ce=1,t)return t()}finally{Ce=r,Dn.transition=n,Te=e,!(Te&6)&&Ws()}}function Mg(){vn=ga.current,ze(ga)}function Ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ij(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zu();break;case 3:Ua(),ze(cn),ze(Ht),Tg();break;case 5:bg(r);break;case 4:Ua();break;case 13:ze(Ge);break;case 19:ze(Ge);break;case 10:vg(r.type._context);break;case 22:case 23:Mg()}n=n.return}if(xt=t,ct=t=Is(t.current,null),Nt=vn=e,ft=0,Al=null,Cg=sh=Ci=0,sn=tl=null,vi!==null){for(e=0;e<vi.length;e++)if(n=vi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}vi=null}return t}function _T(t,e){do{var n=ct;try{if(yg(),Eu.current=ld,od){for(var r=Qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}od=!1}if(Ai=0,yt=ht=Qe=null,Zo=!1,Nl=0,Ag.current=null,n===null||n.return===null){ft=1,Al=e,ct=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=J0(a);if(x!==null){x.flags&=-257,X0(x,a,l,i,e),x.mode&1&&Y0(i,d,e),e=x,c=d;var b=e.updateQueue;if(b===null){var E=new Set;E.add(c),e.updateQueue=E}else b.add(c);break e}else{if(!(e&1)){Y0(i,d,e),Dg();break e}c=Error(q(426))}}else if(qe&&l.mode&1){var j=J0(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),X0(j,a,l,i,e),pg(Ba(c,l));break e}}i=c=Ba(c,l),ft!==4&&(ft=2),tl===null?tl=[i]:tl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=sT(i,c,e);q0(i,T);break e;case 1:l=c;var v=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ss===null||!Ss.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=iT(i,l,e);q0(i,S);break e}}i=i.return}while(i!==null)}kT(n)}catch(D){e=D,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function bT(){var t=cd.current;return cd.current=ld,t===null?ld:t}function Dg(){(ft===0||ft===3||ft===2)&&(ft=4),xt===null||!(Ci&268435455)&&!(sh&268435455)||hs(xt,Nt)}function hd(t,e){var n=Te;Te|=2;var r=bT();(xt!==t||Nt!==e)&&(Sr=null,Ti(t,e));do try{Zj();break}catch(s){_T(t,s)}while(!0);if(yg(),Te=n,cd.current=r,ct!==null)throw Error(q(261));return xt=null,Nt=0,ft}function Zj(){for(;ct!==null;)TT(ct)}function eA(){for(;ct!==null&&!EI();)TT(ct)}function TT(t){var e=ST(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?kT(t):ct=e,Ag.current=null}function kT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gj(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ct=null;return}}else if(n=Wj(n,e,vn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);ft===0&&(ft=5)}function di(t,e,n){var r=Ce,s=Dn.transition;try{Dn.transition=null,Ce=1,tA(t,e,n,r)}finally{Dn.transition=s,Ce=r}return null}function tA(t,e,n,r){do ja();while(vs!==null);if(Te&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(DI(t,i),t===xt&&(ct=xt=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tu||(tu=!0,NT(Gu,function(){return ja(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var a=Ce;Ce=1;var l=Te;Te|=4,Ag.current=null,Qj(t,n),vT(n,t),_j(Mm),Qu=!!Rm,Mm=Rm=null,t.current=n,Yj(n),SI(),Te=l,Ce=a,Dn.transition=i}else t.current=n;if(tu&&(tu=!1,vs=t,dd=s),i=t.pendingLanes,i===0&&(Ss=null),jI(n.stateNode),dn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ud)throw ud=!1,t=ep,ep=null,t;return dd&1&&t.tag!==0&&ja(),i=t.pendingLanes,i&1?t===tp?nl++:(nl=0,tp=t):nl=0,Ws(),null}function ja(){if(vs!==null){var t=sb(dd),e=Dn.transition,n=Ce;try{if(Dn.transition=null,Ce=16>t?16:t,vs===null)var r=!1;else{if(t=vs,vs=null,dd=0,Te&6)throw Error(q(331));var s=Te;for(Te|=4,ne=t.current;ne!==null;){var i=ne,a=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ne=d;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:el(8,h,i)}var f=h.child;if(f!==null)f.return=h,ne=f;else for(;ne!==null;){h=ne;var p=h.sibling,x=h.return;if(pT(h),h===d){ne=null;break}if(p!==null){p.return=x,ne=p;break}ne=x}}}var b=i.alternate;if(b!==null){var E=b.child;if(E!==null){b.child=null;do{var j=E.sibling;E.sibling=null,E=j}while(E!==null)}}ne=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ne=a;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:el(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,ne=T;break e}ne=i.return}}var v=t.current;for(ne=v;ne!==null;){a=ne;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,ne=g;else e:for(a=v;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rh(9,l)}}catch(D){et(l,l.return,D)}if(l===a){ne=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ne=S;break e}ne=l.return}}if(Te=s,Ws(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Qd,t)}catch{}r=!0}return r}finally{Ce=n,Dn.transition=e}}return!1}function dx(t,e,n){e=Ba(n,e),e=sT(t,e,1),t=Es(t,e,1),e=Xt(),t!==null&&(Zl(t,1,e),dn(t,e))}function et(t,e,n){if(t.tag===3)dx(t,t,n);else for(;e!==null;){if(e.tag===3){dx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ss===null||!Ss.has(r))){t=Ba(n,t),t=iT(e,t,1),e=Es(e,t,1),t=Xt(),e!==null&&(Zl(e,1,t),dn(e,t));break}}e=e.return}}function nA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Nt&n)===n&&(ft===4||ft===3&&(Nt&130023424)===Nt&&500>rt()-Pg?Ti(t,0):Cg|=n),dn(t,e)}function ET(t,e){e===0&&(t.mode&1?(e=Hc,Hc<<=1,!(Hc&130023424)&&(Hc=4194304)):e=1);var n=Xt();t=Ur(t,e),t!==null&&(Zl(t,e,n),dn(t,n))}function rA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ET(t,n)}function sA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),ET(t,n)}var ST;ST=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,Hj(t,e,n);ln=!!(t.flags&131072)}else ln=!1,qe&&e.flags&1048576&&Ab(e,nd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nu(t,e),t=e.pendingProps;var s=Oa(e,Ht.current);Ia(e,n),s=Eg(null,e,r,t,s,n);var i=Sg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(i=!0,ed(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wg(e),s.updater=nh,e.stateNode=s,s._reactInternals=e,$m(e,r,t,n),e=Wm(null,e,r,!0,i,n)):(e.tag=0,qe&&i&&fg(e),Yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=aA(r),t=Gn(r,t),s){case 0:e=Hm(null,e,r,t,n);break e;case 1:e=tx(null,e,r,t,n);break e;case 11:e=Z0(null,e,r,t,n);break e;case 14:e=ex(null,e,r,Gn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),Hm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),tx(t,e,r,s,n);case 3:e:{if(cT(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Lb(t,e),id(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ba(Error(q(423)),e),e=nx(t,e,r,n,s);break e}else if(r!==s){s=Ba(Error(q(424)),e),e=nx(t,e,r,n,s);break e}else for(xn=ks(e.stateNode.containerInfo.firstChild),_n=e,qe=!0,Qn=null,n=Mb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Va(),r===s){e=Br(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return Ob(e),t===null&&Um(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Dm(r,s)?a=null:i!==null&&Dm(r,i)&&(e.flags|=32),lT(t,e),Yt(t,e,a,n),e.child;case 6:return t===null&&Um(e),null;case 13:return uT(t,e,n);case 4:return _g(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fa(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),Z0(t,e,r,s,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ve(rd,r._currentValue),r._currentValue=a,i!==null)if(er(i.value,a)){if(i.children===s.children&&!cn.current){e=Br(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Mr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Bm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(q(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Bm(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ia(e,n),s=On(s),r=r(s),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,s=Gn(r,e.pendingProps),s=Gn(r.type,s),ex(t,e,r,s,n);case 15:return aT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),Nu(t,e),e.tag=1,un(r)?(t=!0,ed(e)):t=!1,Ia(e,n),rT(e,r,s),$m(e,r,s,n),Wm(null,e,r,!0,t,n);case 19:return dT(t,e,n);case 22:return oT(t,e,n)}throw Error(q(156,e.tag))};function NT(t,e){return eb(t,e)}function iA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new iA(t,e,n,r)}function Lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aA(t){if(typeof t=="function")return Lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tg)return 11;if(t===ng)return 14}return 2}function Is(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Au(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Lg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case aa:return ki(n.children,s,i,e);case eg:a=8,s|=8;break;case fm:return t=Mn(12,n,e,s|2),t.elementType=fm,t.lanes=i,t;case mm:return t=Mn(13,n,e,s),t.elementType=mm,t.lanes=i,t;case pm:return t=Mn(19,n,e,s),t.elementType=pm,t.lanes=i,t;case O_:return ih(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D_:a=10;break e;case L_:a=9;break e;case tg:a=11;break e;case ng:a=14;break e;case os:a=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Mn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ki(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function ih(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=O_,t.lanes=n,t.stateNode={isHidden:!1},t}function Af(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function Cf(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=df(0),this.expirationTimes=df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=df(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Og(t,e,n,r,s,i,a,l,c){return t=new oA(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(i),t}function lA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IT(t){if(!t)return Ls;t=t._reactInternals;e:{if(zi(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(un(n))return Ib(t,n,e)}return e}function jT(t,e,n,r,s,i,a,l,c){return t=Og(n,r,!0,t,s,i,a,l,c),t.context=IT(null),n=t.current,r=Xt(),s=Ns(n),i=Mr(r,s),i.callback=e??null,Es(n,i,s),t.current.lanes=s,Zl(t,s,r),dn(t,r),t}function ah(t,e,n,r){var s=e.current,i=Xt(),a=Ns(s);return n=IT(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Es(s,e,a),t!==null&&(Zn(t,s,a,i),ku(t,s,a)),a}function fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vg(t,e){hx(t,e),(t=t.alternate)&&hx(t,e)}function cA(){return null}var AT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fg(t){this._internalRoot=t}oh.prototype.render=Fg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));ah(t,e,null,null)};oh.prototype.unmount=Fg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pi(function(){ah(null,t,null,null)}),e[Fr]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ob();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ds.length&&e!==0&&e<ds[n].priority;n++);ds.splice(n,0,t),n===0&&cb(t)}};function Ug(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fx(){}function uA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=fd(a);i.call(d)}}var a=jT(e,r,t,0,null,!1,!1,"",fx);return t._reactRootContainer=a,t[Fr]=a.current,bl(t.nodeType===8?t.parentNode:t),Pi(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=fd(c);l.call(d)}}var c=Og(t,0,!1,null,null,!1,!1,"",fx);return t._reactRootContainer=c,t[Fr]=c.current,bl(t.nodeType===8?t.parentNode:t),Pi(function(){ah(e,c,n,r)}),c}function ch(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=fd(a);l.call(c)}}ah(e,a,t,s)}else a=uA(n,e,t,s,r);return fd(a)}ib=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uo(e.pendingLanes);n!==0&&(ig(e,n|1),dn(e,rt()),!(Te&6)&&(za=rt()+500,Ws()))}break;case 13:Pi(function(){var r=Ur(t,1);if(r!==null){var s=Xt();Zn(r,t,1,s)}}),Vg(t,1)}};ag=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=Xt();Zn(e,t,134217728,n)}Vg(t,134217728)}};ab=function(t){if(t.tag===13){var e=Ns(t),n=Ur(t,e);if(n!==null){var r=Xt();Zn(n,t,e,r)}Vg(t,e)}};ob=function(){return Ce};lb=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Em=function(t,e,n){switch(e){case"input":if(vm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Zd(r);if(!s)throw Error(q(90));F_(r),vm(r,s)}}}break;case"textarea":B_(t,n);break;case"select":e=n.value,e!=null&&ka(t,!!n.multiple,e,!1)}};K_=Rg;Q_=Pi;var dA={usingClientEntryPoint:!1,Events:[tc,ua,Zd,W_,G_,Rg]},jo={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hA={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X_(t),t===null?null:t.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance||cA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Qd=nu.inject(hA),dr=nu}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dA;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ug(e))throw Error(q(200));return lA(t,e,null,n)};Nn.createRoot=function(t,e){if(!Ug(t))throw Error(q(299));var n=!1,r="",s=AT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Og(t,1,!1,null,null,n,!1,r,s),t[Fr]=e.current,bl(t.nodeType===8?t.parentNode:t),new Fg(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=X_(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Pi(t)};Nn.hydrate=function(t,e,n){if(!lh(e))throw Error(q(200));return ch(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!Ug(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=AT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=jT(e,null,t,1,n??null,s,!1,i,a),t[Fr]=e.current,bl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new oh(e)};Nn.render=function(t,e,n){if(!lh(e))throw Error(q(200));return ch(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!lh(t))throw Error(q(40));return t._reactRootContainer?(Pi(function(){ch(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};Nn.unstable_batchedUpdates=Rg;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return ch(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function CT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CT)}catch(t){console.error(t)}}CT(),C_.exports=Nn;var fA=C_.exports,PT,mx=fA;PT=mx.createRoot,mx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cl.apply(this,arguments)}var xs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xs||(xs={}));const px="popstate";function mA(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return sp("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:md(s)}return gA(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pA(){return Math.random().toString(36).substr(2,8)}function gx(t,e){return{usr:t.state,key:t.key,idx:e}}function sp(t,e,n,r){return n===void 0&&(n=null),Cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?to(e):e,{state:n,key:e&&e.key||r||pA()})}function md(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function to(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=xs.Pop,c=null,d=h();d==null&&(d=0,a.replaceState(Cl({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=xs.Pop;let j=h(),T=j==null?null:j-d;d=j,c&&c({action:l,location:E.location,delta:T})}function p(j,T){l=xs.Push;let v=sp(E.location,j,T);d=h()+1;let g=gx(v,d),S=E.createHref(v);try{a.pushState(g,"",S)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(S)}i&&c&&c({action:l,location:E.location,delta:1})}function x(j,T){l=xs.Replace;let v=sp(E.location,j,T);d=h();let g=gx(v,d),S=E.createHref(v);a.replaceState(g,"",S),i&&c&&c({action:l,location:E.location,delta:0})}function b(j){let T=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof j=="string"?j:md(j);return v=v.replace(/ $/,"%20"),at(T,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,T)}let E={get action(){return l},get location(){return t(s,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(px,f),c=j,()=>{s.removeEventListener(px,f),c=null}},createHref(j){return e(s,j)},createURL:b,encodeLocation(j){let T=b(j);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:x,go(j){return a.go(j)}};return E}var yx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yx||(yx={}));function yA(t,e,n){return n===void 0&&(n="/"),vA(t,e,n,!1)}function vA(t,e,n,r){let s=typeof e=="string"?to(e):e,i=Bg(s.pathname||"/",n);if(i==null)return null;let a=MT(t);xA(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=AA(i);l=IA(a[c],d,r)}return l}function MT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(at(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=js([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),MT(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:SA(d,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of DT(i.path))s(i,a,c)}),e}function DT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=DT(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function xA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wA=/^:[\w-]+$/,_A=3,bA=2,TA=1,kA=10,EA=-2,vx=t=>t==="*";function SA(t,e){let n=t.split("/"),r=n.length;return n.some(vx)&&(r+=EA),e&&(r+=bA),n.filter(s=>!vx(s)).reduce((s,i)=>s+(wA.test(i)?_A:i===""?TA:kA),r)}function NA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function IA(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=xx({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=xx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:js([i,f.pathname]),pathnameBase:MA(js([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=js([i,f.pathnameBase]))}return a}function xx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:x}=h;if(p==="*"){let E=l[f]||"";a=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const b=l[f];return x&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function jA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),RT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function AA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?to(t):t;return{pathname:n?n.startsWith("/")?n:PA(n,e):e,search:DA(r),hash:LA(s)}}function PA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Pf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zg(t,e){let n=RA(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $g(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=to(t):(s=Cl({},t),at(!s.pathname||!s.pathname.includes("?"),Pf("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Pf("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Pf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=CA(s,l),d=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const js=t=>t.join("/").replace(/\/\/+/g,"/"),MA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LT=["post","put","patch","delete"];new Set(LT);const VA=["get",...LT];new Set(VA);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}const qg=A.createContext(null),FA=A.createContext(null),Gs=A.createContext(null),uh=A.createContext(null),Kr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),OT=A.createContext(null);function UA(t,e){let{relative:n}=e===void 0?{}:e;no()||at(!1);let{basename:r,navigator:s}=A.useContext(Gs),{hash:i,pathname:a,search:l}=UT(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:js([r,a])),s.createHref({pathname:c,search:l,hash:i})}function no(){return A.useContext(uh)!=null}function Ks(){return no()||at(!1),A.useContext(uh).location}function VT(t){A.useContext(Gs).static||A.useLayoutEffect(t)}function Qs(){let{isDataRoute:t}=A.useContext(Kr);return t?ZA():BA()}function BA(){no()||at(!1);let t=A.useContext(qg),{basename:e,future:n,navigator:r}=A.useContext(Gs),{matches:s}=A.useContext(Kr),{pathname:i}=Ks(),a=JSON.stringify(zg(s,n.v7_relativeSplatPath)),l=A.useRef(!1);return VT(()=>{l.current=!0}),A.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=$g(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:js([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,i,t])}function FT(){let{matches:t}=A.useContext(Kr),e=t[t.length-1];return e?e.params:{}}function UT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(Gs),{matches:s}=A.useContext(Kr),{pathname:i}=Ks(),a=JSON.stringify(zg(s,r.v7_relativeSplatPath));return A.useMemo(()=>$g(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function zA(t,e){return $A(t,e)}function $A(t,e,n,r){no()||at(!1);let{navigator:s,static:i}=A.useContext(Gs),{matches:a}=A.useContext(Kr),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=Ks(),f;if(e){var p;let T=typeof e=="string"?to(e):e;d==="/"||(p=T.pathname)!=null&&p.startsWith(d)||at(!1),f=T}else f=h;let x=f.pathname||"/",b=x;if(d!=="/"){let T=d.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=!i&&n&&n.matches&&n.matches.length>0?n.matches:yA(t,{pathname:b}),j=KA(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:js([d,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:js([d,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,n,r);return e&&j?A.createElement(uh.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:xs.Pop}},j):j}function qA(){let t=XA(),e=OA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,null)}const HA=A.createElement(qA,null);class WA extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Kr.Provider,{value:this.props.routeContext},A.createElement(OT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GA(t){let{routeContext:e,match:n,children:r}=t,s=A.useContext(qg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Kr.Provider,{value:e},r)}function KA(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||at(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:x}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let x,b=!1,E=null,j=null;n&&(x=l&&f.route.id?l[f.route.id]:void 0,E=f.route.errorElement||HA,c&&(d<0&&p===0?(b=!0,j=null):d===p&&(b=!0,j=f.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,p+1)),v=()=>{let g;return x?g=E:b?g=j:f.route.Component?g=A.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=h,A.createElement(GA,{match:f,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?A.createElement(WA,{location:n.location,revalidation:n.revalidation,component:E,error:x,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):v()},null)}var BT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BT||{}),pd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pd||{});function QA(t){let e=A.useContext(qg);return e||at(!1),e}function YA(t){let e=A.useContext(FA);return e||at(!1),e}function JA(t){let e=A.useContext(Kr);return e||at(!1),e}function zT(t){let e=JA(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function XA(){var t;let e=A.useContext(OT),n=YA(pd.UseRouteError),r=zT(pd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ZA(){let{router:t}=QA(BT.UseNavigateStable),e=zT(pd.UseNavigateStable),n=A.useRef(!1);return VT(()=>{n.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Pl({fromRouteId:e},i)))},[t,e])}function eC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function tC(t){let{to:e,replace:n,state:r,relative:s}=t;no()||at(!1);let{future:i,static:a}=A.useContext(Gs),{matches:l}=A.useContext(Kr),{pathname:c}=Ks(),d=Qs(),h=$g(e,zg(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return A.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function yn(t){at(!1)}function nC(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xs.Pop,navigator:i,static:a=!1,future:l}=t;no()&&at(!1);let c=e.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:a,future:Pl({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=to(r));let{pathname:h="/",search:f="",hash:p="",state:x=null,key:b="default"}=r,E=A.useMemo(()=>{let j=Bg(h,c);return j==null?null:{location:{pathname:j,search:f,hash:p,state:x,key:b},navigationType:s}},[c,h,f,p,x,b,s]);return E==null?null:A.createElement(Gs.Provider,{value:d},A.createElement(uh.Provider,{children:n,value:E}))}function rC(t){let{children:e,location:n}=t;return zA(ip(e),n)}new Promise(()=>{});function ip(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let i=[...e,s];if(r.type===A.Fragment){n.push.apply(n,ip(r.props.children,i));return}r.type!==yn&&at(!1),!r.props.index||!r.props.children||at(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ip(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}function sC(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function iC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aC(t,e){return t.button===0&&(!e||e==="_self")&&!iC(t)}const oC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lC="6";try{window.__reactRouterVersion=lC}catch{}const cC="startTransition",wx=nI[cC];function uC(t){let{basename:e,children:n,future:r,window:s}=t,i=A.useRef();i.current==null&&(i.current=mA({window:s,v5Compat:!0}));let a=i.current,[l,c]=A.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},h=A.useCallback(f=>{d&&wx?wx(()=>c(f)):c(f)},[c,d]);return A.useLayoutEffect(()=>a.listen(h),[a,h]),A.useEffect(()=>eC(r),[r]),A.createElement(nC,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const dC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=A.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,p=sC(e,oC),{basename:x}=A.useContext(Gs),b,E=!1;if(typeof d=="string"&&hC.test(d)&&(b=d,dC))try{let g=new URL(window.location.href),S=d.startsWith("//")?new URL(g.protocol+d):new URL(d),D=Bg(S.pathname,x);S.origin===g.origin&&D!=null?d=D+S.search+S.hash:E=!0}catch{}let j=UA(d,{relative:s}),T=fC(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function v(g){r&&r(g),g.defaultPrevented||T(g)}return A.createElement("a",ap({},p,{href:b||j,onClick:E||i?r:v,ref:n,target:c}))});var _x;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_x||(_x={}));var bx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bx||(bx={}));function fC(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Qs(),d=Ks(),h=UT(t,{relative:a});return A.useCallback(f=>{if(aC(f,n)){f.preventDefault();let p=r!==void 0?r:md(d)===md(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,h,r,s,n,t,i,a,l])}const $T=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),dh=A.createContext({}),hh=A.createContext(null),fh=typeof document<"u",Hg=fh?A.useLayoutEffect:A.useEffect,qT=A.createContext({strict:!1}),Wg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),mC="framerAppearId",HT="data-"+Wg(mC);function pC(t,e,n,r){const{visualElement:s}=A.useContext(dh),i=A.useContext(qT),a=A.useContext(hh),l=A.useContext($T).reducedMotion,c=A.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;A.useInsertionEffect(()=>{d&&d.update(n,a)});const h=A.useRef(!!(n[HT]&&!window.HandoffComplete));return Hg(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),A.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function ya(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gC(t,e,n){return A.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ya(n)&&(n.current=r))},[e])}function Rl(t){return typeof t=="string"||Array.isArray(t)}function mh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kg=["initial",...Gg];function ph(t){return mh(t.animate)||Kg.some(e=>Rl(t[e]))}function WT(t){return!!(ph(t)||t.variants)}function yC(t,e){if(ph(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Rl(n)?n:void 0,animate:Rl(r)?r:void 0}}return t.inherit!==!1?e:{}}function vC(t){const{initial:e,animate:n}=yC(t,A.useContext(dh));return A.useMemo(()=>({initial:e,animate:n}),[Tx(e),Tx(n)])}function Tx(t){return Array.isArray(t)?t.join(" "):t}const kx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ml={};for(const t in kx)Ml[t]={isEnabled:e=>kx[t].some(n=>!!e[n])};function xC(t){for(const e in t)Ml[e]={...Ml[e],...t[e]}}const Qg=A.createContext({}),GT=A.createContext({}),wC=Symbol.for("motionComponentSymbol");function _C({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&xC(t);function i(l,c){let d;const h={...A.useContext($T),...l,layoutId:bC(l)},{isStatic:f}=h,p=vC(l),x=r(l,f);if(!f&&fh){p.visualElement=pC(s,x,h,e);const b=A.useContext(GT),E=A.useContext(qT).strict;p.visualElement&&(d=p.visualElement.loadFeatures(h,E,t,b))}return A.createElement(dh.Provider,{value:p},d&&p.visualElement?A.createElement(d,{visualElement:p.visualElement,...h}):null,n(s,l,gC(x,p.visualElement,c),x,f,p.visualElement))}const a=A.forwardRef(i);return a[wC]=s,a}function bC({layoutId:t}){const e=A.useContext(Qg).id;return e&&t!==void 0?e+"-"+t:t}function TC(t){function e(r,s={}){return _C(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const kC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yg(t){return typeof t!="string"||t.includes("-")?!1:!!(kC.indexOf(t)>-1||/[A-Z]/.test(t))}const gd={};function EC(t){Object.assign(gd,t)}const rc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$i=new Set(rc);function KT(t,{layout:e,layoutId:n}){return $i.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gd[t]||t==="opacity")}const pn=t=>!!(t&&t.getVelocity),SC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NC=rc.length;function IC(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<NC;a++){const l=rc[a];if(t[l]!==void 0){const c=SC[l]||l;i+=`${c}(${t[l]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const QT=t=>e=>typeof e=="string"&&e.startsWith(t),YT=QT("--"),op=QT("var(--"),jC=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,AC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Os=(t,e,n)=>Math.min(Math.max(n,t),e),qi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rl={...qi,transform:t=>Os(0,1,t)},ru={...qi,default:1},sl=t=>Math.round(t*1e5)/1e5,gh=/(-)?([\d]*\.?[\d])+/g,JT=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,CC=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function sc(t){return typeof t=="string"}const ic=t=>({test:e=>sc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),as=ic("deg"),fr=ic("%"),de=ic("px"),PC=ic("vh"),RC=ic("vw"),Ex={...fr,parse:t=>fr.parse(t)/100,transform:t=>fr.transform(t*100)},Sx={...qi,transform:Math.round},XT={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:as,rotateX:as,rotateY:as,rotateZ:as,scale:ru,scaleX:ru,scaleY:ru,scaleZ:ru,skew:as,skewX:as,skewY:as,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:rl,originX:Ex,originY:Ex,originZ:de,zIndex:Sx,fillOpacity:rl,strokeOpacity:rl,numOctaves:Sx};function Jg(t,e,n,r){const{style:s,vars:i,transform:a,transformOrigin:l}=t;let c=!1,d=!1,h=!0;for(const f in e){const p=e[f];if(YT(f)){i[f]=p;continue}const x=XT[f],b=AC(p,x);if($i.has(f)){if(c=!0,a[f]=b,!h)continue;p!==(x.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,l[f]=b):s[f]=b}if(e.transform||(c||r?s.transform=IC(t.transform,n,h,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:x=0}=l;s.transformOrigin=`${f} ${p} ${x}`}}const Xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZT(t,e,n){for(const r in e)!pn(e[r])&&!KT(r,n)&&(t[r]=e[r])}function MC({transformTemplate:t},e,n){return A.useMemo(()=>{const r=Xg();return Jg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function DC(t,e,n){const r=t.style||{},s={};return ZT(s,r,t),Object.assign(s,MC(t,e,n)),t.transformValues?t.transformValues(s):s}function LC(t,e,n){const r={},s=DC(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const OC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OC.has(t)}let ek=t=>!yd(t);function VC(t){t&&(ek=e=>e.startsWith("on")?!yd(e):t(e))}try{VC(require("@emotion/is-prop-valid").default)}catch{}function FC(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(ek(s)||n===!0&&yd(s)||!e&&!yd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Nx(t,e,n){return typeof t=="string"?t:de.transform(e+n*t)}function UC(t,e,n){const r=Nx(e,t.x,t.width),s=Nx(n,t.y,t.height);return`${r} ${s}`}const BC={offset:"stroke-dashoffset",array:"stroke-dasharray"},zC={offset:"strokeDashoffset",array:"strokeDasharray"};function $C(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?BC:zC;t[i.offset]=de.transform(-r);const a=de.transform(e),l=de.transform(n);t[i.array]=`${a} ${l}`}function Zg(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},h,f,p){if(Jg(t,d,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:b,dimensions:E}=t;x.transform&&(E&&(b.transform=x.transform),delete x.transform),E&&(s!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=UC(E,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),a!==void 0&&$C(x,a,l,c,!1)}const tk=()=>({...Xg(),attrs:{}}),ey=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qC(t,e,n,r){const s=A.useMemo(()=>{const i=tk();return Zg(i,e,{enableHardwareAcceleration:!1},ey(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};ZT(i,t.style,t),s.style={...i,...s.style}}return s}function HC(t=!1){return(n,r,s,{latestValues:i},a)=>{const c=(Yg(n)?qC:LC)(r,i,a,n),h={...FC(r,typeof n=="string",t),...c,ref:s},{children:f}=r,p=A.useMemo(()=>pn(f)?f.get():f,[f]);return A.createElement(n,{...h,children:p})}}function nk(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const rk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sk(t,e,n,r){nk(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(rk.has(s)?s:Wg(s),e.attrs[s])}function ty(t,e){const{style:n}=t,r={};for(const s in n)(pn(n[s])||e.style&&pn(e.style[s])||KT(s,t))&&(r[s]=n[s]);return r}function ik(t,e){const n=ty(t,e);for(const r in t)if(pn(t[r])||pn(e[r])){const s=rc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function ny(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function ak(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const vd=t=>Array.isArray(t),WC=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),GC=t=>vd(t)?t[t.length-1]||0:t;function Cu(t){const e=pn(t)?t.get():t;return WC(e)?e.toValue():e}function KC({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const a={latestValues:QC(r,s,i,t),renderState:e()};return n&&(a.mount=l=>n(r,l,a)),a}const ok=t=>(e,n)=>{const r=A.useContext(dh),s=A.useContext(hh),i=()=>KC(t,e,r,s);return n?i():ak(i)};function QC(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Cu(i[p]);let{initial:a,animate:l}=t;const c=ph(t),d=WT(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const f=h?l:a;return f&&typeof f!="boolean"&&!mh(f)&&(Array.isArray(f)?f:[f]).forEach(x=>{const b=ny(t,x);if(!b)return;const{transitionEnd:E,transition:j,...T}=b;for(const v in T){let g=T[v];if(Array.isArray(g)){const S=h?g.length-1:0;g=g[S]}g!==null&&(s[v]=g)}for(const v in E)s[v]=E[v]}),s}const st=t=>t;class Ix{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function YC(t){let e=new Ix,n=new Ix,r=0,s=!1,i=!1;const a=new WeakSet,l={schedule:(c,d=!1,h=!1)=>{const f=h&&s,p=f?e:n;return d&&a.add(c),p.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(c),a.has(h)&&(l.schedule(h),t())}s=!1,i&&(i=!1,l.process(c))}};return l}const su=["prepare","read","update","preRender","render","postRender"],JC=40;function XC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=su.reduce((f,p)=>(f[p]=YC(()=>n=!0),f),{}),a=f=>i[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,JC),1),s.timestamp=f,s.isProcessing=!0,su.forEach(a),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:su.reduce((f,p)=>{const x=i[p];return f[p]=(b,E=!1,j=!1)=>(n||c(),x.schedule(b,E,j)),f},{}),cancel:f=>su.forEach(p=>i[p].cancel(f)),state:s,steps:i}}const{schedule:Fe,cancel:zr,state:Ut,steps:Rf}=XC(typeof requestAnimationFrame<"u"?requestAnimationFrame:st,!0),ZC={useVisualState:ok({scrapeMotionValuesFromProps:ik,createRenderState:tk,onMount:(t,e,{renderState:n,latestValues:r})=>{Fe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Fe.render(()=>{Zg(n,r,{enableHardwareAcceleration:!1},ey(e.tagName),t.transformTemplate),sk(e,n)})}})},eP={useVisualState:ok({scrapeMotionValuesFromProps:ty,createRenderState:Xg})};function tP(t,{forwardMotionProps:e=!1},n,r){return{...Yg(t)?ZC:eP,preloadedFeatures:n,useRender:HC(e),createVisualElement:r,Component:t}}function Ar(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const lk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function yh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const nP=t=>e=>lk(e)&&t(e,yh(e));function Dr(t,e,n,r){return Ar(t,e,nP(n),r)}const rP=(t,e)=>n=>e(t(n)),As=(...t)=>t.reduce(rP);function ck(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const jx=ck("dragHorizontal"),Ax=ck("dragVertical");function uk(t){let e=!1;if(t==="y")e=Ax();else if(t==="x")e=jx();else{const n=jx(),r=Ax();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function dk(){const t=uk(!0);return t?(t(),!1):!0}class Ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Cx(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||dk())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Fe.update(()=>l[r](i,a))};return Dr(t.current,n,s,{passive:!t.getProps()[r]})}class sP extends Ys{mount(){this.unmount=As(Cx(this.node,!0),Cx(this.node,!1))}unmount(){}}class iP extends Ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=As(Ar(this.node.current,"focus",()=>this.onFocus()),Ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const hk=(t,e)=>e?t===e?!0:hk(t,e.parentElement):!1;function Mf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,yh(n))}class aP extends Ys{constructor(){super(...arguments),this.removeStartListeners=st,this.removeEndListeners=st,this.removeAccessibleListeners=st,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Dr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();Fe.update(()=>{!f&&!hk(this.node.current,l.target)?h&&h(l,c):d&&d(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=Dr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=As(i,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Mf("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&Fe.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=Ar(this.node.current,"keyup",a),Mf("down",(l,c)=>{this.startPress(l,c)})},n=Ar(this.node.current,"keydown",e),r=()=>{this.isPressing&&Mf("cancel",(i,a)=>this.cancelPress(i,a))},s=Ar(this.node.current,"blur",r);this.removeAccessibleListeners=As(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Fe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dk()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Fe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Dr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ar(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=As(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const lp=new WeakMap,Df=new WeakMap,oP=t=>{const e=lp.get(t.target);e&&e(t)},lP=t=>{t.forEach(oP)};function cP({root:t,...e}){const n=t||document;Df.has(n)||Df.set(n,{});const r=Df.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(lP,{root:t,...e})),r[s]}function uP(t,e,n){const r=cP(e);return lp.set(t,n),r.observe(t),()=>{lp.delete(t),r.unobserve(t)}}const dP={some:0,all:1};class hP extends Ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:dP[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(c)};return uP(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(fP(e,n))&&this.startObserver()}unmount(){}}function fP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mP={inView:{Feature:hP},tap:{Feature:aP},focus:{Feature:iP},hover:{Feature:sP}};function fk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function pP(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function gP(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function vh(t,e,n){const r=t.getProps();return ny(r,e,n!==void 0?n:r.custom,pP(t),gP(t))}let xd=st;const Ei=t=>t*1e3,Lr=t=>t/1e3,yP={current:!1},mk=t=>Array.isArray(t)&&typeof t[0]=="number";function pk(t){return!!(!t||typeof t=="string"&&gk[t]||mk(t)||Array.isArray(t)&&t.every(pk))}const zo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zo([0,.65,.55,1]),circOut:zo([.55,0,1,.45]),backIn:zo([.31,.01,.66,-.59]),backOut:zo([.33,1.53,.69,.99])};function yk(t){if(t)return mk(t)?zo(t):Array.isArray(t)?t.map(yk):gk[t]}function vP(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:l,times:c}={}){const d={[e]:n};c&&(d.offset=c);const h=yk(l);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function xP(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const vk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wP=1e-7,_P=12;function bP(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=vk(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>wP&&++l<_P);return a}function ac(t,e,n,r){if(t===e&&n===r)return st;const s=i=>bP(i,0,1,t,n);return i=>i===0||i===1?i:vk(s(i),e,r)}const TP=ac(.42,0,1,1),kP=ac(0,0,.58,1),xk=ac(.42,0,.58,1),EP=t=>Array.isArray(t)&&typeof t[0]!="number",wk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_k=t=>e=>1-t(1-e),ry=t=>1-Math.sin(Math.acos(t)),bk=_k(ry),SP=wk(ry),Tk=ac(.33,1.53,.69,.99),sy=_k(Tk),NP=wk(sy),IP=t=>(t*=2)<1?.5*sy(t):.5*(2-Math.pow(2,-10*(t-1))),Px={linear:st,easeIn:TP,easeInOut:xk,easeOut:kP,circIn:ry,circInOut:SP,circOut:bk,backIn:sy,backInOut:NP,backOut:Tk,anticipate:IP},Rx=t=>{if(Array.isArray(t)){xd(t.length===4);const[e,n,r,s]=t;return ac(e,n,r,s)}else if(typeof t=="string")return xd(Px[t]!==void 0),Px[t];return t},iy=(t,e)=>n=>!!(sc(n)&&CC.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),kk=(t,e,n)=>r=>{if(!sc(r))return r;const[s,i,a,l]=r.match(gh);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},jP=t=>Os(0,255,t),Lf={...qi,transform:t=>Math.round(jP(t))},wi={test:iy("rgb","red"),parse:kk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Lf.transform(t)+", "+Lf.transform(e)+", "+Lf.transform(n)+", "+sl(rl.transform(r))+")"};function AP(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const cp={test:iy("#"),parse:AP,transform:wi.transform},va={test:iy("hsl","hue"),parse:kk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+fr.transform(sl(e))+", "+fr.transform(sl(n))+", "+sl(rl.transform(r))+")"},Qt={test:t=>wi.test(t)||cp.test(t)||va.test(t),parse:t=>wi.test(t)?wi.parse(t):va.test(t)?va.parse(t):cp.parse(t),transform:t=>sc(t)?t:t.hasOwnProperty("red")?wi.transform(t):va.transform(t)},Ke=(t,e,n)=>-n*t+n*e+t;function Of(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=Of(c,l,t+1/3),i=Of(c,l,t),a=Of(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const Vf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},PP=[cp,wi,va],RP=t=>PP.find(e=>e.test(t));function Mx(t){const e=RP(t);let n=e.parse(t);return e===va&&(n=CP(n)),n}const Ek=(t,e)=>{const n=Mx(t),r=Mx(e),s={...n};return i=>(s.red=Vf(n.red,r.red,i),s.green=Vf(n.green,r.green,i),s.blue=Vf(n.blue,r.blue,i),s.alpha=Ke(n.alpha,r.alpha,i),wi.transform(s))};function MP(t){var e,n;return isNaN(t)&&sc(t)&&(((e=t.match(gh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(JT))===null||n===void 0?void 0:n.length)||0)>0}const Sk={regex:jC,countKey:"Vars",token:"${v}",parse:st},Nk={regex:JT,countKey:"Colors",token:"${c}",parse:Qt.parse},Ik={regex:gh,countKey:"Numbers",token:"${n}",parse:qi.parse};function Ff(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function wd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ff(n,Sk),Ff(n,Nk),Ff(n,Ik),n}function jk(t){return wd(t).values}function Ak(t){const{values:e,numColors:n,numVars:r,tokenised:s}=wd(t),i=e.length;return a=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(Sk.token,a[c]):c<r+n?l=l.replace(Nk.token,Qt.transform(a[c])):l=l.replace(Ik.token,sl(a[c]));return l}}const DP=t=>typeof t=="number"?0:t;function LP(t){const e=jk(t);return Ak(t)(e.map(DP))}const Vs={test:MP,parse:jk,createTransformer:Ak,getAnimatableNone:LP},Ck=(t,e)=>n=>`${n>0?e:t}`;function Pk(t,e){return typeof t=="number"?n=>Ke(t,e,n):Qt.test(t)?Ek(t,e):t.startsWith("var(")?Ck(t,e):Mk(t,e)}const Rk=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,a)=>Pk(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},OP=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Pk(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Mk=(t,e)=>{const n=Vs.createTransformer(e),r=wd(t),s=wd(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?As(Rk(r.values,s.values),n):Ck(t,e)},Dl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Dx=(t,e)=>n=>Ke(t,e,n);function VP(t){return typeof t=="number"?Dx:typeof t=="string"?Qt.test(t)?Ek:Mk:Array.isArray(t)?Rk:typeof t=="object"?OP:Dx}function FP(t,e,n){const r=[],s=n||VP(t[0]),i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||st:e;l=As(c,l)}r.push(l)}return r}function Dk(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(xd(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=FP(e,r,s),l=a.length,c=d=>{let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Dl(t[h],t[h+1],d);return a[h](f)};return n?d=>c(Os(t[0],t[i-1],d)):c}function UP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Dl(0,e,r);t.push(Ke(n,1,s))}}function BP(t){const e=[0];return UP(e,t.length-1),e}function zP(t,e){return t.map(n=>n*e)}function $P(t,e){return t.map(()=>e||xk).splice(0,t.length-1)}function _d({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=EP(r)?r.map(Rx):Rx(r),i={done:!1,value:e[0]},a=zP(n&&n.length===e.length?n:BP(e),t),l=Dk(a,e,{ease:Array.isArray(s)?s:$P(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}function Lk(t,e){return e?t*(1e3/e):0}const qP=5;function Ok(t,e,n){const r=Math.max(e-qP,0);return Lk(n-t(r),e-r)}const Uf=.001,HP=.01,WP=10,GP=.05,KP=1;function QP({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,a=1-e;a=Os(GP,KP,a),t=Os(HP,WP,Lr(t)),a<1?(s=d=>{const h=d*a,f=h*t,p=h-n,x=up(d,a),b=Math.exp(-f);return Uf-p/x*b},i=d=>{const f=d*a*t,p=f*n+n,x=Math.pow(a,2)*Math.pow(d,2)*t,b=Math.exp(-f),E=up(Math.pow(d,2),a);return(-s(d)+Uf>0?-1:1)*((p-x)*b)/E}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-Uf+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=JP(s,i,l);if(t=Ei(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const YP=12;function JP(t,e,n){let r=n;for(let s=1;s<YP;s++)r=r-t(r)/e(r);return r}function up(t,e){return t*Math.sqrt(1-e*e)}const XP=["duration","bounce"],ZP=["stiffness","damping","mass"];function Lx(t,e){return e.some(n=>t[n]!==void 0)}function eR(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Lx(t,ZP)&&Lx(t,XP)){const n=QP(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Vk({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=eR({...r,velocity:-Lr(r.velocity||0)}),x=f||0,b=c/(2*Math.sqrt(l*d)),E=i-s,j=Lr(Math.sqrt(l/d)),T=Math.abs(E)<5;n||(n=T?.01:2),e||(e=T?.005:.5);let v;if(b<1){const g=up(j,b);v=S=>{const D=Math.exp(-b*j*S);return i-D*((x+b*j*E)/g*Math.sin(g*S)+E*Math.cos(g*S))}}else if(b===1)v=g=>i-Math.exp(-j*g)*(E+(x+j*E)*g);else{const g=j*Math.sqrt(b*b-1);v=S=>{const D=Math.exp(-b*j*S),C=Math.min(g*S,300);return i-D*((x+b*j*E)*Math.sinh(C)+g*E*Math.cosh(C))/g}}return{calculatedDuration:p&&h||null,next:g=>{const S=v(g);if(p)a.done=g>=h;else{let D=x;g!==0&&(b<1?D=Ok(v,g,S):D=0);const C=Math.abs(D)<=n,_=Math.abs(i-S)<=e;a.done=C&&_}return a.value=a.done?i:S,a}}}function Ox({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},x=w=>l!==void 0&&w<l||c!==void 0&&w>c,b=w=>l===void 0?c:c===void 0||Math.abs(l-w)<Math.abs(c-w)?l:c;let E=n*e;const j=f+E,T=a===void 0?j:a(j);T!==j&&(E=T-f);const v=w=>-E*Math.exp(-w/r),g=w=>T+v(w),S=w=>{const k=v(w),P=g(w);p.done=Math.abs(k)<=d,p.value=p.done?T:P};let D,C;const _=w=>{x(p.value)&&(D=w,C=Vk({keyframes:[p.value,b(p.value)],velocity:Ok(g,w,p.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return _(0),{calculatedDuration:null,next:w=>{let k=!1;return!C&&D===void 0&&(k=!0,S(w),_(w)),D!==void 0&&w>D?C.next(w-D):(!k&&S(w),p)}}}const tR=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Fe.update(e,!0),stop:()=>zr(e),now:()=>Ut.isProcessing?Ut.timestamp:performance.now()}},Vx=2e4;function Fx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Vx;)e+=n,r=t.next(e);return e>=Vx?1/0:e}const nR={decay:Ox,inertia:Ox,tween:_d,keyframes:_d,spring:Vk};function bd({autoplay:t=!0,delay:e=0,driver:n=tR,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:f,...p}){let x=1,b=!1,E,j;const T=()=>{j=new Promise(ie=>{E=ie})};T();let v;const g=nR[s]||_d;let S;g!==_d&&typeof r[0]!="number"&&(S=Dk([0,100],r,{clamp:!1}),r=[0,100]);const D=g({...p,keyframes:r});let C;l==="mirror"&&(C=g({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let _="idle",w=null,k=null,P=null;D.calculatedDuration===null&&i&&(D.calculatedDuration=Fx(D));const{calculatedDuration:L}=D;let R=1/0,N=1/0;L!==null&&(R=L+a,N=R*(i+1)-a);let re=0;const ee=ie=>{if(k===null)return;x>0&&(k=Math.min(k,ie)),x<0&&(k=Math.min(ie-N/x,k)),w!==null?re=w:re=Math.round(ie-k)*x;const le=re-e*(x>=0?1:-1),we=x>=0?le<0:le>N;re=Math.max(le,0),_==="finished"&&w===null&&(re=N);let Re=re,Me=D;if(i){const me=Math.min(re,N)/R;let je=Math.floor(me),be=me%1;!be&&me>=1&&(be=1),be===1&&je--,je=Math.min(je,i+1),!!(je%2)&&(l==="reverse"?(be=1-be,a&&(be-=a/R)):l==="mirror"&&(Me=C)),Re=Os(0,1,be)*R}const B=we?{done:!1,value:r[0]}:Me.next(Re);S&&(B.value=S(B.value));let{done:X}=B;!we&&L!==null&&(X=x>=0?re>=N:re<=0);const Ie=w===null&&(_==="finished"||_==="running"&&X);return f&&f(B.value),Ie&&V(),B},H=()=>{v&&v.stop(),v=void 0},G=()=>{_="idle",H(),E(),T(),k=P=null},V=()=>{_="finished",h&&h(),H(),E()},W=()=>{if(b)return;v||(v=n(ee));const ie=v.now();c&&c(),w!==null?k=ie-w:(!k||_==="finished")&&(k=ie),_==="finished"&&T(),P=k,w=null,_="running",v.start()};t&&W();const Z={then(ie,le){return j.then(ie,le)},get time(){return Lr(re)},set time(ie){ie=Ei(ie),re=ie,w!==null||!v||x===0?w=ie:k=v.now()-ie/x},get duration(){const ie=D.calculatedDuration===null?Fx(D):D.calculatedDuration;return Lr(ie)},get speed(){return x},set speed(ie){ie===x||!v||(x=ie,Z.time=Lr(re))},get state(){return _},play:W,pause:()=>{_="paused",w=re},stop:()=>{b=!0,_!=="idle"&&(_="idle",d&&d(),G())},cancel:()=>{P!==null&&ee(P),G()},complete:()=>{_="finished"},sample:ie=>(k=0,ee(ie))};return Z}function rR(t){let e;return()=>(e===void 0&&(e=t()),e)}const sR=rR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),iR=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),iu=10,aR=2e4,oR=(t,e)=>e.type==="spring"||t==="backgroundColor"||!pk(e.ease);function lR(t,e,{onUpdate:n,onComplete:r,...s}){if(!(sR()&&iR.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,d=!1;const h=()=>{c=new Promise(g=>{l=g})};h();let{keyframes:f,duration:p=300,ease:x,times:b}=s;if(oR(e,s)){const g=bd({...s,repeat:0,delay:0});let S={done:!1,value:f[0]};const D=[];let C=0;for(;!S.done&&C<aR;)S=g.sample(C),D.push(S.value),C+=iu;b=void 0,f=D,p=C-iu,x="linear"}const E=vP(t.owner.current,e,f,{...s,duration:p,ease:x,times:b}),j=()=>{d=!1,E.cancel()},T=()=>{d=!0,Fe.update(j),l(),h()};return E.onfinish=()=>{d||(t.set(xP(f,s)),r&&r(),T())},{then(g,S){return c.then(g,S)},attachTimeline(g){return E.timeline=g,E.onfinish=null,st},get time(){return Lr(E.currentTime||0)},set time(g){E.currentTime=Ei(g)},get speed(){return E.playbackRate},set speed(g){E.playbackRate=g},get duration(){return Lr(p)},play:()=>{a||(E.play(),zr(j))},pause:()=>E.pause(),stop:()=>{if(a=!0,E.playState==="idle")return;const{currentTime:g}=E;if(g){const S=bd({...s,autoplay:!1});t.setWithVelocity(S.sample(g-iu).value,S.sample(g).value,iu)}T()},complete:()=>{d||E.finish()},cancel:T}}function cR({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:st,pause:st,stop:st,then:i=>(i(),Promise.resolve()),cancel:st,complete:st});return e?bd({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const uR={type:"spring",stiffness:500,damping:25,restSpeed:10},dR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hR={type:"keyframes",duration:.8},fR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mR=(t,{keyframes:e})=>e.length>2?hR:$i.has(t)?t.startsWith("scale")?dR(e[1]):uR:fR,dp=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vs.test(e)||e==="0")&&!e.startsWith("url(")),pR=new Set(["brightness","contrast","saturate","opacity"]);function gR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gh)||[];if(!r)return t;const s=n.replace(r,"");let i=pR.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const yR=/([a-z-]*)\(.*?\)/g,hp={...Vs,getAnimatableNone:t=>{const e=t.match(yR);return e?e.map(gR).join(" "):t}},vR={...XT,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:hp,WebkitFilter:hp},ay=t=>vR[t];function Fk(t,e){let n=ay(t);return n!==hp&&(n=Vs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Uk=t=>/^0[^.\s]+$/.test(t);function xR(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Uk(t)}function wR(t,e,n,r){const s=dp(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:t.get();let l;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?a:i[d-1]),xR(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(s&&c.length&&l)for(let d=0;d<c.length;d++){const h=c[d];i[h]=Fk(e,l)}return i}function _R({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function oy(t,e){return t[e]||t.default||t}const bR={skipAnimations:!1},ly=(t,e,n,r={})=>s=>{const i=oy(r,t)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Ei(a);const c=wR(e,t,n,i),d=c[0],h=c[c.length-1],f=dp(t,d),p=dp(t,h);let x={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:b=>{e.set(b),i.onUpdate&&i.onUpdate(b)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(_R(i)||(x={...x,...mR(t,x)}),x.duration&&(x.duration=Ei(x.duration)),x.repeatDelay&&(x.repeatDelay=Ei(x.repeatDelay)),!f||!p||yP.current||i.type===!1||bR.skipAnimations)return cR(x);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=lR(e,t,x);if(b)return b}return bd(x)};function Td(t){return!!(pn(t)&&t.add)}const Bk=t=>/^\-?\d*\.?\d+$/.test(t);function cy(t,e){t.indexOf(e)===-1&&t.push(e)}function uy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dy{constructor(){this.subscriptions=[]}add(e){return cy(this.subscriptions,e),()=>uy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const TR=t=>!isNaN(parseFloat(t));class kR{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=Ut;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,Fe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Fe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=TR(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Lk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $a(t,e){return new kR(t,e)}const zk=t=>e=>e.test(t),ER={test:t=>t==="auto",parse:t=>t},$k=[qi,de,fr,as,RC,PC,ER],Ao=t=>$k.find(zk(t)),SR=[...$k,Qt,Vs],NR=t=>SR.find(zk(t));function IR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$a(n))}function jR(t,e){const n=vh(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=GC(i[a]);IR(t,a,l)}}function AR(t,e,n){var r,s;const i=Object.keys(e).filter(l=>!t.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const c=i[l],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),h!=null&&(typeof h=="string"&&(Bk(h)||Uk(h))?h=parseFloat(h):!NR(h)&&Vs.test(d)&&(h=Fk(c,d)),t.addValue(c,$a(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function CR(t,e){return e?(e[t]||e.default||e).from:void 0}function PR(t,e,n){const r={};for(const s in t){const i=CR(s,e);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function RR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function MR(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function qk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const p=t.getValue(f),x=l[f];if(!p||x===void 0||h&&RR(h,f))continue;const b={delay:n,elapsed:0,...oy(i||{},f)};if(window.HandoffAppearAnimations){const T=t.getProps()[HT];if(T){const v=window.HandoffAppearAnimations(T,f,p,Fe);v!==null&&(b.elapsed=v,b.isHandoff=!0)}}let E=!b.isHandoff&&!MR(p,x);if(b.type==="spring"&&(p.getVelocity()||b.velocity)&&(E=!1),p.animation&&(E=!1),E)continue;p.start(ly(f,p,x,t.shouldReduceMotion&&$i.has(f)?{type:!1}:b));const j=p.animation;Td(c)&&(c.add(f),j.then(()=>c.remove(f))),d.push(j)}return a&&Promise.all(d).then(()=>{a&&jR(t,a)}),d}function fp(t,e,n={}){const r=vh(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(qk(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return DR(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function DR(t,e,n=0,r=0,s=1,i){const a=[],l=(t.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(LR).forEach((d,h)=>{d.notify("AnimationStart",e),a.push(fp(d,e,{...i,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function LR(t,e){return t.sortNodePosition(e)}function OR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>fp(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=fp(t,e,n);else{const s=typeof e=="function"?vh(t,e,n.custom):e;r=Promise.all(qk(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const VR=[...Gg].reverse(),FR=Gg.length;function UR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>OR(t,n,r)))}function BR(t){let e=UR(t);const n=$R();let r=!0;const s=(c,d)=>{const h=vh(t,d);if(h){const{transition:f,transitionEnd:p,...x}=h;c={...c,...x,...p}}return c};function i(c){e=c(t)}function a(c,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],x=new Set;let b={},E=1/0;for(let T=0;T<FR;T++){const v=VR[T],g=n[v],S=h[v]!==void 0?h[v]:f[v],D=Rl(S),C=v===d?g.isActive:null;C===!1&&(E=T);let _=S===f[v]&&S!==h[v]&&D;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),g.protectedKeys={...b},!g.isActive&&C===null||!S&&!g.prevProp||mh(S)||typeof S=="boolean")continue;let k=zR(g.prevProp,S)||v===d&&g.isActive&&!_&&D||T>E&&D,P=!1;const L=Array.isArray(S)?S:[S];let R=L.reduce(s,{});C===!1&&(R={});const{prevResolvedValues:N={}}=g,re={...N,...R},ee=H=>{k=!0,x.has(H)&&(P=!0,x.delete(H)),g.needsAnimating[H]=!0};for(const H in re){const G=R[H],V=N[H];if(b.hasOwnProperty(H))continue;let W=!1;vd(G)&&vd(V)?W=!fk(G,V):W=G!==V,W?G!==void 0?ee(H):x.add(H):G!==void 0&&x.has(H)?ee(H):g.protectedKeys[H]=!0}g.prevProp=S,g.prevResolvedValues=R,g.isActive&&(b={...b,...R}),r&&t.blockInitialAnimation&&(k=!1),k&&(!_||P)&&p.push(...L.map(H=>({animation:H,options:{type:v,...c}})))}if(x.size){const T={};x.forEach(v=>{const g=t.getBaseTarget(v);g!==void 0&&(T[v]=g)}),p.push({animation:T})}let j=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(p):Promise.resolve()}function l(c,d,h){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(x=>{var b;return(b=x.animationState)===null||b===void 0?void 0:b.setActive(c,d)}),n[c].isActive=d;const p=a(h,c);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function zR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fk(e,t):!1}function ci(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $R(){return{animate:ci(!0),whileInView:ci(),whileHover:ci(),whileTap:ci(),whileDrag:ci(),whileFocus:ci(),exit:ci()}}class qR extends Ys{constructor(e){super(e),e.animationState||(e.animationState=BR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),mh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let HR=0;class WR extends Ys{constructor(){super(...arguments),this.id=HR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const GR={animation:{Feature:qR},exit:{Feature:WR}},Ux=(t,e)=>Math.abs(t-e);function KR(t,e){const n=Ux(t.x,e.x),r=Ux(t.y,e.y);return Math.sqrt(n**2+r**2)}class Hk{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=zf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=KR(f.offset,{x:0,y:0})>=3;if(!p&&!x)return;const{point:b}=f,{timestamp:E}=Ut;this.history.push({...b,timestamp:E});const{onStart:j,onMove:T}=this.handlers;p||(j&&j(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Bf(p,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=zf(f.type==="pointercancel"?this.lastMoveEventInfo:Bf(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,j),b&&b(f,j)},!lk(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=yh(e),l=Bf(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ut;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,zf(l,this.history)),this.removeListeners=As(Dr(this.contextWindow,"pointermove",this.handlePointerMove),Dr(this.contextWindow,"pointerup",this.handlePointerUp),Dr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function Bf(t,e){return e?{point:e(t.point)}:t}function Bx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zf({point:t},e){return{point:t,delta:Bx(t,Wk(e)),offset:Bx(t,QR(e)),velocity:YR(e,.1)}}function QR(t){return t[0]}function Wk(t){return t[t.length-1]}function YR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Wk(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ei(e)));)n--;if(!r)return{x:0,y:0};const i=Lr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function En(t){return t.max-t.min}function mp(t,e=0,n=.01){return Math.abs(t-e)<=n}function zx(t,e,n,r=.5){t.origin=r,t.originPoint=Ke(e.min,e.max,t.origin),t.scale=En(n)/En(e),(mp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ke(n.min,n.max,t.origin)-t.originPoint,(mp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function il(t,e,n,r){zx(t.x,e.x,n.x,r?r.originX:void 0),zx(t.y,e.y,n.y,r?r.originY:void 0)}function $x(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function JR(t,e,n){$x(t.x,e.x,n.x),$x(t.y,e.y,n.y)}function qx(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function al(t,e,n){qx(t.x,e.x,n.x),qx(t.y,e.y,n.y)}function XR(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ke(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ke(n,t,r.max):Math.min(t,n)),t}function Hx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ZR(t,{top:e,left:n,bottom:r,right:s}){return{x:Hx(t.x,n,s),y:Hx(t.y,e,r)}}function Wx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function eM(t,e){return{x:Wx(t.x,e.x),y:Wx(t.y,e.y)}}function tM(t,e){let n=.5;const r=En(t),s=En(e);return s>r?n=Dl(e.min,e.max-r,t.min):r>s&&(n=Dl(t.min,t.max-s,e.min)),Os(0,1,n)}function nM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const pp=.35;function rM(t=pp){return t===!1?t=0:t===!0&&(t=pp),{x:Gx(t,"left","right"),y:Gx(t,"top","bottom")}}function Gx(t,e,n){return{min:Kx(t,e),max:Kx(t,n)}}function Kx(t,e){return typeof t=="number"?t:t[e]||0}const Qx=()=>({translate:0,scale:1,origin:0,originPoint:0}),xa=()=>({x:Qx(),y:Qx()}),Yx=()=>({min:0,max:0}),lt=()=>({x:Yx(),y:Yx()});function An(t){return[t("x"),t("y")]}function Gk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $f(t){return t===void 0||t===1}function gp({scale:t,scaleX:e,scaleY:n}){return!$f(t)||!$f(e)||!$f(n)}function hi(t){return gp(t)||Kk(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Kk(t){return Jx(t.x)||Jx(t.y)}function Jx(t){return t&&t!=="0%"}function kd(t,e,n){const r=t-n,s=e*r;return n+s}function Xx(t,e,n,r,s){return s!==void 0&&(t=kd(t,s,r)),kd(t,n,r)+e}function yp(t,e=0,n=1,r,s){t.min=Xx(t.min,e,n,r,s),t.max=Xx(t.max,e,n,r,s)}function Qk(t,{x:e,y:n}){yp(t.x,e.translate,e.scale,e.originPoint),yp(t.y,n.translate,n.scale,n.originPoint)}function aM(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&wa(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Qk(t,a)),r&&hi(i.latestValues)&&wa(t,i.latestValues))}e.x=Zx(e.x),e.y=Zx(e.y)}function Zx(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function cs(t,e){t.min=t.min+e,t.max=t.max+e}function e1(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,a=Ke(t.min,t.max,i);yp(t,e[n],e[r],a,e.scale)}const oM=["x","scaleX","originX"],lM=["y","scaleY","originY"];function wa(t,e){e1(t.x,e,oM),e1(t.y,e,lM)}function Yk(t,e){return Gk(iM(t.getBoundingClientRect(),e))}function cM(t,e,n){const r=Yk(t,n),{scroll:s}=e;return s&&(cs(r.x,s.offset.x),cs(r.y,s.offset.y)),r}const Jk=({current:t})=>t?t.ownerDocument.defaultView:null,uM=new WeakMap;class dM{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yh(h,"page").point)},i=(h,f)=>{const{drag:p,dragPropagation:x,onDragStart:b}=this.getProps();if(p&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uk(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),An(j=>{let T=this.getAxisMotionValue(j).get()||0;if(fr.test(T)){const{projection:v}=this.visualElement;if(v&&v.layout){const g=v.layout.layoutBox[j];g&&(T=En(g)*(parseFloat(T)/100))}}this.originPoint[j]=T}),b&&Fe.update(()=>b(h,f),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},a=(h,f)=>{const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:b,onDrag:E}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:j}=f;if(x&&this.currentDirection===null){this.currentDirection=hM(j),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,j),this.updateAxis("y",f.point,j),this.visualElement.render(),E&&E(h,f)},l=(h,f)=>this.stop(h,f),c=()=>An(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Hk(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Jk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Fe.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!au(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=XR(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ya(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=ZR(s.layoutBox,n):this.constraints=!1,this.elastic=rM(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&An(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=nM(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ya(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=cM(r,s.root,this.visualElement.getTransformPagePoint());let a=eM(s.layout.layoutBox,i);if(n){const l=n(sM(a));this.hasMutatedConstraints=!!l,l&&(a=Gk(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=An(h=>{if(!au(h,n,this.currentDirection))return;let f=c&&c[h]||{};a&&(f={min:0,max:0});const p=s?200:1e6,x=s?40:1e7,b={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(ly(e,r,0,n))}stopAnimation(){An(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){An(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){An(n=>{const{drag:r}=this.getProps();if(!au(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-Ke(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ya(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};An(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=tM({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),An(a=>{if(!au(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(Ke(c,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;uM.set(this.visualElement,this);const e=this.visualElement.current,n=Dr(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ya(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=Ar(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(An(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=pp,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function au(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class fM extends Ys{constructor(e){super(e),this.removeGroupControls=st,this.removeListeners=st,this.controls=new dM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||st}unmount(){this.removeGroupControls(),this.removeListeners()}}const t1=t=>(e,n)=>{t&&Fe.update(()=>t(e,n))};class mM extends Ys{constructor(){super(...arguments),this.removePointerDownListener=st}onPointerDown(e){this.session=new Hk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Jk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:t1(e),onStart:t1(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Fe.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=Dr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function pM(){const t=A.useContext(hh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=A.useId();return A.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function n1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Co={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=n1(t,e.target.x),r=n1(t,e.target.y);return`${n}% ${r}%`}},gM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Vs.parse(t);if(s.length>5)return r;const i=Vs.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const d=Ke(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),i(s)}};class yM extends Yp.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;EC(vM),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Fe.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Xk(t){const[e,n]=pM(),r=A.useContext(Qg);return Yp.createElement(yM,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(GT),isPresent:e,safeToRemove:n})}const vM={borderRadius:{...Co,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Co,borderTopRightRadius:Co,borderBottomLeftRadius:Co,borderBottomRightRadius:Co,boxShadow:gM},Zk=["TopLeft","TopRight","BottomLeft","BottomRight"],xM=Zk.length,r1=t=>typeof t=="string"?parseFloat(t):t,s1=t=>typeof t=="number"||de.test(t);function wM(t,e,n,r,s,i){s?(t.opacity=Ke(0,n.opacity!==void 0?n.opacity:1,_M(r)),t.opacityExit=Ke(e.opacity!==void 0?e.opacity:1,0,bM(r))):i&&(t.opacity=Ke(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<xM;a++){const l=`border${Zk[a]}Radius`;let c=i1(e,l),d=i1(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||s1(c)===s1(d)?(t[l]=Math.max(Ke(r1(c),r1(d),r),0),(fr.test(d)||fr.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Ke(e.rotate||0,n.rotate||0,r))}function i1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _M=eE(0,.5,bk),bM=eE(.5,.95,st);function eE(t,e,n){return r=>r<t?0:r>e?1:n(Dl(t,e,r))}function a1(t,e){t.min=e.min,t.max=e.max}function jn(t,e){a1(t.x,e.x),a1(t.y,e.y)}function o1(t,e,n,r,s){return t-=e,t=kd(t,1/n,r),s!==void 0&&(t=kd(t,1/s,r)),t}function TM(t,e=0,n=1,r=.5,s,i=t,a=t){if(fr.test(e)&&(e=parseFloat(e),e=Ke(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Ke(i.min,i.max,r);t===i&&(l-=e),t.min=o1(t.min,e,n,l,s),t.max=o1(t.max,e,n,l,s)}function l1(t,e,[n,r,s],i,a){TM(t,e[n],e[r],e[s],e.scale,i,a)}const kM=["x","scaleX","originX"],EM=["y","scaleY","originY"];function c1(t,e,n,r){l1(t.x,e,kM,n?n.x:void 0,r?r.x:void 0),l1(t.y,e,EM,n?n.y:void 0,r?r.y:void 0)}function u1(t){return t.translate===0&&t.scale===1}function tE(t){return u1(t.x)&&u1(t.y)}function SM(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function nE(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function d1(t){return En(t.x)/En(t.y)}class NM{constructor(){this.members=[]}add(e){cy(this.members,e),e.scheduleRender()}remove(e){if(uy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h1(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const IM=(t,e)=>t.depth-e.depth;class jM{constructor(){this.children=[],this.isDirty=!1}add(e){cy(this.children,e),this.isDirty=!0}remove(e){uy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IM),this.isDirty=!1,this.children.forEach(e)}}function AM(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(zr(r),t(i-e))};return Fe.read(r,!0),()=>zr(r)}function CM(t){window.MotionDebug&&window.MotionDebug.record(t)}function PM(t){return t instanceof SVGElement&&t.tagName!=="svg"}function RM(t,e,n){const r=pn(t)?t:$a(t);return r.start(ly("",r,e,n)),r.animation}const f1=["","X","Y","Z"],MM={visibility:"hidden"},m1=1e3;let DM=0;const fi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=DM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fi.totalNodes=fi.resolvedTargetDeltas=fi.recalculatedProjection=0,this.nodes.forEach(VM),this.nodes.forEach($M),this.nodes.forEach(qM),this.nodes.forEach(FM),CM(fi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new jM)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new dy),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=PM(a),this.instance=a;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=AM(p,250),Pu.hasAnimatedSinceResize&&(Pu.hasAnimatedSinceResize=!1,this.nodes.forEach(g1))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||QM,{onLayoutAnimationStart:j,onLayoutAnimationComplete:T}=h.getProps(),v=!this.targetLayout||!nE(this.targetLayout,b)||x,g=!p&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const S={...oy(E,"layout"),onPlay:j,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||g1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HM),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p1);return}this.isUpdating||this.nodes.forEach(BM),this.isUpdating=!1,this.nodes.forEach(zM),this.nodes.forEach(LM),this.nodes.forEach(OM),this.clearAllSnapshots();const l=performance.now();Ut.delta=Os(0,1e3/60,l-Ut.timestamp),Ut.timestamp=l,Ut.isProcessing=!0,Rf.update.process(Ut),Rf.preRender.process(Ut),Rf.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(UM),this.sharedNodes.forEach(WM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!tE(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;a&&(l||hi(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),YM(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return lt();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(cs(l.x,c.offset.x),cs(l.y,c.offset.y)),l}removeElementScroll(a){const l=lt();jn(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){jn(l,a);const{scroll:p}=this.root;p&&(cs(l.x,-p.offset.x),cs(l.y,-p.offset.y))}cs(l.x,h.offset.x),cs(l.y,h.offset.y)}}return l}applyTransform(a,l=!1){const c=lt();jn(c,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&wa(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),hi(h.latestValues)&&wa(c,h.latestValues)}return hi(this.latestValues)&&wa(c,this.latestValues),c}removeTransform(a){const l=lt();jn(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!hi(d.latestValues))continue;gp(d.latestValues)&&d.updateSnapshot();const h=lt(),f=d.measurePageBox();jn(h,f),c1(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return hi(this.latestValues)&&c1(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ut.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),al(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),Qk(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),al(this.relativeTargetOrigin,this.target,x.target),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gp(this.parent.latestValues)||Kk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;jn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;aM(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=xa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=xa(),this.projectionDeltaWithTransform=xa());const E=this.projectionTransform;il(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=h1(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==p||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),fi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=xa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=lt(),x=c?c.source:void 0,b=this.layout?this.layout.source:void 0,E=x!==b,j=this.getStack(),T=!j||j.members.length<=1,v=!!(E&&!T&&this.options.crossfade===!0&&!this.path.some(KM));this.animationProgress=0;let g;this.mixTargetDelta=S=>{const D=S/1e3;y1(f.x,a.x,D),y1(f.y,a.y,D),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(al(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GM(this.relativeTarget,this.relativeTargetOrigin,p,D),g&&SM(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=lt()),jn(g,this.relativeTarget)),E&&(this.animationValues=h,wM(h,d,this.latestValues,D,v,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{Pu.hasAnimatedSinceResize=!0,this.currentAnimation=RM(0,m1,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&sE(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||lt();const f=En(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const p=En(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}jn(l,c),wa(l,h),il(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new NM),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<f1.length;h++){const f="rotate"+f1[h];c[f]&&(d[f]=c[f],a.setStaticValue(f,0))}a.render();for(const h in d)a.setStaticValue(h,d[h]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return MM;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Cu(a==null?void 0:a.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Cu(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!hi(this.latestValues)&&(E.transform=h?h({},""):"none",this.hasProjected=!1),E}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=h1(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x,y:b}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const E in gd){if(p[E]===void 0)continue;const{correct:j,applyTo:T}=gd[E],v=d.transform==="none"?p[E]:j(p[E],f);if(T){const g=T.length;for(let S=0;S<g;S++)d[T[S]]=v}else d[E]=v}return this.options.layoutId&&(d.pointerEvents=f===this?Cu(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(p1),this.root.sharedNodes.clear()}}}function LM(t){t.updateLayout()}function OM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?An(f=>{const p=a?n.measuredBox[f]:n.layoutBox[f],x=En(p);p.min=r[f].min,p.max=p.min+x}):sE(i,n.layoutBox,r)&&An(f=>{const p=a?n.measuredBox[f]:n.layoutBox[f],x=En(r[f]);p.max=p.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+x)});const l=xa();il(l,r,n.layoutBox);const c=xa();a?il(c,t.applyTransform(s,!0),n.measuredBox):il(c,r,n.layoutBox);const d=!tE(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:x}=f;if(p&&x){const b=lt();al(b,n.layoutBox,p.layoutBox);const E=lt();al(E,r,x.layoutBox),nE(b,E)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=b,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function VM(t){fi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function FM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UM(t){t.clearSnapshot()}function p1(t){t.clearMeasurements()}function BM(t){t.isLayoutDirty=!1}function zM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function g1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $M(t){t.resolveTargetDelta()}function qM(t){t.calcProjection()}function HM(t){t.resetRotation()}function WM(t){t.removeLeadSnapshot()}function y1(t,e,n){t.translate=Ke(e.translate,0,n),t.scale=Ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function v1(t,e,n,r){t.min=Ke(e.min,n.min,r),t.max=Ke(e.max,n.max,r)}function GM(t,e,n,r){v1(t.x,e.x,n.x,r),v1(t.y,e.y,n.y,r)}function KM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QM={duration:.45,ease:[.4,0,.1,1]},x1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),w1=x1("applewebkit/")&&!x1("chrome/")?Math.round:st;function _1(t){t.min=w1(t.min),t.max=w1(t.max)}function YM(t){_1(t.x),_1(t.y)}function sE(t,e,n){return t==="position"||t==="preserve-aspect"&&!mp(d1(e),d1(n),.2)}const JM=rE({attachResizeListener:(t,e)=>Ar(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qf={current:void 0},iE=rE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qf.current){const t=new JM({});t.mount(window),t.setOptions({layoutScroll:!0}),qf.current=t}return qf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),XM={pan:{Feature:mM},drag:{Feature:fM,ProjectionNode:iE,MeasureLayout:Xk}},ZM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function e4(t){const e=ZM.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function vp(t,e,n=1){const[r,s]=e4(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return Bk(a)?parseFloat(a):a}else return op(s)?vp(s,e,n+1):s}function t4(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!op(i))return;const a=vp(i,r);a&&s.set(a)});for(const s in e){const i=e[s];if(!op(i))continue;const a=vp(i,r);a&&(e[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const n4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),aE=t=>n4.has(t),r4=t=>Object.keys(t).some(aE),b1=t=>t===qi||t===de,T1=(t,e)=>parseFloat(t.split(", ")[e]),k1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return T1(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?T1(i[1],t):0}},s4=new Set(["x","y","z"]),i4=rc.filter(t=>!s4.has(t));function a4(t){const e=[];return i4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:k1(4,13),y:k1(5,14)};qa.translateX=qa.x;qa.translateY=qa.y;const o4=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:a}=i,l={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=qa[d](r,i)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),t[d]=qa[d](c,i)}),t},l4=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(aE);let i=[],a=!1;const l=[];if(s.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],f=Ao(h);const p=e[c];let x;if(vd(p)){const b=p.length,E=p[0]===null?1:0;h=p[E],f=Ao(h);for(let j=E;j<b&&p[j]!==null;j++)x?xd(Ao(p[j])===x):x=Ao(p[j])}else x=Ao(p);if(f!==x)if(b1(f)&&b1(x)){const b=d.get();typeof b=="string"&&d.set(parseFloat(b)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&x===de&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(x!=null&&x.transform)&&(h===0||p===0)?h===0?d.set(x.transform(h)):e[c]=f.transform(p):(a||(i=a4(t),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],d.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=o4(e,t,l);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),fh&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function c4(t,e,n,r){return r4(e)?l4(t,e,n,r):{target:e,transitionEnd:r}}const u4=(t,e,n,r)=>{const s=t4(t,e,r);return e=s.target,r=s.transitionEnd,c4(t,e,n,r)},xp={current:null},oE={current:!1};function d4(){if(oE.current=!0,!!fh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xp.current=t.matches;t.addListener(e),e()}else xp.current=!1}function h4(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],a=n[s];if(pn(i))t.addValue(s,i),Td(r)&&r.add(s);else if(pn(a))t.addValue(s,$a(i,{owner:t})),Td(r)&&r.remove(s);else if(a!==i)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,$a(l!==void 0?l:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const E1=new WeakMap,lE=Object.keys(Ml),f4=lE.length,S1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],m4=Kg.length;class p4{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Fe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=ph(n),this.isVariantNode=WT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];l[f]!==void 0&&pn(p)&&(p.set(l[f],!1),Td(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,E1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oE.current||d4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){E1.delete(this.current),this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=$i.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Fe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let a,l;for(let c=0;c<f4;c++){const d=lE[c],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:x}=Ml[d];p&&(a=p),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),x&&(l=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:x}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||f&&ya(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:x})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<S1.length;r++){const s=S1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=h4(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<m4;r++){const s=Kg[r],i=this.props[s];(Rl(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$a(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=ny(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class cE extends p4{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let a=PR(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){AR(this,r,a);const l=u4(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function g4(t){return window.getComputedStyle(t)}class y4 extends cE{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if($i.has(n)){const r=ay(n);return r&&r.default||0}else{const r=g4(e),s=(YT(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Yk(e,n)}build(e,n,r,s){Jg(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ty(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){nk(e,n,r,s)}}class v4 extends cE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($i.has(n)){const r=ay(n);return r&&r.default||0}return n=rk.has(n)?n:Wg(n),e.getAttribute(n)}measureInstanceViewportBox(){return lt()}scrapeMotionValuesFromProps(e,n){return ik(e,n)}build(e,n,r,s){Zg(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){sk(e,n,r,s)}mount(e){this.isSVGTag=ey(e.tagName),super.mount(e)}}const x4=(t,e)=>Yg(t)?new v4(e,{enableHardwareAcceleration:!1}):new y4(e,{enableHardwareAcceleration:!0}),w4={layout:{ProjectionNode:iE,MeasureLayout:Xk}},_4={...GR,...mP,...XM,...w4},M=TC((t,e)=>tP(t,e,_4,x4));function uE(){const t=A.useRef(!1);return Hg(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function b4(){const t=uE(),[e,n]=A.useState(0),r=A.useCallback(()=>{t.current&&n(e+1)},[e]);return[A.useCallback(()=>Fe.postRender(r),[r]),e]}class T4 extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function k4({children:t,isPresent:e}){const n=A.useId(),r=A.useRef(null),s=A.useRef({width:0,height:0,top:0,left:0});return A.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),A.createElement(T4,{isPresent:e,childRef:r,sizeRef:s},A.cloneElement(t,{ref:r}))}const Hf=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=ak(E4),c=A.useId(),d=A.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),i?void 0:[n]);return A.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),A.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=A.createElement(k4,{isPresent:n},t)),A.createElement(hh.Provider,{value:d},t)};function E4(){return new Map}function S4(t){return A.useEffect(()=>()=>t(),[])}const mi=t=>t.key||"";function N4(t,e){t.forEach(n=>{const r=mi(n);e.set(r,n)})}function I4(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const an=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=A.useContext(Qg).forceRender||b4()[0],c=uE(),d=I4(t);let h=d;const f=A.useRef(new Map).current,p=A.useRef(h),x=A.useRef(new Map).current,b=A.useRef(!0);if(Hg(()=>{b.current=!1,N4(d,x),p.current=h}),S4(()=>{b.current=!0,x.clear(),f.clear()}),b.current)return A.createElement(A.Fragment,null,h.map(v=>A.createElement(Hf,{key:mi(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},v)));h=[...h];const E=p.current.map(mi),j=d.map(mi),T=E.length;for(let v=0;v<T;v++){const g=E[v];j.indexOf(g)===-1&&!f.has(g)&&f.set(g,void 0)}return a==="wait"&&f.size&&(h=[]),f.forEach((v,g)=>{if(j.indexOf(g)!==-1)return;const S=x.get(g);if(!S)return;const D=E.indexOf(g);let C=v;if(!C){const _=()=>{f.delete(g);const w=Array.from(x.keys()).filter(k=>!j.includes(k));if(w.forEach(k=>x.delete(k)),p.current=d.filter(k=>{const P=mi(k);return P===g||w.includes(P)}),!f.size){if(c.current===!1)return;l(),r&&r()}};C=A.createElement(Hf,{key:mi(S),isPresent:!1,onExitComplete:_,custom:e,presenceAffectsLayout:i,mode:a},S),f.set(g,C)}h.splice(D,0,C)}),h=h.map(v=>{const g=v.key;return f.has(g)?v:A.createElement(Hf,{key:mi(v),isPresent:!0,presenceAffectsLayout:i,mode:a},v)}),A.createElement(A.Fragment,null,f.size?h:h.map(v=>A.cloneElement(v)))};var N1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},j4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,x=d&63;c||(x=64,a||(p=64)),r.push(n[h],n[f],n[p],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new A4;const p=i<<2|l>>4;if(r.push(p),d!==64){const x=l<<4&240|d>>2;if(r.push(x),f!==64){const b=d<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C4=function(t){const e=dE(t);return hE.encodeByteArray(e,!0)},Ed=function(t){return C4(t).replace(/\./g,"")},fE=function(t){try{return hE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=()=>P4().__FIREBASE_DEFAULTS__,M4=()=>{if(typeof process>"u"||typeof N1>"u")return;const t=N1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fE(t[1]);return e&&JSON.parse(e)},xh=()=>{try{return R4()||M4()||D4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mE=t=>{var e,n;return(n=(e=xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pE=t=>{const e=mE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gE=()=>{var t;return(t=xh())===null||t===void 0?void 0:t.config},yE=t=>{var e;return(e=xh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ed(JSON.stringify(n)),Ed(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function V4(){var t;const e=(t=xh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function U4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B4(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function z4(){return!V4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wE(){try{return typeof indexedDB=="object"}catch{return!1}}function _E(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function $4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="FirebaseError";class Un extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=q4,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hi.prototype.create)}}class Hi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?H4(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Un(s,l,r)}}function H4(t,e){return t.replace(W4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const W4=/\{\$([^}]+)}/g;function G4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ll(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(I1(i)&&I1(a)){if(!Ll(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function I1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $o(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function qo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function K4(t,e){const n=new Q4(t,e);return n.subscribe.bind(n)}class Q4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Wf),s.error===void 0&&(s.error=Wf),s.complete===void 0&&(s.complete=Wf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=1e3,X4=2,Z4=4*60*60*1e3,eD=.5;function j1(t,e=J4,n=X4){const r=e*Math.pow(n,t),s=Math.round(eD*r*(Math.random()-.5)*2);return Math.min(Z4,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class Fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new L4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rD(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nD(t){return t===pi?void 0:t}function rD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const iD={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},aD=xe.INFO,oD={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},lD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=oD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wh{constructor(e){this.name=e,this._logLevel=aD,this._logHandler=lD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const cD=(t,e)=>e.some(n=>t instanceof n);let A1,C1;function uD(){return A1||(A1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dD(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,wp=new WeakMap,TE=new WeakMap,Gf=new WeakMap,hy=new WeakMap;function hD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Cs(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&bE.set(n,t)}).catch(()=>{}),hy.set(e,t),e}function fD(t){if(wp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});wp.set(t,e)}let _p={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mD(t){_p=t(_p)}function pD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kf(this),e,...n);return TE.set(r,e.sort?e.sort():[e]),Cs(r)}:dD().includes(t)?function(...e){return t.apply(Kf(this),e),Cs(bE.get(this))}:function(...e){return Cs(t.apply(Kf(this),e))}}function gD(t){return typeof t=="function"?pD(t):(t instanceof IDBTransaction&&fD(t),cD(t,uD())?new Proxy(t,_p):t)}function Cs(t){if(t instanceof IDBRequest)return hD(t);if(Gf.has(t))return Gf.get(t);const e=gD(t);return e!==t&&(Gf.set(t,e),hy.set(e,t)),e}const Kf=t=>hy.get(t);function kE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Cs(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Cs(a.result),c.oldVersion,c.newVersion,Cs(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const yD=["get","getKey","getAll","getAllKeys","count"],vD=["put","add","delete","clear"],Qf=new Map;function P1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=vD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yD.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Qf.set(e,i),i}mD(t=>({...t,get:(e,n,r)=>P1(e,n)||t.get(e,n,r),has:(e,n)=>!!P1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bp="@firebase/app",R1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new wh("@firebase/app"),_D="@firebase/app-compat",bD="@firebase/analytics-compat",TD="@firebase/analytics",kD="@firebase/app-check-compat",ED="@firebase/app-check",SD="@firebase/auth",ND="@firebase/auth-compat",ID="@firebase/database",jD="@firebase/data-connect",AD="@firebase/database-compat",CD="@firebase/functions",PD="@firebase/functions-compat",RD="@firebase/installations",MD="@firebase/installations-compat",DD="@firebase/messaging",LD="@firebase/messaging-compat",OD="@firebase/performance",VD="@firebase/performance-compat",FD="@firebase/remote-config",UD="@firebase/remote-config-compat",BD="@firebase/storage",zD="@firebase/storage-compat",$D="@firebase/firestore",qD="@firebase/vertexai-preview",HD="@firebase/firestore-compat",WD="firebase",GD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",KD={[bp]:"fire-core",[_D]:"fire-core-compat",[TD]:"fire-analytics",[bD]:"fire-analytics-compat",[ED]:"fire-app-check",[kD]:"fire-app-check-compat",[SD]:"fire-auth",[ND]:"fire-auth-compat",[ID]:"fire-rtdb",[jD]:"fire-data-connect",[AD]:"fire-rtdb-compat",[CD]:"fire-fn",[PD]:"fire-fn-compat",[RD]:"fire-iid",[MD]:"fire-iid-compat",[DD]:"fire-fcm",[LD]:"fire-fcm-compat",[OD]:"fire-perf",[VD]:"fire-perf-compat",[FD]:"fire-rc",[UD]:"fire-rc-compat",[BD]:"fire-gcs",[zD]:"fire-gcs-compat",[$D]:"fire-fst",[HD]:"fire-fst-compat",[qD]:"fire-vertex","fire-js":"fire-js",[WD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map,QD=new Map,kp=new Map;function M1(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tr(t){const e=t.name;if(kp.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;kp.set(e,t);for(const n of Sd.values())M1(n,t);for(const n of QD.values())M1(n,t);return!0}function Js(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Hi("app","Firebase",YD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=GD;function EE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ps.create("bad-app-name",{appName:String(s)});if(n||(n=gE()),!n)throw Ps.create("no-options");const i=Sd.get(s);if(i){if(Ll(n,i.options)&&Ll(r,i.config))return i;throw Ps.create("duplicate-app",{appName:s})}const a=new sD(s);for(const c of kp.values())a.addComponent(c);const l=new JD(n,r,a);return Sd.set(s,l),l}function _h(t=Tp){const e=Sd.get(t);if(!e&&t===Tp&&gE())return EE();if(!e)throw Ps.create("no-app",{appName:t});return e}function hn(t,e,n){var r;let s=(r=KD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(l.join(" "));return}tr(new Fn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="firebase-heartbeat-database",ZD=1,Ol="firebase-heartbeat-store";let Yf=null;function SE(){return Yf||(Yf=kE(XD,ZD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),Yf}async function eL(t){try{const n=(await SE()).transaction(Ol),r=await n.objectStore(Ol).get(NE(t));return await n.done,r}catch(e){if(e instanceof Un)$r.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function D1(t,e){try{const r=(await SE()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(e,NE(t)),await r.done}catch(n){if(n instanceof Un)$r.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function NE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=1024,nL=30*24*60*60*1e3;class rL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=L1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=nL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$r.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L1(),{heartbeatsToSend:r,unsentEntries:s}=sL(this._heartbeatsCache.heartbeats),i=Ed(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return $r.warn(n),""}}}function L1(){return new Date().toISOString().substring(0,10)}function sL(t,e=tL){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),O1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),O1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wE()?_E().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return D1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return D1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function O1(t){return Ed(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){tr(new Fn("platform-logger",e=>new xD(e),"PRIVATE")),tr(new Fn("heartbeat",e=>new rL(e),"PRIVATE")),hn(bp,R1,t),hn(bp,R1,"esm2017"),hn("fire-js","")}aL("");var oL="firebase",lL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn(oL,lL,"app");function fy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function IE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cL=IE,jE=new Hi("auth","Firebase",IE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new wh("@firebase/auth");function uL(t,...e){Nd.logLevel<=xe.WARN&&Nd.warn(`Auth (${Wi}): ${t}`,...e)}function Ru(t,...e){Nd.logLevel<=xe.ERROR&&Nd.error(`Auth (${Wi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw my(t,...e)}function mr(t,...e){return my(t,...e)}function AE(t,e,n){const r=Object.assign(Object.assign({},cL()),{[e]:n});return new Hi("auth","Firebase",r).create(e,{appName:t.name})}function Or(t){return AE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function my(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jE.create(t,...e)}function fe(t,e,...n){if(!t)throw my(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ru(e),new Error(e)}function qr(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dL(){return V1()==="http:"||V1()==="https:"}function V1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dL()||xE()||"connection"in navigator)?navigator.onLine:!0}function fL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=O4()||U4()}get(){return hL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new lc(3e4,6e4);function Xs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zs(t,e,n,r,s={}){return PE(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=oc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return F4()||(d.referrerPolicy="no-referrer"),CE.fetch()(RE(t,t.config.apiHost,n,l),d)})}async function PE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mL),e);try{const s=new yL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw ou(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ou(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw ou(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw ou(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw AE(t,h,d);nr(t,h)}}catch(s){if(s instanceof Un)throw s;nr(t,"network-request-failed",{message:String(s)})}}async function cc(t,e,n,r,s={}){const i=await Zs(t,e,n,r,s);return"mfaPendingCredential"in i&&nr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function RE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?py(t.config,s):`${t.config.apiScheme}://${s}`}function gL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),pL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mr(t,e,r);return s.customData._tokenResponse=n,s}function F1(t){return t!==void 0&&t.enterprise!==void 0}class vL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xL(t,e){return Zs(t,"GET","/v2/recaptchaConfig",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return Zs(t,"POST","/v1/accounts:delete",e)}async function ME(t,e){return Zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _L(t,e=!1){const n=He(t),r=await n.getIdToken(e),s=gy(r);fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ol(Jf(s.auth_time)),issuedAtTime:ol(Jf(s.iat)),expirationTime:ol(Jf(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Jf(t){return Number(t)*1e3}function gy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ru("JWT malformed, contained fewer than 3 sections"),null;try{const s=fE(n);return s?JSON.parse(s):(Ru("Failed to decode base64 JWT payload"),null)}catch(s){return Ru("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function U1(t){const e=gy(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Un&&bL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ol(this.lastLoginAt),this.creationTime=ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Vl(t,ME(n,{idToken:r}));fe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?DE(i.providerUserInfo):[],l=EL(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Sp(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function kL(t){const e=He(t);await Id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function DE(t){return t.map(e=>{var{providerId:n}=e,r=fy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e){const n=await PE(t,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=RE(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",CE.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NL(t,e){return Zs(t,"POST","/v2/accounts:revokeToken",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=U1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await SL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Aa;return r&&(fe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(fe(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(fe(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=fy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _L(this,e)}reload(){return kL(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await Vl(this,wL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,j=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:g,emailVerified:S,isAnonymous:D,providerData:C,stsTokenManager:_}=n;fe(g&&_,e,"internal-error");const w=Aa.fromJSON(this.name,_);fe(typeof g=="string",e,"internal-error"),is(f,e.name),is(p,e.name),fe(typeof S=="boolean",e,"internal-error"),fe(typeof D=="boolean",e,"internal-error"),is(x,e.name),is(b,e.name),is(E,e.name),is(j,e.name),is(T,e.name),is(v,e.name);const k=new Pr({uid:g,auth:e,email:p,emailVerified:S,displayName:f,isAnonymous:D,photoURL:b,phoneNumber:x,tenantId:E,stsTokenManager:w,createdAt:T,lastLoginAt:v});return C&&Array.isArray(C)&&(k.providerData=C.map(P=>Object.assign({},P))),j&&(k._redirectEventId=j),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new Aa;s.updateFromServerResponse(n);const i=new Pr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Id(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];fe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?DE(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Aa;l.updateFromIdToken(r);const c=new Pr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Sp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Map;function Rr(t){qr(t instanceof Function,"Expected a class definition");let e=B1.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LE.type="NONE";const z1=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Mu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Mu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ca(Rr(z1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Rr(z1);const a=Mu(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){const f=Pr._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ca(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Ca(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zE(e))return"Blackberry";if($E(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||FE(e))&&!e.includes("edge/"))return"Chrome";if(BE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OE(t=Wt()){return/firefox\//i.test(t)}function VE(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FE(t=Wt()){return/crios\//i.test(t)}function UE(t=Wt()){return/iemobile/i.test(t)}function BE(t=Wt()){return/android/i.test(t)}function zE(t=Wt()){return/blackberry/i.test(t)}function $E(t=Wt()){return/webos/i.test(t)}function yy(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IL(t=Wt()){var e;return yy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jL(){return B4()&&document.documentMode===10}function qE(t=Wt()){return yy(t)||BE(t)||$E(t)||zE(t)||/windows phone/i.test(t)||UE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t,e=[]){let n;switch(t){case"Browser":n=$1(Wt());break;case"Worker":n=`${$1(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",Xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=6;class RL{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:PL,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q1(this),this.idTokenSubscription=new q1(this),this.beforeStateQueue=new AL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ME(this,{idToken:e}),r=await Pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Or(this));const n=e?He(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CL(this),n=new RL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gi(t){return He(t)}class q1{constructor(e){this.auth=e,this.observer=null,this.addObserver=K4(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DL(t){bh=t}function WE(t){return bh.loadJS(t)}function LL(){return bh.recaptchaEnterpriseScript}function OL(){return bh.gapiScript}function VL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const FL="recaptcha-enterprise",UL="NO_RECAPTCHA";class BL{constructor(e){this.type=FL,this.auth=Gi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{xL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new vL(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;F1(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(UL)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&F1(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=LL();c.length!==0&&(c+=l),WE(c).then(()=>{s(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function H1(t,e,n,r=!1){const s=new BL(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Np(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await H1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await H1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e){const n=Js(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ll(i,e??{}))return s;nr(s,"already-initialized")}return n.initialize({options:e})}function $L(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qL(t,e,n){const r=Gi(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=GE(e),{host:a,port:l}=HL(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),WL()}function GE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HL(t){const e=GE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:W1(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:W1(a)}}}function W1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function GL(t,e){return Zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e){return cc(t,"POST","/v1/accounts:signInWithPassword",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e){return cc(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}async function YL(t,e){return cc(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends vy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,n,"signInWithPassword",KL);case"emailLink":return QL(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,r,"signUpPassword",GL);case"emailLink":return YL(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t,e){return cc(t,"POST","/v1/accounts:signInWithIdp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="http://localhost";class Ri extends vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=fy(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Ri(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Pa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pa(e,n)}buildRequest(){const e={requestUri:JL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZL(t){const e=$o(qo(t)).link,n=e?$o(qo(e)).deep_link_id:null,r=$o(qo(t)).deep_link_id;return(r?$o(qo(r)).link:null)||r||n||e||t}class xy{constructor(e){var n,r,s,i,a,l;const c=$o(qo(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=XL((s=c.mode)!==null&&s!==void 0?s:null);fe(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=ZL(e);try{return new xy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xy.parseLink(n);return fe(r,"argument-error"),Fl._fromEmailAndCode(e,r.code,r.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends KE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends uc{constructor(){super("facebook.com")}static credential(e){return Ri._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ri._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends uc{constructor(){super("github.com")}static credential(e){return Ri._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends uc{constructor(){super("twitter.com")}static credential(e,n){return Ri._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e){return cc(t,"POST","/v1/accounts:signUp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Pr._fromIdTokenResponse(e,r,s),a=G1(r);return new Mi({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=G1(r);return new Mi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function G1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Un{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new jd(e,n,r,s)}}function QE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(t,i,e,r):i})}async function tO(t,e,n=!1){const r=await Vl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e,n=!1){const{auth:r}=t;if(cr(r.app))return Promise.reject(Or(r));const s="reauthenticate";try{const i=await Vl(t,QE(r,s,e,t),n);fe(i.idToken,r,"internal-error");const a=gy(i.idToken);fe(a,r,"internal-error");const{sub:l}=a;return fe(t.uid===l,r,"user-mismatch"),Mi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(t,e,n=!1){if(cr(t.app))return Promise.reject(Or(t));const r="signIn",s=await QE(t,r,e),i=await Mi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function rO(t,e){return YE(Gi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(t){const e=Gi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sO(t,e,n){if(cr(t.app))return Promise.reject(Or(t));const r=Gi(t),a=await Np(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&JE(t),c}),l=await Mi._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function iO(t,e,n){return cr(t.app)?Promise.reject(Or(t)):rO(He(t),ro.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JE(t),r})}function aO(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function oO(t,e,n){return He(t).beforeAuthStateChanged(e,n)}function lO(t,e,n,r){return He(t).onAuthStateChanged(e,n,r)}function cO(t){return He(t).signOut()}const Ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1e3,dO=10;class ZE extends XE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);jL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,dO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZE.type="LOCAL";const hO=ZE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2 extends XE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}e2.type="SESSION";const t2=e2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Th(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async d=>d(n.origin,i)),c=await fO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const d=wy("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function pO(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function gO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vO(){return n2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="firebaseLocalStorageDb",xO=1,Cd="firebaseLocalStorage",s2="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(t,e){return t.transaction([Cd],e?"readwrite":"readonly").objectStore(Cd)}function wO(){const t=indexedDB.deleteDatabase(r2);return new dc(t).toPromise()}function Ip(){const t=indexedDB.open(r2,xO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cd,{keyPath:s2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cd)?e(r):(r.close(),await wO(),e(await Ip()))})})}async function K1(t,e,n){const r=kh(t,!0).put({[s2]:e,value:n});return new dc(r).toPromise()}async function _O(t,e){const n=kh(t,!1).get(e),r=await new dc(n).toPromise();return r===void 0?null:r.value}function Q1(t,e){const n=kh(t,!0).delete(e);return new dc(n).toPromise()}const bO=800,TO=3;class i2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(vO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gO(),!this.activeServiceWorker)return;this.sender=new mO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ip();return await K1(e,Ad,"1"),await Q1(e,Ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_O(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=kh(s,!1).getAll();return new dc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i2.type="LOCAL";const kO=i2;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t,e){return e?Rr(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends vy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SO(t){return YE(t.auth,new _y(t),t.bypassAuthState)}function NO(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),nO(n,new _y(t),t.bypassAuthState)}async function IO(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),tO(n,new _y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SO;case"linkViaPopup":case"linkViaRedirect":return IO;case"reauthViaPopup":case"reauthViaRedirect":return NO;default:nr(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new lc(2e3,1e4);class _a extends a2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jO.get())};e()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="pendingRedirect",Du=new Map;class CO extends a2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Du.get(this.auth._key());if(!e){try{const r=await PO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Du.set(this.auth._key(),e)}return this.bypassAuthState||Du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PO(t,e){const n=DO(e),r=MO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function RO(t,e){Du.set(t._key(),e)}function MO(t){return Rr(t._redirectPersistence)}function DO(t){return Mu(AO,t.config.apiKey,t.name)}async function LO(t,e,n=!1){if(cr(t.app))return Promise.reject(Or(t));const r=Gi(t),s=EO(r,e),a=await new CO(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=10*60*1e3;class VO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y1(e))}saveEventToCache(e){this.cachedEventUids.add(Y1(e)),this.lastProcessedEventTime=Date.now()}}function Y1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e={}){return Zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zO=/^https?/;async function $O(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UO(t);for(const n of e)try{if(qO(n))return}catch{}nr(t,"unauthorized-domain")}function qO(t){const e=Ep(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!zO.test(n))return!1;if(BO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new lc(3e4,6e4);function J1(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WO(t){return new Promise((e,n)=>{var r,s,i;function a(){J1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J1(),n(mr(t,"network-request-failed"))},timeout:HO.get()})}if(!((s=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=pr().gapi)===null||i===void 0)&&i.load)a();else{const l=VL("iframefcb");return pr()[l]=()=>{gapi.load?a():n(mr(t,"network-request-failed"))},WE(`${OL()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Lu=null,e})}let Lu=null;function GO(t){return Lu=Lu||WO(t),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new lc(5e3,15e3),QO="__/auth/iframe",YO="emulator/auth/iframe",JO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZO(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?py(e,YO):`https://${t.config.authDomain}/${QO}`,r={apiKey:e.apiKey,appName:t.name,v:Wi},s=XO.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${oc(r).slice(1)}`}async function eV(t){const e=await GO(t),n=pr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:ZO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JO,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=mr(t,"network-request-failed"),l=pr().setTimeout(()=>{i(a)},KO.get());function c(){pr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nV=500,rV=600,sV="_blank",iV="http://localhost";class X1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aV(t,e,n,r=nV,s=rV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},tV),{width:r.toString(),height:s.toString(),top:i,left:a}),d=Wt().toLowerCase();n&&(l=FE(d)?sV:n),OE(d)&&(e=e||iV,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[x,b])=>`${p}${x}=${b},`,"");if(IL(d)&&l!=="_self")return oV(e||"",l),new X1(null);const f=window.open(e||"",l,h);fe(f,t,"popup-blocked");try{f.focus()}catch{}return new X1(f)}function oV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="__/auth/handler",cV="emulator/auth/handler",uV=encodeURIComponent("fac");async function Z1(t,e,n,r,s,i){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wi,eventId:s};if(e instanceof KE){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",G4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof uc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${uV}=${encodeURIComponent(c)}`:"";return`${dV(t)}?${oc(l).slice(1)}${d}`}function dV({config:t}){return t.emulator?py(t,cV):`https://${t.authDomain}/${lV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="webStorageSupport";class hV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t2,this._completeRedirectFn=LO,this._overrideRedirectResult=RO}async _openPopup(e,n,r,s){var i;qr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await Z1(e,n,r,Ep(),s);return aV(e,a,wy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Z1(e,n,r,Ep(),s);return pO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(qr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eV(e),r=new VO(e);return n.register("authEvent",s=>(fe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xf,{type:Xf},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Xf];a!==void 0&&n(!!a),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$O(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qE()||VE()||yy()}}const fV=hV;var ew="@firebase/auth",tw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gV(t){tr(new Fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;fe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HE(t)},d=new ML(r,s,i,c);return $L(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tr(new Fn("auth-internal",e=>{const n=Gi(e.getProvider("auth").getImmediate());return(r=>new mV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hn(ew,tw,pV(t)),hn(ew,tw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=5*60,vV=yE("authIdTokenMaxAge")||yV;let nw=null;const xV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vV)return;const s=n==null?void 0:n.token;nw!==s&&(nw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function wV(t=_h()){const e=Js(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zL(t,{popupRedirectResolver:fV,persistence:[kO,hO,t2]}),r=yE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=xV(i.toString());oO(n,a,()=>a(n.currentUser)),aO(n,l=>a(l))}}const s=mE("auth");return s&&qL(n,`http://${s}`),n}function _V(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_V().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gV("Browser");const l2="@firebase/installations",by="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=1e4,u2=`w:${by}`,d2="FIS_v2",bV="https://firebaseinstallations.googleapis.com/v1",TV=60*60*1e3,kV="installations",EV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Di=new Hi(kV,EV,SV);function h2(t){return t instanceof Un&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2({projectId:t}){return`${bV}/projects/${t}/installations`}function m2(t){return{token:t.token,requestStatus:2,expiresIn:IV(t.expiresIn),creationTime:Date.now()}}async function p2(t,e){const r=(await e.json()).error;return Di.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function g2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function NV(t,{refreshToken:e}){const n=g2(t);return n.append("Authorization",jV(e)),n}async function y2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function IV(t){return Number(t.replace("s","000"))}function jV(t){return`${d2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=f2(t),s=g2(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={fid:n,authVersion:d2,appId:t.appId,sdkVersion:u2},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await y2(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:m2(d.authToken)}}else throw await p2("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=/^[cdef][\w-]{21}$/,jp="";function RV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=MV(t);return PV.test(n)?n:jp}catch{return jp}}function MV(t){return CV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new Map;function w2(t,e){const n=Eh(t);_2(n,e),DV(n,e)}function _2(t,e){const n=x2.get(t);if(n)for(const r of n)r(e)}function DV(t,e){const n=LV();n&&n.postMessage({key:t,fid:e}),OV()}let _i=null;function LV(){return!_i&&"BroadcastChannel"in self&&(_i=new BroadcastChannel("[Firebase] FID Change"),_i.onmessage=t=>{_2(t.data.key,t.data.fid)}),_i}function OV(){x2.size===0&&_i&&(_i.close(),_i=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="firebase-installations-database",FV=1,Li="firebase-installations-store";let Zf=null;function Ty(){return Zf||(Zf=kE(VV,FV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Li)}}})),Zf}async function Pd(t,e){const n=Eh(t),s=(await Ty()).transaction(Li,"readwrite"),i=s.objectStore(Li),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&w2(t,e.fid),e}async function b2(t){const e=Eh(t),r=(await Ty()).transaction(Li,"readwrite");await r.objectStore(Li).delete(e),await r.done}async function Sh(t,e){const n=Eh(t),s=(await Ty()).transaction(Li,"readwrite"),i=s.objectStore(Li),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&w2(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ky(t){let e;const n=await Sh(t.appConfig,r=>{const s=UV(r),i=BV(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===jp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function UV(t){const e=t||{fid:RV(),registrationStatus:0};return T2(e)}function BV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Di.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=zV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$V(t)}:{installationEntry:e}}async function zV(t,e){try{const n=await AV(t,e);return Pd(t.appConfig,n)}catch(n){throw h2(n)&&n.customData.serverCode===409?await b2(t.appConfig):await Pd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $V(t){let e=await rw(t.appConfig);for(;e.registrationStatus===1;)await v2(100),e=await rw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ky(t);return r||n}return e}function rw(t){return Sh(t,e=>{if(!e)throw Di.create("installation-not-found");return T2(e)})}function T2(t){return qV(t)?{fid:t.fid,registrationStatus:0}:t}function qV(t){return t.registrationStatus===1&&t.registrationTime+c2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV({appConfig:t,heartbeatServiceProvider:e},n){const r=WV(t,n),s=NV(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={installation:{sdkVersion:u2,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await y2(()=>fetch(r,l));if(c.ok){const d=await c.json();return m2(d)}else throw await p2("Generate Auth Token",c)}function WV(t,{fid:e}){return`${f2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ey(t,e=!1){let n;const r=await Sh(t.appConfig,i=>{if(!k2(i))throw Di.create("not-registered");const a=i.authToken;if(!e&&QV(a))return i;if(a.requestStatus===1)return n=GV(t,e),i;{if(!navigator.onLine)throw Di.create("app-offline");const l=JV(i);return n=KV(t,l),l}});return n?await n:r.authToken}async function GV(t,e){let n=await sw(t.appConfig);for(;n.authToken.requestStatus===1;)await v2(100),n=await sw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ey(t,e):r}function sw(t){return Sh(t,e=>{if(!k2(e))throw Di.create("not-registered");const n=e.authToken;return XV(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function KV(t,e){try{const n=await HV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Pd(t.appConfig,r),n}catch(n){if(h2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await b2(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Pd(t.appConfig,r)}throw n}}function k2(t){return t!==void 0&&t.registrationStatus===2}function QV(t){return t.requestStatus===2&&!YV(t)}function YV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+TV}function JV(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function XV(t){return t.requestStatus===1&&t.requestTime+c2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t){const e=t,{installationEntry:n,registrationPromise:r}=await ky(e);return r?r.catch(console.error):Ey(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e=!1){const n=t;return await t3(n),(await Ey(n,e)).token}async function t3(t){const{registrationPromise:e}=await ky(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){if(!t||!t.options)throw em("App Configuration");if(!t.name)throw em("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw em(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function em(t){return Di.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="installations",r3="installations-internal",s3=t=>{const e=t.getProvider("app").getImmediate(),n=n3(e),r=Js(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},i3=t=>{const e=t.getProvider("app").getImmediate(),n=Js(e,E2).getImmediate();return{getId:()=>ZV(n),getToken:s=>e3(n,s)}};function a3(){tr(new Fn(E2,s3,"PUBLIC")),tr(new Fn(r3,i3,"PRIVATE"))}a3();hn(l2,by);hn(l2,by,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="analytics",o3="firebase_id",l3="origin",c3=60*1e3,u3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new wh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Hi("analytics","Analytics",d3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){if(!t.startsWith(Sy)){const e=bn.create("invalid-gtag-resource",{gtagURL:t});return fn.warn(e.message),""}return t}function S2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function f3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function m3(t,e){const n=f3("firebase-js-sdk-policy",{createScriptURL:h3}),r=document.createElement("script"),s=`${Sy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function p3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function g3(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const c=(await S2(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){fn.error(l)}t("config",s,i)}async function y3(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await S2(n);for(const c of a){const d=l.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){fn.error(i)}}function v3(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[l,c]=a;await y3(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await g3(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=a;t("consent",l,c)}else if(i==="get"){const[l,c,d]=a;t("get",l,c,d)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){fn.error(l)}}return s}function x3(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=v3(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function w3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=30,b3=1e3;class T3{constructor(e={},n=b3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const N2=new T3;function k3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function E3(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:k3(r)},i=u3.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function S3(t,e=N2,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw bn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw bn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new j3;return setTimeout(async()=>{l.abort()},c3),I2({appId:r,apiKey:s,measurementId:i},a,l,e)}async function I2(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=N2){var i;const{appId:a,measurementId:l}=t;try{await N3(r,e)}catch(c){if(l)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await E3(t);return s.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!I3(d)){if(s.deleteThrottleMetadata(a),l)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:l};throw c}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?j1(n,s.intervalMillis,_3):j1(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(a,f),fn.debug(`Calling attemptFetch again in ${h} millis`),I2(t,f,r,s)}}function N3(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function I3(t){if(!(t instanceof Un)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class j3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function A3(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a=Object.assign(Object.assign({},r),{send_to:i});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(){if(wE())try{await _E()}catch(t){return fn.warn(bn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function P3(t,e,n,r,s,i,a){var l;const c=S3(t);c.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>fn.error(x)),e.push(c);const d=C3().then(x=>{if(x)return r.getId()}),[h,f]=await Promise.all([c,d]);w3(i)||m3(i,h.measurementId),s("js",new Date);const p=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return p[l3]="firebase",p.update=!0,f!=null&&(p[o3]=f),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.app=e}_delete(){return delete ll[this.app.options.appId],Promise.resolve()}}let ll={},iw=[];const aw={};let tm="dataLayer",M3="gtag",ow,j2,lw=!1;function D3(){const t=[];if(xE()&&t.push("This is a browser extension environment."),$4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function L3(t,e,n){D3();const r=t.options.appId;if(!r)throw bn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(ll[r]!=null)throw bn.create("already-exists",{id:r});if(!lw){p3(tm);const{wrappedGtag:i,gtagCore:a}=x3(ll,iw,aw,tm,M3);j2=i,ow=a,lw=!0}return ll[r]=P3(t,iw,aw,e,ow,tm,n),new R3(t)}function O3(t=_h()){t=He(t);const e=Js(t,Rd);return e.isInitialized()?e.getImmediate():V3(t)}function V3(t,e={}){const n=Js(t,Rd);if(n.isInitialized()){const s=n.getImmediate();if(Ll(e,n.getOptions()))return s;throw bn.create("already-initialized")}return n.initialize({options:e})}function F3(t,e,n,r){t=He(t),A3(j2,ll[t.app.options.appId],e,n,r).catch(s=>fn.error(s))}const cw="@firebase/analytics",uw="0.10.8";function U3(){tr(new Fn(Rd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return L3(r,s,n)},"PUBLIC")),tr(new Fn("analytics-internal",t,"PRIVATE")),hn(cw,uw),hn(cw,uw,"esm2017");function t(e){try{const n=e.getProvider(Rd).getImmediate();return{logEvent:(r,s,i)=>F3(n,r,s,i)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}}}U3();var dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Si,A2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,w){function k(){}k.prototype=w.prototype,_.D=w.prototype,_.prototype=new k,_.prototype.constructor=_,_.C=function(P,L,R){for(var N=Array(arguments.length-2),re=2;re<arguments.length;re++)N[re-2]=arguments[re];return w.prototype[L].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,w,k){k||(k=0);var P=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)P[L]=w.charCodeAt(k++)|w.charCodeAt(k++)<<8|w.charCodeAt(k++)<<16|w.charCodeAt(k++)<<24;else for(L=0;16>L;++L)P[L]=w[k++]|w[k++]<<8|w[k++]<<16|w[k++]<<24;w=_.g[0],k=_.g[1],L=_.g[2];var R=_.g[3],N=w+(R^k&(L^R))+P[0]+3614090360&4294967295;w=k+(N<<7&4294967295|N>>>25),N=R+(L^w&(k^L))+P[1]+3905402710&4294967295,R=w+(N<<12&4294967295|N>>>20),N=L+(k^R&(w^k))+P[2]+606105819&4294967295,L=R+(N<<17&4294967295|N>>>15),N=k+(w^L&(R^w))+P[3]+3250441966&4294967295,k=L+(N<<22&4294967295|N>>>10),N=w+(R^k&(L^R))+P[4]+4118548399&4294967295,w=k+(N<<7&4294967295|N>>>25),N=R+(L^w&(k^L))+P[5]+1200080426&4294967295,R=w+(N<<12&4294967295|N>>>20),N=L+(k^R&(w^k))+P[6]+2821735955&4294967295,L=R+(N<<17&4294967295|N>>>15),N=k+(w^L&(R^w))+P[7]+4249261313&4294967295,k=L+(N<<22&4294967295|N>>>10),N=w+(R^k&(L^R))+P[8]+1770035416&4294967295,w=k+(N<<7&4294967295|N>>>25),N=R+(L^w&(k^L))+P[9]+2336552879&4294967295,R=w+(N<<12&4294967295|N>>>20),N=L+(k^R&(w^k))+P[10]+4294925233&4294967295,L=R+(N<<17&4294967295|N>>>15),N=k+(w^L&(R^w))+P[11]+2304563134&4294967295,k=L+(N<<22&4294967295|N>>>10),N=w+(R^k&(L^R))+P[12]+1804603682&4294967295,w=k+(N<<7&4294967295|N>>>25),N=R+(L^w&(k^L))+P[13]+4254626195&4294967295,R=w+(N<<12&4294967295|N>>>20),N=L+(k^R&(w^k))+P[14]+2792965006&4294967295,L=R+(N<<17&4294967295|N>>>15),N=k+(w^L&(R^w))+P[15]+1236535329&4294967295,k=L+(N<<22&4294967295|N>>>10),N=w+(L^R&(k^L))+P[1]+4129170786&4294967295,w=k+(N<<5&4294967295|N>>>27),N=R+(k^L&(w^k))+P[6]+3225465664&4294967295,R=w+(N<<9&4294967295|N>>>23),N=L+(w^k&(R^w))+P[11]+643717713&4294967295,L=R+(N<<14&4294967295|N>>>18),N=k+(R^w&(L^R))+P[0]+3921069994&4294967295,k=L+(N<<20&4294967295|N>>>12),N=w+(L^R&(k^L))+P[5]+3593408605&4294967295,w=k+(N<<5&4294967295|N>>>27),N=R+(k^L&(w^k))+P[10]+38016083&4294967295,R=w+(N<<9&4294967295|N>>>23),N=L+(w^k&(R^w))+P[15]+3634488961&4294967295,L=R+(N<<14&4294967295|N>>>18),N=k+(R^w&(L^R))+P[4]+3889429448&4294967295,k=L+(N<<20&4294967295|N>>>12),N=w+(L^R&(k^L))+P[9]+568446438&4294967295,w=k+(N<<5&4294967295|N>>>27),N=R+(k^L&(w^k))+P[14]+3275163606&4294967295,R=w+(N<<9&4294967295|N>>>23),N=L+(w^k&(R^w))+P[3]+4107603335&4294967295,L=R+(N<<14&4294967295|N>>>18),N=k+(R^w&(L^R))+P[8]+1163531501&4294967295,k=L+(N<<20&4294967295|N>>>12),N=w+(L^R&(k^L))+P[13]+2850285829&4294967295,w=k+(N<<5&4294967295|N>>>27),N=R+(k^L&(w^k))+P[2]+4243563512&4294967295,R=w+(N<<9&4294967295|N>>>23),N=L+(w^k&(R^w))+P[7]+1735328473&4294967295,L=R+(N<<14&4294967295|N>>>18),N=k+(R^w&(L^R))+P[12]+2368359562&4294967295,k=L+(N<<20&4294967295|N>>>12),N=w+(k^L^R)+P[5]+4294588738&4294967295,w=k+(N<<4&4294967295|N>>>28),N=R+(w^k^L)+P[8]+2272392833&4294967295,R=w+(N<<11&4294967295|N>>>21),N=L+(R^w^k)+P[11]+1839030562&4294967295,L=R+(N<<16&4294967295|N>>>16),N=k+(L^R^w)+P[14]+4259657740&4294967295,k=L+(N<<23&4294967295|N>>>9),N=w+(k^L^R)+P[1]+2763975236&4294967295,w=k+(N<<4&4294967295|N>>>28),N=R+(w^k^L)+P[4]+1272893353&4294967295,R=w+(N<<11&4294967295|N>>>21),N=L+(R^w^k)+P[7]+4139469664&4294967295,L=R+(N<<16&4294967295|N>>>16),N=k+(L^R^w)+P[10]+3200236656&4294967295,k=L+(N<<23&4294967295|N>>>9),N=w+(k^L^R)+P[13]+681279174&4294967295,w=k+(N<<4&4294967295|N>>>28),N=R+(w^k^L)+P[0]+3936430074&4294967295,R=w+(N<<11&4294967295|N>>>21),N=L+(R^w^k)+P[3]+3572445317&4294967295,L=R+(N<<16&4294967295|N>>>16),N=k+(L^R^w)+P[6]+76029189&4294967295,k=L+(N<<23&4294967295|N>>>9),N=w+(k^L^R)+P[9]+3654602809&4294967295,w=k+(N<<4&4294967295|N>>>28),N=R+(w^k^L)+P[12]+3873151461&4294967295,R=w+(N<<11&4294967295|N>>>21),N=L+(R^w^k)+P[15]+530742520&4294967295,L=R+(N<<16&4294967295|N>>>16),N=k+(L^R^w)+P[2]+3299628645&4294967295,k=L+(N<<23&4294967295|N>>>9),N=w+(L^(k|~R))+P[0]+4096336452&4294967295,w=k+(N<<6&4294967295|N>>>26),N=R+(k^(w|~L))+P[7]+1126891415&4294967295,R=w+(N<<10&4294967295|N>>>22),N=L+(w^(R|~k))+P[14]+2878612391&4294967295,L=R+(N<<15&4294967295|N>>>17),N=k+(R^(L|~w))+P[5]+4237533241&4294967295,k=L+(N<<21&4294967295|N>>>11),N=w+(L^(k|~R))+P[12]+1700485571&4294967295,w=k+(N<<6&4294967295|N>>>26),N=R+(k^(w|~L))+P[3]+2399980690&4294967295,R=w+(N<<10&4294967295|N>>>22),N=L+(w^(R|~k))+P[10]+4293915773&4294967295,L=R+(N<<15&4294967295|N>>>17),N=k+(R^(L|~w))+P[1]+2240044497&4294967295,k=L+(N<<21&4294967295|N>>>11),N=w+(L^(k|~R))+P[8]+1873313359&4294967295,w=k+(N<<6&4294967295|N>>>26),N=R+(k^(w|~L))+P[15]+4264355552&4294967295,R=w+(N<<10&4294967295|N>>>22),N=L+(w^(R|~k))+P[6]+2734768916&4294967295,L=R+(N<<15&4294967295|N>>>17),N=k+(R^(L|~w))+P[13]+1309151649&4294967295,k=L+(N<<21&4294967295|N>>>11),N=w+(L^(k|~R))+P[4]+4149444226&4294967295,w=k+(N<<6&4294967295|N>>>26),N=R+(k^(w|~L))+P[11]+3174756917&4294967295,R=w+(N<<10&4294967295|N>>>22),N=L+(w^(R|~k))+P[2]+718787259&4294967295,L=R+(N<<15&4294967295|N>>>17),N=k+(R^(L|~w))+P[9]+3951481745&4294967295,_.g[0]=_.g[0]+w&4294967295,_.g[1]=_.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,_.g[2]=_.g[2]+L&4294967295,_.g[3]=_.g[3]+R&4294967295}r.prototype.u=function(_,w){w===void 0&&(w=_.length);for(var k=w-this.blockSize,P=this.B,L=this.h,R=0;R<w;){if(L==0)for(;R<=k;)s(this,_,R),R+=this.blockSize;if(typeof _=="string"){for(;R<w;)if(P[L++]=_.charCodeAt(R++),L==this.blockSize){s(this,P),L=0;break}}else for(;R<w;)if(P[L++]=_[R++],L==this.blockSize){s(this,P),L=0;break}}this.h=L,this.o+=w},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var w=1;w<_.length-8;++w)_[w]=0;var k=8*this.o;for(w=_.length-8;w<_.length;++w)_[w]=k&255,k/=256;for(this.u(_),_=Array(16),w=k=0;4>w;++w)for(var P=0;32>P;P+=8)_[k++]=this.g[w]>>>P&255;return _};function i(_,w){var k=l;return Object.prototype.hasOwnProperty.call(k,_)?k[_]:k[_]=w(_)}function a(_,w){this.h=w;for(var k=[],P=!0,L=_.length-1;0<=L;L--){var R=_[L]|0;P&&R==w||(k[L]=R,P=!1)}this.g=k}var l={};function c(_){return-128<=_&&128>_?i(_,function(w){return new a([w|0],0>w?-1:0)}):new a([_|0],0>_?-1:0)}function d(_){if(isNaN(_)||!isFinite(_))return f;if(0>_)return j(d(-_));for(var w=[],k=1,P=0;_>=k;P++)w[P]=_/k|0,k*=4294967296;return new a(w,0)}function h(_,w){if(_.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(_.charAt(0)=="-")return j(h(_.substring(1),w));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(w,8)),P=f,L=0;L<_.length;L+=8){var R=Math.min(8,_.length-L),N=parseInt(_.substring(L,L+R),w);8>R?(R=d(Math.pow(w,R)),P=P.j(R).add(d(N))):(P=P.j(k),P=P.add(d(N)))}return P}var f=c(0),p=c(1),x=c(16777216);t=a.prototype,t.m=function(){if(E(this))return-j(this).m();for(var _=0,w=1,k=0;k<this.g.length;k++){var P=this.i(k);_+=(0<=P?P:4294967296+P)*w,w*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b(this))return"0";if(E(this))return"-"+j(this).toString(_);for(var w=d(Math.pow(_,6)),k=this,P="";;){var L=S(k,w).g;k=T(k,L.j(w));var R=((0<k.g.length?k.g[0]:k.h)>>>0).toString(_);if(k=L,b(k))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function b(_){if(_.h!=0)return!1;for(var w=0;w<_.g.length;w++)if(_.g[w]!=0)return!1;return!0}function E(_){return _.h==-1}t.l=function(_){return _=T(this,_),E(_)?-1:b(_)?0:1};function j(_){for(var w=_.g.length,k=[],P=0;P<w;P++)k[P]=~_.g[P];return new a(k,~_.h).add(p)}t.abs=function(){return E(this)?j(this):this},t.add=function(_){for(var w=Math.max(this.g.length,_.g.length),k=[],P=0,L=0;L<=w;L++){var R=P+(this.i(L)&65535)+(_.i(L)&65535),N=(R>>>16)+(this.i(L)>>>16)+(_.i(L)>>>16);P=N>>>16,R&=65535,N&=65535,k[L]=N<<16|R}return new a(k,k[k.length-1]&-2147483648?-1:0)};function T(_,w){return _.add(j(w))}t.j=function(_){if(b(this)||b(_))return f;if(E(this))return E(_)?j(this).j(j(_)):j(j(this).j(_));if(E(_))return j(this.j(j(_)));if(0>this.l(x)&&0>_.l(x))return d(this.m()*_.m());for(var w=this.g.length+_.g.length,k=[],P=0;P<2*w;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<_.g.length;L++){var R=this.i(P)>>>16,N=this.i(P)&65535,re=_.i(L)>>>16,ee=_.i(L)&65535;k[2*P+2*L]+=N*ee,v(k,2*P+2*L),k[2*P+2*L+1]+=R*ee,v(k,2*P+2*L+1),k[2*P+2*L+1]+=N*re,v(k,2*P+2*L+1),k[2*P+2*L+2]+=R*re,v(k,2*P+2*L+2)}for(P=0;P<w;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=w;P<2*w;P++)k[P]=0;return new a(k,0)};function v(_,w){for(;(_[w]&65535)!=_[w];)_[w+1]+=_[w]>>>16,_[w]&=65535,w++}function g(_,w){this.g=_,this.h=w}function S(_,w){if(b(w))throw Error("division by zero");if(b(_))return new g(f,f);if(E(_))return w=S(j(_),w),new g(j(w.g),j(w.h));if(E(w))return w=S(_,j(w)),new g(j(w.g),w.h);if(30<_.g.length){if(E(_)||E(w))throw Error("slowDivide_ only works with positive integers.");for(var k=p,P=w;0>=P.l(_);)k=D(k),P=D(P);var L=C(k,1),R=C(P,1);for(P=C(P,2),k=C(k,2);!b(P);){var N=R.add(P);0>=N.l(_)&&(L=L.add(k),R=N),P=C(P,1),k=C(k,1)}return w=T(_,L.j(w)),new g(L,w)}for(L=f;0<=_.l(w);){for(k=Math.max(1,Math.floor(_.m()/w.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=d(k),N=R.j(w);E(N)||0<N.l(_);)k-=P,R=d(k),N=R.j(w);b(R)&&(R=p),L=L.add(R),_=T(_,N)}return new g(L,_)}t.A=function(_){return S(this,_).h},t.and=function(_){for(var w=Math.max(this.g.length,_.g.length),k=[],P=0;P<w;P++)k[P]=this.i(P)&_.i(P);return new a(k,this.h&_.h)},t.or=function(_){for(var w=Math.max(this.g.length,_.g.length),k=[],P=0;P<w;P++)k[P]=this.i(P)|_.i(P);return new a(k,this.h|_.h)},t.xor=function(_){for(var w=Math.max(this.g.length,_.g.length),k=[],P=0;P<w;P++)k[P]=this.i(P)^_.i(P);return new a(k,this.h^_.h)};function D(_){for(var w=_.g.length+1,k=[],P=0;P<w;P++)k[P]=_.i(P)<<1|_.i(P-1)>>>31;return new a(k,_.h)}function C(_,w){var k=w>>5;w%=32;for(var P=_.g.length-k,L=[],R=0;R<P;R++)L[R]=0<w?_.i(R+k)>>>w|_.i(R+k+1)<<32-w:_.i(R+k);return new a(L,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,A2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,Si=a}).apply(typeof dw<"u"?dw:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C2,Ho,P2,Ou,Ap,R2,M2,D2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var y=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var O=u[I];if(!(O in y))break e;y=y[O]}u=u[u.length-1],I=y[u],m=m(I),m!=I&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var y=0,I=!1,O={next:function(){if(!I&&y<u.length){var F=y++;return{value:m(F,u[F]),done:!1}}return I=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,y){return u.call.apply(u.bind,arguments)}function f(u,m,y){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,I),u.apply(m,O)}}return function(){return u.apply(m,arguments)}}function p(u,m,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function x(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function b(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(I,O,F){for(var K=Array(arguments.length-2),De=2;De<arguments.length;De++)K[De-2]=arguments[De];return m.prototype[O].apply(I,K)}}function E(u){const m=u.length;if(0<m){const y=Array(m);for(let I=0;I<m;I++)y[I]=u[I];return y}return[]}function j(u,m){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(c(I)){const O=u.length||0,F=I.length||0;u.length=O+F;for(let K=0;K<F;K++)u[O+K]=I[K]}else u.push(I)}}class T{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(u){return/^[\s\xa0]*$/.test(u)}function g(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function S(u){return S[" "](u),u}S[" "]=function(){};var D=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function C(u,m,y){for(const I in u)m.call(y,u[I],I,u)}function _(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function w(u){const m={};for(const y in u)m[y]=u[y];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let y,I;for(let O=1;O<arguments.length;O++){I=arguments[O];for(y in I)u[y]=I[y];for(let F=0;F<k.length;F++)y=k[F],Object.prototype.hasOwnProperty.call(I,y)&&(u[y]=I[y])}}function L(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function R(u){l.setTimeout(()=>{throw u},0)}function N(){var u=W;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class re{constructor(){this.h=this.g=null}add(m,y){const I=ee.get();I.set(m,y),this.h?this.h.next=I:this.g=I,this.h=I}}var ee=new T(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let G,V=!1,W=new re,Z=()=>{const u=l.Promise.resolve(void 0);G=()=>{u.then(ie)}};var ie=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(y){R(y)}var m=ee;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}V=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};l.addEventListener("test",y,m),l.removeEventListener("test",y,m)}catch{}return u}();function Me(u,m){if(we.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(D){e:{try{S(m.nodeName);var O=!0;break e}catch{}O=!1}O||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:B[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Me.aa.h.call(this)}}b(Me,we);var B={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function me(u,m,y,I,O){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!I,this.ha=O,this.key=++Ie,this.da=this.fa=!1}function je(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function be(u){this.src=u,this.g={},this.h=0}be.prototype.add=function(u,m,y,I,O){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var K=$e(u,m,I,O);return-1<K?(m=u[K],y||(m.fa=!1)):(m=new me(m,this.src,F,!!I,O),m.fa=y,u.push(m)),m};function dt(u,m){var y=m.type;if(y in u.g){var I=u.g[y],O=Array.prototype.indexOf.call(I,m,void 0),F;(F=0<=O)&&Array.prototype.splice.call(I,O,1),F&&(je(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function $e(u,m,y,I){for(var O=0;O<u.length;++O){var F=u[O];if(!F.da&&F.listener==m&&F.capture==!!y&&F.ha==I)return O}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),zn={};function $n(u,m,y,I,O){if(Array.isArray(m)){for(var F=0;F<m.length;F++)$n(u,m[F],y,I,O);return null}return y=Y(y),u&&u[X]?u.K(m,y,d(I)?!!I.capture:!!I,O):qn(u,m,y,!1,I,O)}function qn(u,m,y,I,O,F){if(!m)throw Error("Invalid event type");var K=d(O)?!!O.capture:!!O,De=Tr(u);if(De||(u[Xe]=De=new be(u)),y=De.add(m,y,I,K,F),y.proxy)return y;if(I=Yr(),y.proxy=I,I.src=u,I.listener=y,u.addEventListener)Re||(O=K),O===void 0&&(O=!1),u.addEventListener(m.toString(),I,O);else if(u.attachEvent)u.attachEvent(Xr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Yr(){function u(y){return m.call(u.src,u.listener,y)}const m=ri;return u}function ni(u,m,y,I,O){if(Array.isArray(m))for(var F=0;F<m.length;F++)ni(u,m[F],y,I,O);else I=d(I)?!!I.capture:!!I,y=Y(y),u&&u[X]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],y=$e(F,y,I,O),-1<y&&(je(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Tr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=$e(m,y,I,O)),(y=-1<u?m[u]:null)&&Jr(y))}function Jr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[X])dt(m.i,u);else{var y=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(y,I,u.capture):m.detachEvent?m.detachEvent(Xr(y),I):m.addListener&&m.removeListener&&m.removeListener(I),(y=Tr(m))?(dt(y,u),y.h==0&&(y.src=null,m[Xe]=null)):je(u)}}}function Xr(u){return u in zn?zn[u]:zn[u]="on"+u}function ri(u,m){if(u.da)u=!0;else{m=new Me(m,this);var y=u.listener,I=u.ha||u.src;u.fa&&Jr(u),u=y.call(I,m)}return u}function Tr(u){return u=u[Xe],u instanceof be?u:null}var $="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(u){return typeof u=="function"?u:(u[$]||(u[$]=function(m){return u.handleEvent(m)}),u[$])}function oe(){le.call(this),this.i=new be(this),this.M=this,this.F=null}b(oe,le),oe.prototype[X]=!0,oe.prototype.removeEventListener=function(u,m,y,I){ni(this,u,m,y,I)};function ge(u,m){var y,I=u.F;if(I)for(y=[];I;I=I.F)y.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new we(m,u);else if(m instanceof we)m.target=m.target||u;else{var O=m;m=new we(I,u),P(m,O)}if(O=!0,y)for(var F=y.length-1;0<=F;F--){var K=m.g=y[F];O=Ae(K,I,!0,m)&&O}if(K=m.g=u,O=Ae(K,I,!0,m)&&O,O=Ae(K,I,!1,m)&&O,y)for(F=0;F<y.length;F++)K=m.g=y[F],O=Ae(K,I,!1,m)&&O}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],I=0;I<y.length;I++)je(y[I]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,y,I){return this.i.add(String(u),m,!1,y,I)},oe.prototype.L=function(u,m,y,I){return this.i.add(String(u),m,!0,y,I)};function Ae(u,m,y,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var O=!0,F=0;F<m.length;++F){var K=m[F];if(K&&!K.da&&K.capture==y){var De=K.listener,bt=K.ha||K.src;K.fa&&dt(u.i,K),O=De.call(bt,I)!==!1&&O}}return O&&!I.defaultPrevented}function rn(u,m,y){if(typeof u=="function")y&&(u=p(u,y));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(u,m||0)}function si(u){u.g=rn(()=>{u.g=null,u.i&&(u.i=!1,si(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kc extends le{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(u){le.call(this),this.h=u,this.g={}}b(Zr,le);var lo=[];function co(u){C(u.g,function(m,y){this.g.hasOwnProperty(y)&&Jr(m)},u),u.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),co(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Q=l.JSON.stringify,ue=l.JSON.parse,_t=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Ee(){}Ee.prototype.h=null;function Rt(u){return u.h||(u.h=u.i())}function tt(){}var Mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){we.call(this,"d")}b(ii,we);function es(){we.call(this,"c")}b(es,we);var sr={},ir=null;function Ec(){return ir=ir||new oe}sr.La="serverreachability";function vv(u){we.call(this,sr.La,u)}b(vv,we);function uo(u){const m=Ec();ge(m,new vv(m))}sr.STAT_EVENT="statevent";function xv(u,m){we.call(this,sr.STAT_EVENT,u),this.stat=m}b(xv,we);function Gt(u){const m=Ec();ge(m,new xv(m,u))}sr.Ma="timingevent";function wv(u,m){we.call(this,sr.Ma,u),this.size=m}b(wv,we);function ho(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},m)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function gN(u,m,y,I,O,F){u.info(function(){if(u.g)if(F)for(var K="",De=F.split("&"),bt=0;bt<De.length;bt++){var Se=De[bt].split("=");if(1<Se.length){var Dt=Se[0];Se=Se[1];var Lt=Dt.split("_");K=2<=Lt.length&&Lt[1]=="type"?K+(Dt+"="+Se+"&"):K+(Dt+"=redacted&")}}else K=null;else K=F;return"XMLHTTP REQ ("+I+") [attempt "+O+"]: "+m+`
`+y+`
`+K})}function yN(u,m,y,I,O,F,K){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+O+"]: "+m+`
`+y+`
`+F+" "+K})}function Ji(u,m,y,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xN(u,y)+(I?" "+I:"")})}function vN(u,m){u.info(function(){return"TIMEOUT: "+m})}fo.prototype.info=function(){};function xN(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var I=y[u];if(!(2>I.length)){var O=I[1];if(Array.isArray(O)&&!(1>O.length)){var F=O[0];if(F!="noop"&&F!="stop"&&F!="close")for(var K=1;K<O.length;K++)O[K]=""}}}}return Q(y)}catch{return m}}var Sc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_v={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gh;function Nc(){}b(Nc,Ee),Nc.prototype.g=function(){return new XMLHttpRequest},Nc.prototype.i=function(){return{}},Gh=new Nc;function ts(u,m,y,I){this.j=u,this.i=m,this.l=y,this.R=I||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bv}function bv(){this.i=null,this.g="",this.h=!1}var Tv={},Kh={};function Qh(u,m,y){u.L=1,u.v=Cc(kr(m)),u.m=y,u.P=!0,kv(u,null)}function kv(u,m){u.F=Date.now(),Ic(u),u.A=kr(u.v);var y=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Vv(y.i,"t",I),u.C=0,y=u.j.J,u.h=new bv,u.g=n0(u.j,y?m:null,!u.m),0<u.O&&(u.M=new kc(p(u.Y,u,u.g),u.O)),m=u.U,y=u.g,I=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(lo[0]=O.toString()),O=lo);for(var F=0;F<O.length;F++){var K=$n(y,O[F],I||m.handleEvent,!1,m.h||m);if(!K)break;m.g[K.key]=K}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),uo(),gN(u.i,u.u,u.A,u.l,u.R,u.m)}ts.prototype.ca=function(u){u=u.target;const m=this.M;m&&Er(u)==3?m.j():this.Y(u)},ts.prototype.Y=function(u){try{if(u==this.g)e:{const Lt=Er(this.g);var m=this.g.Ba();const ea=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Hv(this.g)))){this.J||Lt!=4||m==7||(m==8||0>=ea?uo(3):uo(2)),Yh(this);var y=this.g.Z();this.X=y;t:if(Ev(this)){var I=Hv(this.g);u="";var O=I.length,F=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ai(this),mo(this);var K="";break t}this.h.i=new l.TextDecoder}for(m=0;m<O;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(F&&m==O-1)});I.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=y==200,yN(this.i,this.u,this.A,this.l,this.R,Lt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var De,bt=this.g;if((De=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(De)){var Se=De;break t}}Se=null}if(y=Se)Ji(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jh(this,y);else{this.o=!1,this.s=3,Gt(12),ai(this),mo(this);break e}}if(this.P){y=!0;let Hn;for(;!this.J&&this.C<K.length;)if(Hn=wN(this,K),Hn==Kh){Lt==4&&(this.s=4,Gt(14),y=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==Tv){this.s=4,Gt(15),Ji(this.i,this.l,K,"[Invalid Chunk]"),y=!1;break}else Ji(this.i,this.l,Hn,null),Jh(this,Hn);if(Ev(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||K.length!=0||this.h.h||(this.s=1,Gt(16),y=!1),this.o=this.o&&y,!y)Ji(this.i,this.l,K,"[Invalid Chunked Response]"),ai(this),mo(this);else if(0<K.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),rf(Dt),Dt.M=!0,Gt(11))}}else Ji(this.i,this.l,K,null),Jh(this,K);Lt==4&&ai(this),this.o&&!this.J&&(Lt==4?Xv(this.j,this):(this.o=!1,Ic(this)))}else ON(this.g),y==400&&0<K.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),ai(this),mo(this)}}}catch{}finally{}};function Ev(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wN(u,m){var y=u.C,I=m.indexOf(`
`,y);return I==-1?Kh:(y=Number(m.substring(y,I)),isNaN(y)?Tv:(I+=1,I+y>m.length?Kh:(m=m.slice(I,I+y),u.C=I+y,m)))}ts.prototype.cancel=function(){this.J=!0,ai(this)};function Ic(u){u.S=Date.now()+u.I,Sv(u,u.I)}function Sv(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ho(p(u.ba,u),m)}function Yh(u){u.B&&(l.clearTimeout(u.B),u.B=null)}ts.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(vN(this.i,this.A),this.L!=2&&(uo(),Gt(17)),ai(this),this.s=2,mo(this)):Sv(this,this.S-u)};function mo(u){u.j.G==0||u.J||Xv(u.j,u)}function ai(u){Yh(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,co(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Jh(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Xh(y.h,u))){if(!u.K&&Xh(y.h,u)&&y.G==3){try{var I=y.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var O=I;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Oc(y),Dc(y);else break e;nf(y),Gt(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=ho(p(y.Za,y),6e3));if(1>=jv(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else li(y,11)}else if((u.K||y.g==u)&&Oc(y),!v(m))for(O=y.Da.g.parse(m),m=0;m<O.length;m++){let Se=O[m];if(y.T=Se[0],Se=Se[1],y.G==2)if(Se[0]=="c"){y.K=Se[1],y.ia=Se[2];const Dt=Se[3];Dt!=null&&(y.la=Dt,y.j.info("VER="+y.la));const Lt=Se[4];Lt!=null&&(y.Aa=Lt,y.j.info("SVER="+y.Aa));const ea=Se[5];ea!=null&&typeof ea=="number"&&0<ea&&(I=1.5*ea,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const Hn=u.g;if(Hn){const Fc=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fc){var F=I.h;F.g||Fc.indexOf("spdy")==-1&&Fc.indexOf("quic")==-1&&Fc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zh(F,F.h),F.h=null))}if(I.D){const sf=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;sf&&(I.ya=sf,Ue(I.I,I.D,sf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var K=u;if(I.qa=t0(I,I.J?I.ia:null,I.W),K.K){Av(I.h,K);var De=K,bt=I.L;bt&&(De.I=bt),De.B&&(Yh(De),Ic(De)),I.g=K}else Yv(I);0<y.i.length&&Lc(y)}else Se[0]!="stop"&&Se[0]!="close"||li(y,7);else y.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?li(y,7):tf(y):Se[0]!="noop"&&y.l&&y.l.ta(Se),y.v=0)}}uo(4)}catch{}}var _N=class{constructor(u,m){this.g=u,this.map=m}};function Nv(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function jv(u){return u.h?1:u.g?u.g.size:0}function Xh(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zh(u,m){u.g?u.g.add(m):u.h=m}function Av(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Nv.prototype.cancel=function(){if(this.i=Cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return E(u.i)}function bN(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],y=u.length,I=0;I<y;I++)m.push(u[I]);return m}m=[],y=0;for(I in u)m[y++]=u[I];return m}function TN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const I in u)m[y++]=I;return m}}}function Pv(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=TN(u),I=bN(u),O=I.length,F=0;F<O;F++)m.call(void 0,I[F],y&&y[F],u)}var Rv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kN(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var I=u[y].indexOf("="),O=null;if(0<=I){var F=u[y].substring(0,I);O=u[y].substring(I+1)}else F=u[y];m(F,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function oi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof oi){this.h=u.h,jc(this,u.j),this.o=u.o,this.g=u.g,Ac(this,u.s),this.l=u.l;var m=u.i,y=new yo;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Mv(this,y),this.m=u.m}else u&&(m=String(u).match(Rv))?(this.h=!1,jc(this,m[1]||"",!0),this.o=po(m[2]||""),this.g=po(m[3]||"",!0),Ac(this,m[4]),this.l=po(m[5]||"",!0),Mv(this,m[6]||"",!0),this.m=po(m[7]||"")):(this.h=!1,this.i=new yo(null,this.h))}oi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(go(m,Dv,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(go(m,Dv,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(go(y,y.charAt(0)=="/"?NN:SN,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",go(y,jN)),u.join("")};function kr(u){return new oi(u)}function jc(u,m,y){u.j=y?po(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ac(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Mv(u,m,y){m instanceof yo?(u.i=m,AN(u.i,u.h)):(y||(m=go(m,IN)),u.i=new yo(m,u.h))}function Ue(u,m,y){u.i.set(m,y)}function Cc(u){return Ue(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function po(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function go(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,EN),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function EN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Dv=/[#\/\?@]/g,SN=/[#\?:]/g,NN=/[#\?]/g,IN=/[#\?@]/g,jN=/#/g;function yo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ns(u){u.g||(u.g=new Map,u.h=0,u.i&&kN(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=yo.prototype,t.add=function(u,m){ns(this),this.i=null,u=Xi(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Lv(u,m){ns(u),m=Xi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ov(u,m){return ns(u),m=Xi(u,m),u.g.has(m)}t.forEach=function(u,m){ns(this),this.g.forEach(function(y,I){y.forEach(function(O){u.call(m,O,I,this)},this)},this)},t.na=function(){ns(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let I=0;I<m.length;I++){const O=u[I];for(let F=0;F<O.length;F++)y.push(m[I])}return y},t.V=function(u){ns(this);let m=[];if(typeof u=="string")Ov(this,u)&&(m=m.concat(this.g.get(Xi(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return ns(this),this.i=null,u=Xi(this,u),Ov(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Vv(u,m,y){Lv(u,m),0<y.length&&(u.i=null,u.g.set(Xi(u,m),E(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var I=m[y];const F=encodeURIComponent(String(I)),K=this.V(I);for(I=0;I<K.length;I++){var O=F;K[I]!==""&&(O+="="+encodeURIComponent(String(K[I]))),u.push(O)}}return this.i=u.join("&")};function Xi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function AN(u,m){m&&!u.j&&(ns(u),u.i=null,u.g.forEach(function(y,I){var O=I.toLowerCase();I!=O&&(Lv(this,I),Vv(this,O,y))},u)),u.j=m}function CN(u,m){const y=new fo;if(l.Image){const I=new Image;I.onload=x(rs,y,"TestLoadImage: loaded",!0,m,I),I.onerror=x(rs,y,"TestLoadImage: error",!1,m,I),I.onabort=x(rs,y,"TestLoadImage: abort",!1,m,I),I.ontimeout=x(rs,y,"TestLoadImage: timeout",!1,m,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function PN(u,m){const y=new fo,I=new AbortController,O=setTimeout(()=>{I.abort(),rs(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(F=>{clearTimeout(O),F.ok?rs(y,"TestPingServer: ok",!0,m):rs(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(O),rs(y,"TestPingServer: error",!1,m)})}function rs(u,m,y,I,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),I(y)}catch{}}function RN(){this.g=new _t}function MN(u,m,y){const I=y||"";try{Pv(u,function(O,F){let K=O;d(O)&&(K=Q(O)),m.push(I+F+"="+encodeURIComponent(K))})}catch(O){throw m.push(I+"type="+encodeURIComponent("_badmap")),O}}function Pc(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Pc,Ee),Pc.prototype.g=function(){return new Rc(this.l,this.j)},Pc.prototype.i=function(u){return function(){return u}}({});function Rc(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Rc,oe),t=Rc.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,xo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xo(this)),this.g&&(this.readyState=3,xo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vo(this):xo(this),this.readyState==3&&Fv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,vo(this))},t.Qa=function(u){this.g&&(this.response=u,vo(this))},t.ga=function(){this.g&&vo(this)};function vo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xo(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function xo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Uv(u){let m="";return C(u,function(y,I){m+=I,m+=":",m+=y,m+=`\r
`}),m}function ef(u,m,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=Uv(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ue(u,m,y))}function Ze(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ze,oe);var DN=/^https?$/i,LN=["POST","PUT"];t=Ze.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gh.g(),this.v=this.o?Rt(this.o):Rt(Gh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Bv(this,F);return}if(u=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var O in I)y.set(O,I[O]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const F of I.keys())y.set(F,I.get(F));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),O=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(LN,m,void 0))||I||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,K]of y)this.g.setRequestHeader(F,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qv(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Bv(this,F)}};function Bv(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,zv(u),Mc(u)}function zv(u){u.A||(u.A=!0,ge(u,"complete"),ge(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ge(this,"complete"),ge(this,"abort"),Mc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mc(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$v(this):this.bb())},t.bb=function(){$v(this)};function $v(u){if(u.h&&typeof a<"u"&&(!u.v[1]||Er(u)!=4||u.Z()!=2)){if(u.u&&Er(u)==4)rn(u.Ea,0,u);else if(ge(u,"readystatechange"),Er(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var I;if(I=K===0){var O=String(u.D).match(Rv)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),I=!DN.test(O?O.toLowerCase():"")}y=I}if(y)ge(u,"complete"),ge(u,"success");else{u.m=6;try{var F=2<Er(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",zv(u)}}finally{Mc(u)}}}}function Mc(u,m){if(u.g){qv(u);const y=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ge(u,"ready");try{y.onreadystatechange=I}catch{}}}function qv(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Er(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ue(m)}};function Hv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ON(u){const m={};u=(u.g&&2<=Er(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(v(u[I]))continue;var y=L(u[I]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=m[O]||[];m[O]=F,F.push(y)}_(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wo(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Wv(u){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wo("baseRetryDelayMs",5e3,u),this.cb=wo("retryDelaySeedMs",1e4,u),this.Wa=wo("forwardChannelMaxRetries",2,u),this.wa=wo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nv(u&&u.concurrentRequestLimit),this.Da=new RN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wv.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,I){Gt(0),this.W=u,this.H=m||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=t0(this,null,this.W),Lc(this)};function tf(u){if(Gv(u),u.G==3){var m=u.U++,y=kr(u.I);if(Ue(y,"SID",u.K),Ue(y,"RID",m),Ue(y,"TYPE","terminate"),_o(u,y),m=new ts(u,u.j,m),m.L=2,m.v=Cc(kr(y)),y=!1,l.navigator&&l.navigator.sendBeacon)try{y=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&l.Image&&(new Image().src=m.v,y=!0),y||(m.g=n0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ic(m)}e0(u)}function Dc(u){u.g&&(rf(u),u.g.cancel(),u.g=null)}function Gv(u){Dc(u),u.u&&(l.clearTimeout(u.u),u.u=null),Oc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Lc(u){if(!Iv(u.h)&&!u.s){u.s=!0;var m=u.Ga;G||Z(),V||(G(),V=!0),W.add(m,u),u.B=0}}function VN(u,m){return jv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ho(p(u.Ga,u,m),Zv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new ts(this,this.j,u);let F=this.o;if(this.S&&(F?(F=w(F),P(F,this.S)):F=this.S),this.m!==null||this.O||(O.H=F,F=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Qv(this,O,m),y=kr(this.I),Ue(y,"RID",u),Ue(y,"CVER",22),this.D&&Ue(y,"X-HTTP-Session-Id",this.D),_o(this,y),F&&(this.O?m="headers="+encodeURIComponent(String(Uv(F)))+"&"+m:this.m&&ef(y,this.m,F)),Zh(this.h,O),this.Ua&&Ue(y,"TYPE","init"),this.P?(Ue(y,"$req",m),Ue(y,"SID","null"),O.T=!0,Qh(O,y,null)):Qh(O,y,m),this.G=2}}else this.G==3&&(u?Kv(this,u):this.i.length==0||Iv(this.h)||Kv(this))};function Kv(u,m){var y;m?y=m.l:y=u.U++;const I=kr(u.I);Ue(I,"SID",u.K),Ue(I,"RID",y),Ue(I,"AID",u.T),_o(u,I),u.m&&u.o&&ef(I,u.m,u.o),y=new ts(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Qv(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Zh(u.h,y),Qh(y,I,m)}function _o(u,m){u.H&&C(u.H,function(y,I){Ue(m,I,y)}),u.l&&Pv({},function(y,I){Ue(m,I,y)})}function Qv(u,m,y){y=Math.min(u.i.length,y);var I=u.l?p(u.l.Na,u.l,u):null;e:{var O=u.i;let F=-1;for(;;){const K=["count="+y];F==-1?0<y?(F=O[0].g,K.push("ofs="+F)):F=0:K.push("ofs="+F);let De=!0;for(let bt=0;bt<y;bt++){let Se=O[bt].g;const Dt=O[bt].map;if(Se-=F,0>Se)F=Math.max(0,O[bt].g-100),De=!1;else try{MN(Dt,K,"req"+Se+"_")}catch{I&&I(Dt)}}if(De){I=K.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,I}function Yv(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;G||Z(),V||(G(),V=!0),W.add(m,u),u.v=0}}function nf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ho(p(u.Fa,u),Zv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Jv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ho(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Dc(this),Jv(this))};function rf(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function Jv(u){u.g=new ts(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=kr(u.qa);Ue(m,"RID","rpc"),Ue(m,"SID",u.K),Ue(m,"AID",u.T),Ue(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ue(m,"TO",u.ja),Ue(m,"TYPE","xmlhttp"),_o(u,m),u.m&&u.o&&ef(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Cc(kr(m)),y.m=null,y.P=!0,kv(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Dc(this),nf(this),Gt(19))};function Oc(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function Xv(u,m){var y=null;if(u.g==m){Oc(u),rf(u),u.g=null;var I=2}else if(Xh(u.h,m))y=m.D,Av(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var O=u.B;I=Ec(),ge(I,new wv(I,y)),Lc(u)}else Yv(u);else if(O=m.s,O==3||O==0&&0<m.X||!(I==1&&VN(u,m)||I==2&&nf(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),O){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function Zv(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function li(u,m){if(u.j.info("Error code "+m),m==2){var y=p(u.fb,u),I=u.Xa;const O=!I;I=new oi(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||jc(I,"https"),Cc(I),O?CN(I.toString(),y):PN(I.toString(),y)}else Gt(2);u.G=0,u.l&&u.l.sa(m),e0(u),Gv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function e0(u){if(u.G=0,u.ka=[],u.l){const m=Cv(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function t0(u,m,y){var I=y instanceof oi?kr(y):new oi(y);if(I.g!="")m&&(I.g=m+"."+I.g),Ac(I,I.s);else{var O=l.location;I=O.protocol,m=m?m+"."+O.hostname:O.hostname,O=+O.port;var F=new oi(null);I&&jc(F,I),m&&(F.g=m),O&&Ac(F,O),y&&(F.l=y),I=F}return y=u.D,m=u.ya,y&&m&&Ue(I,y,m),Ue(I,"VER",u.la),_o(u,I),I}function n0(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ze(new Pc({eb:y})):new Ze(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function r0(){}t=r0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vc(){}Vc.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){oe.call(this),this.g=new Wv(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!v(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}b(gn,oe),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){tf(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Q(u),u=y);m.i.push(new _N(m.Ya++,u)),m.G==3&&Lc(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,tf(this.g),delete this.g,gn.aa.N.call(this)};function s0(u){ii.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(s0,ii);function i0(){es.call(this),this.status=1}b(i0,es);function Zi(u){this.g=u}b(Zi,r0),Zi.prototype.ua=function(){ge(this.g,"a")},Zi.prototype.ta=function(u){ge(this.g,new s0(u))},Zi.prototype.sa=function(u){ge(this.g,new i0)},Zi.prototype.ra=function(){ge(this.g,"b")},Vc.prototype.createWebChannel=Vc.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,D2=function(){return new Vc},M2=function(){return Ec()},R2=sr,Ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sc.NO_ERROR=0,Sc.TIMEOUT=8,Sc.HTTP_ERROR=6,Ou=Sc,_v.COMPLETE="complete",P2=_v,tt.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Ho=tt,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,C2=Ze}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const hw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new wh("@firebase/firestore");function Po(){return Oi.logLevel}function se(t,...e){if(Oi.logLevel<=xe.DEBUG){const n=e.map(Ny);Oi.debug(`Firestore (${so}): ${t}`,...n)}}function Hr(t,...e){if(Oi.logLevel<=xe.ERROR){const n=e.map(Ny);Oi.error(`Firestore (${so}): ${t}`,...n)}}function Ha(t,...e){if(Oi.logLevel<=xe.WARN){const n=e.map(Ny);Oi.warn(`Firestore (${so}): ${t}`,...n)}}function Ny(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+t;throw Hr(e),new Error(e)}function ke(t,e){t||ce()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class z3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $3{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new L2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new Bt(e)}}class q3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class H3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new q3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);const r=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new W3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=K3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function Wa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new mt(0,0))}static max(){return new he(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ul.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends Ul{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const Q3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Ul{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return Q3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Le.fromString(e))}static fromName(e){return new ae(Le.fromString(e).popFirst(5))}static empty(){return new ae(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Le(e.slice()))}}function Y3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Fs(s,ae.empty(),e)}function J3(t){return new Fs(t.readTime,t.key,-1)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(he.min(),ae.empty(),-1)}static max(){return new Fs(he.max(),ae.empty(),-1)}}function X3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==Z3)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function tF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Iy.oe=-1;function mc(t){return t==null}function Md(t){return t===0&&1/t==-1/0}function nF(t){return typeof t=="number"&&Number.isInteger(t)&&!Md(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cu(this.root,e,this.comparator,!0)}}class cu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??kt.RED,this.left=s??kt.EMPTY,this.right=i??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new kt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,s,i){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mw(this.data.getIterator())}getIteratorFrom(e){return new mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new wn([])}unionWith(e){let n=new It(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new F2("Invalid base64 string: "+i):i}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const rF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(ke(!!t),typeof t=="string"){let e=0;const n=rF.exec(t);if(ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vi(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ay(t){const e=t.mapValue.fields.__previous_value__;return jy(e)?Ay(e):e}function Bl(t){const e=Us(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,r,s,i,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class zl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jy(t)?4:aF(t)?9007199254740991:iF(t)?10:11:ce()}function vr(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Us(s.timestampValue),l=Us(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Vi(s.bytesValue).isEqual(Vi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=nt(s.doubleValue),l=nt(i.doubleValue);return a===l?Md(a)===Md(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(fw(a)!==fw(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!vr(a[c],l[c])))return!1;return!0}(t,e);default:return ce()}}function $l(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function Ga(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=nt(i.integerValue||i.doubleValue),c=nt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return pw(t.timestampValue,e.timestampValue);case 4:return pw(Bl(t),Bl(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Vi(i),c=Vi(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=Ne(l[d],c[d]);if(h!==0)return h}return Ne(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ne(nt(i.latitude),nt(a.latitude));return l!==0?l:Ne(nt(i.longitude),nt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gw(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,d,h;const f=i.fields||{},p=a.fields||{},x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=(c=p.value)===null||c===void 0?void 0:c.arrayValue,E=Ne(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:gw(x,b)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===uu.mapValue&&a===uu.mapValue)return 0;if(i===uu.mapValue)return 1;if(a===uu.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=Ne(c[f],h[f]);if(p!==0)return p;const x=Ga(l[c[f]],d[h[f]]);if(x!==0)return x}return Ne(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ce()}}function pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Us(t),r=Us(e),s=Ne(n.seconds,r.seconds);return s!==0?s:Ne(n.nanos,r.nanos)}function gw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ga(n[s],r[s]);if(i)return i}return Ne(n.length,r.length)}function Ka(t){return Cp(t)}function Cp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Cp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Cp(n.fields[a])}`;return s+"}"}(t.mapValue):ce()}function yw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pp(t){return!!t&&"integerValue"in t}function Cy(t){return!!t&&"arrayValue"in t}function vw(t){return!!t&&"nullValue"in t}function xw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vu(t){return!!t&&"mapValue"in t}function iF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=cl(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Jt(cl(this.value))}}function U2(t){const e=[];return Ki(t.fields,(n,r)=>{const s=new Et([n]);if(Vu(r)){const i=U2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new vt(e,0,he.min(),he.min(),he.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,s){return new vt(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new vt(e,2,n,he.min(),he.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,he.min(),he.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.position=e,this.inclusive=n}}function ww(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(a.referenceValue),n.key):r=Ga(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function _w(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function oF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B2=class{};class ut extends B2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cF(e,n,r):n==="array-contains"?new hF(e,r):n==="in"?new fF(e,r):n==="not-in"?new mF(e,r):n==="array-contains-any"?new pF(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uF(e,r):new dF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ga(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends B2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new rr(e,n)}matches(e){return z2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function z2(t){return t.op==="and"}function $2(t){return lF(t)&&z2(t)}function lF(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function Rp(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+Ka(t.value);if($2(t))return t.filters.map(e=>Rp(e)).join(",");{const e=t.filters.map(n=>Rp(n)).join(",");return`${t.op}(${e})`}}function q2(t,e){return t instanceof ut?function(r,s){return s instanceof ut&&r.op===s.op&&r.field.isEqual(s.field)&&vr(r.value,s.value)}(t,e):t instanceof rr?function(r,s){return s instanceof rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&q2(a,s.filters[l]),!0):!1}(t,e):void ce()}function H2(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(t):t instanceof rr?function(n){return n.op.toString()+" {"+n.getFilters().map(H2).join(" ,")+"}"}(t):"Filter"}class cF extends ut{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class uF extends ut{constructor(e,n){super(e,"in",n),this.keys=W2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dF extends ut{constructor(e,n){super(e,"not-in",n),this.keys=W2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function W2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class hF extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cy(n)&&$l(n.arrayValue,this.value)}}class fF extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class mF extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$l(this.value.arrayValue,n)}}class pF extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$l(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ue=null}}function bw(t,e=null,n=[],r=[],s=null,i=null,a=null){return new gF(t,e,n,r,s,i,a)}function Py(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),mc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ka(r)).join(",")),e.ue=n}return e.ue}function Ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!q2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_w(t.startAt,e.startAt)&&_w(t.endAt,e.endAt)}function Mp(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yF(t,e,n,r,s,i,a,l){return new io(t,e,n,r,s,i,a,l)}function Nh(t){return new io(t)}function Tw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G2(t){return t.collectionGroup!==null}function ul(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new It(Et.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new ql(i,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new ql(Et.keyField(),r))}return e.ce}function yr(t){const e=pe(t);return e.le||(e.le=vF(e,ul(t))),e.le}function vF(t,e){if(t.limitType==="F")return bw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ql(s.field,i)});const n=t.endAt?new Dd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dd(t.startAt.position,t.startAt.inclusive):null;return bw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dp(t,e){const n=t.filters.concat([e]);return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ld(t,e,n){return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return Ry(yr(t),yr(e))&&t.limitType===e.limitType}function K2(t){return`${Py(yr(t))}|lt:${t.limitType}`}function na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>H2(s)).join(", ")}]`),mc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ka(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ka(s)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function jh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ul(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const d=ww(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,ul(r),s)||r.endAt&&!function(a,l,c){const d=ww(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,ul(r),s))}(t,e)}function xF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q2(t){return(e,n)=>{let r=!1;for(const s of ul(t)){const i=wF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function wF(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?Ga(c,d):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return V2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=new Je(ae.comparator);function Wr(){return _F}const Y2=new Je(ae.comparator);function Wo(...t){let e=Y2;for(const n of t)e=e.insert(n.key,n);return e}function J2(t){let e=Y2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return dl()}function X2(){return dl()}function dl(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const bF=new Je(ae.comparator),TF=new It(ae.comparator);function ve(...t){let e=TF;for(const n of t)e=e.add(n);return e}const kF=new It(Ne);function EF(){return kF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Md(e)?"-0":e}}function Z2(t){return{integerValue:""+t}}function SF(t,e){return nF(e)?Z2(e):My(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function NF(t,e,n){return t instanceof Hl?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&jy(i)&&(i=Ay(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof Wl?tS(t,e):t instanceof Gl?nS(t,e):function(s,i){const a=eS(s,i),l=kw(a)+kw(s.Pe);return Pp(a)&&Pp(s.Pe)?Z2(l):My(s.serializer,l)}(t,e)}function IF(t,e,n){return t instanceof Wl?tS(t,e):t instanceof Gl?nS(t,e):n}function eS(t,e){return t instanceof Od?function(r){return Pp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Hl extends Ah{}class Wl extends Ah{constructor(e){super(),this.elements=e}}function tS(t,e){const n=rS(e);for(const r of t.elements)n.some(s=>vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Gl extends Ah{constructor(e){super(),this.elements=e}}function nS(t,e){let n=rS(e);for(const r of t.elements)n=n.filter(s=>!vr(s,r));return{arrayValue:{values:n}}}class Od extends Ah{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function kw(t){return nt(t.integerValue||t.doubleValue)}function rS(t){return Cy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n){this.field=e,this.transform=n}}function AF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Wl&&s instanceof Wl||r instanceof Gl&&s instanceof Gl?Wa(r.elements,s.elements,vr):r instanceof Od&&s instanceof Od?vr(r.Pe,s.Pe):r instanceof Hl&&s instanceof Hl}(t.transform,e.transform)}class CF{constructor(e,n){this.version=e,this.transformResults=n}}class St{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new St}static exists(e){return new St(void 0,e)}static updateTime(e){return new St(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ch{}function sS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ph(t.key,St.none()):new pc(t.key,t.data,St.none());{const n=t.data,r=Jt.empty();let s=new It(Et.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new ei(t.key,r,new wn(s.toArray()),St.none())}}function PF(t,e,n){t instanceof pc?function(s,i,a){const l=s.value.clone(),c=Sw(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ei?function(s,i,a){if(!Fu(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Sw(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(iS(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function hl(t,e,n,r){return t instanceof pc?function(i,a,l,c){if(!Fu(i.precondition,a))return l;const d=i.value.clone(),h=Nw(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ei?function(i,a,l,c){if(!Fu(i.precondition,a))return l;const d=Nw(i.fieldTransforms,c,a),h=a.data;return h.setAll(iS(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return Fu(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function RF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=eS(r.transform,s||null);i!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,i))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wa(r,s,(i,a)=>AF(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends Ch{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ei extends Ch{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sw(t,e,n){const r=new Map;ke(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,IF(a,l,n[s]))}return r}function Nw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,NF(i,a,e))}return r}class Ph extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aS extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&PF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X2();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=sS(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>Ew(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>Ew(n,r))}}class Dy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length);let s=function(){return bF}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Dy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,_e;function oS(t){switch(t){default:return ce();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function lS(t){if(t===void 0)return Hr("GRPC error has no .code"),U.UNKNOWN;switch(t){case ot.OK:return U.OK;case ot.CANCELLED:return U.CANCELLED;case ot.UNKNOWN:return U.UNKNOWN;case ot.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ot.INTERNAL:return U.INTERNAL;case ot.UNAVAILABLE:return U.UNAVAILABLE;case ot.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ot.NOT_FOUND:return U.NOT_FOUND;case ot.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ot.ABORTED:return U.ABORTED;case ot.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ot.DATA_LOSS:return U.DATA_LOSS;default:return ce()}}(_e=ot||(ot={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=new Si([4294967295,4294967295],0);function Iw(t){const e=OF().encode(t),n=new A2;return n.update(e),new Uint8Array(n.digest())}function jw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Si([n,r],0),new Si([s,i],0)]}class Ly{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(r<0)throw new Go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Si.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Si.fromNumber(r)));return s.compare(VF)===1&&(s=new Si([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Iw(e),[r,s]=jw(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Ly(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=Iw(e),[r,s]=jw(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rh(he.min(),s,new Je(Ne),Wr(),ve())}}class gc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gc(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class cS{constructor(e,n){this.targetId=e,this.me=n}}class uS{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Aw{constructor(){this.fe=0,this.ge=Pw(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce()}}),new gc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Pw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class FF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wr(),this.qe=Cw(),this.Qe=new Je(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Mp(i))if(r===0){const a=new ae(i.path);this.Ue(n,a,vt.newNoDocument(a,he.min()))}else ke(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Vi(r).toUint8Array()}catch(c){if(c instanceof F2)return Ha("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Ly(a,s,i)}catch(c){return Ha(c instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const l=this.Je(a);if(l){if(i.current&&Mp(l.target)){const c=new ae(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,vt.newNoDocument(c,e))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=ve();this.qe.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new Rh(e,n,this.Qe,this.ke,r);return this.ke=Wr(),this.qe=Cw(),this.Qe=new Je(Ne),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Aw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new It(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Aw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Cw(){return new Je(ae.comparator)}function Pw(){return new Je(ae.comparator)}const UF={asc:"ASCENDING",desc:"DESCENDING"},BF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zF={and:"AND",or:"OR"};class $F{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lp(t,e){return t.useProto3Json||mc(e)?e:{value:e}}function Vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qF(t,e){return Vd(t,e.toTimestamp())}function Tn(t){return ke(!!t),he.fromTimestamp(function(n){const r=Us(n);return new mt(r.seconds,r.nanos)}(t))}function Oy(t,e){return Op(t,e).canonicalString()}function Op(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hS(t){const e=Le.fromString(t);return ke(vS(e)),e}function Fd(t,e){return Oy(t.databaseId,e.path)}function fl(t,e){const n=hS(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(mS(n))}function fS(t,e){return Oy(t.databaseId,e)}function HF(t){const e=hS(t);return e.length===4?Le.emptyPath():mS(e)}function Vp(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mS(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rw(t,e,n){return{name:Fd(t,e),fields:n.value.mapValue.fields}}function WF(t,e){return"found"in e?function(r,s){ke(!!s.found),s.found.name,s.found.updateTime;const i=fl(r,s.found.name),a=Tn(s.found.updateTime),l=s.found.createTime?Tn(s.found.createTime):he.min(),c=new Jt({mapValue:{fields:s.found.fields}});return vt.newFoundDocument(i,a,l,c)}(t,e):"missing"in e?function(r,s){ke(!!s.missing),ke(!!s.readTime);const i=fl(r,s.missing),a=Tn(s.readTime);return vt.newNoDocument(i,a)}(t,e):ce()}function GF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(ke(h===void 0||typeof h=="string"),Pt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Pt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?U.UNKNOWN:lS(d.code);return new J(h,d.message||"")}(a);n=new uS(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fl(t,r.document.name),i=Tn(r.document.updateTime),a=r.document.createTime?Tn(r.document.createTime):he.min(),l=new Jt({mapValue:{fields:r.document.fields}}),c=vt.newFoundDocument(s,i,a,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Uu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fl(t,r.document),i=r.readTime?Tn(r.readTime):he.min(),a=vt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Uu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fl(t,r.document),i=r.removedTargetIds||[];n=new Uu([],i,s,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new LF(s,i),l=r.targetId;n=new cS(l,a)}}return n}function pS(t,e){let n;if(e instanceof pc)n={update:Rw(t,e.key,e.value)};else if(e instanceof Ph)n={delete:Fd(t,e.key)};else if(e instanceof ei)n={update:Rw(t,e.key,e.data),updateMask:n5(e.fieldMask)};else{if(!(e instanceof aS))return ce();n={verify:Fd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Hl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Od)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:qF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function KF(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?Tn(s.updateTime):Tn(i);return a.isEqual(he.min())&&(a=Tn(i)),new CF(a,s.transformResults||[])}(n,e))):[]}function QF(t,e){return{documents:[fS(t,e.path)]}}function YF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fS(t,s);const i=function(d){if(d.length!==0)return yS(rr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:ra(p.field),direction:ZF(p.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Lp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function JF(t){let e=HF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=gS(f);return p instanceof rr&&$2(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(b){return new ql(sa(b.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,mc(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,x=f.values||[];return new Dd(x,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,x=f.values||[];return new Dd(x,p)}(n.endAt)),yF(e,s,a,i,l,"F",c,d)}function XF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sa(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=sa(n.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=sa(n.unaryFilter.field);return ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=sa(n.unaryFilter.field);return ut.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ut.create(sa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rr.create(n.compositeFilter.filters.map(r=>gS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function ZF(t){return UF[t]}function e5(t){return BF[t]}function t5(t){return zF[t]}function ra(t){return{fieldPath:t.canonicalString()}}function sa(t){return Et.fromServerFormat(t.fieldPath)}function yS(t){return t instanceof ut?function(n){if(n.op==="=="){if(xw(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NAN"}};if(vw(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xw(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NAN"}};if(vw(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(n.field),op:e5(n.op),value:n.value}}}(t):t instanceof rr?function(n){const r=n.getFilters().map(s=>yS(s));return r.length===1?r[0]:{compositeFilter:{op:t5(n.op),filters:r}}}(t):ce()}function n5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,s,i=he.min(),a=he.min(),l=Pt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.ct=e}}function s5(t){const e=JF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.un=new a5}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Fs.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class a5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new It(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new It(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qa(0)}static kn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&hl(r.mutation,s,wn.empty(),mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const s=bi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Wo();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Wr();const a=dl(),l=function(){return dl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ei)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),hl(h.mutation,d,h.mutation.getFieldMask(),mt.now())):a.set(d.key,wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>{var f;return l.set(d,new l5(h,(f=a.get(d))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=dl();let s=new Je((a,l)=>a-l),i=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||wn.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||ve()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=X2();h.forEach(p=>{if(!i.has(p)){const x=sS(n.get(p),r.get(p));x!==null&&f.set(p,x),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(bi());let l=-1,c=i;return a.next(d=>z.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,ve())).next(h=>({batchId:l,changes:J2(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=Wo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Wo();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,c=>{const d=function(f,p){return new io(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,vt.newInvalidDocument(h)))});let l=Wo();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&hl(h.mutation,d,wn.empty(),mt.now()),jh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Tn(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:s5(s.bundledQuery),readTime:Tn(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(){this.overlays=new Je(ae.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bi();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=bi(),i=n.length+1,a=new ae(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=bi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=bi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return z.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new DF(n,r));let i=this.Ir.get(n);i===void 0&&(i=ve(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Tr=new It(gt.Er),this.dr=new It(gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new gt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new gt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ae(new Le([])),r=new gt(n,e),s=new gt(n,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ae(new Le([])),r=new gt(n,e),s=new gt(n,e+1);let i=ve();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new gt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ae.comparator(e.key,n.key)||Ne(e.wr,n.wr)}static Ar(e,n){return Ne(e.wr,n.wr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new It(gt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new MF(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.br=this.br.add(new gt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),s=new gt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const l=this.Dr(a.wr);i.push(l)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(Ne);return n.forEach(s=>{const i=new gt(s,0),a=new gt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],l=>{r=r.add(l.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const a=new gt(new ae(i),0);let l=new It(Ne);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.wr)),!0)},a),z.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,s=>{const i=new gt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new gt(n,0),s=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.Mr=e,this.docs=function(){return new Je(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=Wr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():vt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Wr();const a=n.path,l=new ae(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||X3(J3(h),r)<=0||(s.has(h.key)||jh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new p5(this)}getSize(e){return z.resolve(this.size)}}class p5 extends o5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.persistence=e,this.Nr=new ao(n=>Py(n),Ry),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vy,this.targetCount=0,this.kr=Qa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Iy(0),this.Kr=!1,this.Kr=!0,this.$r=new h5,this.referenceDelegate=e(this),this.Ur=new g5(this),this.indexManager=new i5,this.remoteDocumentCache=function(s){return new m5(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new r5(n),this.Gr=new u5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new f5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const s=new v5(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class v5 extends eF{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Jr=new Vy,this.Yr=null}static Zr(e){return new Fy(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const s=ae.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ve(),s=ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Uy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return z4()?8:tF(Wt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new x5;return this.Xi(e,n,a).next(l=>{if(i.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Po()<=xe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Po()<=xe.DEBUG&&se("QueryEngine","Query:",na(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Po()<=xe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):z.resolve())}Yi(e,n){if(Tw(n))return z.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ld(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=ve(...i);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,l);return this.ns(n,d,a,c.readTime)?this.Yi(e,Ld(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return Tw(n)||s.isEqual(he.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?z.resolve(null):(Po()<=xe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),na(n)),this.rs(e,a,n,Y3(s,-1)).next(l=>l))})}ts(e,n){let r=new It(Q2(e));return n.forEach((s,i)=>{jh(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Po()<=xe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",na(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fs.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Je(Ne),this._s=new ao(i=>Py(i),Ry),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function b5(t,e,n,r){return new _5(t,e,n,r)}async function xS(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=ve();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:l}))})})}function T5(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,p=f.keys();let x=z.resolve();return p.forEach(b=>{x=x.next(()=>h.getEntry(c,b)).next(E=>{const j=d.docVersions.get(b);ke(j!==null),E.version.compareTo(j)<0&&(f.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),h.addEntry(E)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ve();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function wS(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function k5(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let x=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(Pt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(f,x),function(E,j,T){return E.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,x,h)&&l.push(n.Ur.updateTargetData(i,x))});let c=Wr(),d=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(E5(i,a,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!r.isEqual(he.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return z.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=s,i))}function E5(t,e,n){let r=ve(),s=ve();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Wr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):se("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:a,Is:s}})}function S5(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N5(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new ws(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Fp(t,e,n){const r=pe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!fc(a))throw a;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Mw(t,e,n){const r=pe(t);let s=he.min(),i=ve();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const f=pe(c),p=f._s.get(h);return p!==void 0?z.resolve(f.os.get(p)):f.Ur.getTargetData(d,h)}(r,a,yr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:he.min(),n?i:ve())).next(l=>(I5(r,xF(e),l),{documents:l,Ts:i})))}function I5(t,e,n){let r=t.us.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Dw{constructor(){this.activeTargetIds=EF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j5{constructor(){this.so=new Dw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Dw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function nm(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class R5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const l=nm(),c=this.xo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(n,c,d,s).then(h=>(se("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw Ha("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(n,r,s,i,a,l){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}xo(n,r){const s=C5[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=nm();return new Promise((a,l)=>{const c=new C2;c.setWithCredentials(!0),c.listenOnce(P2.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ou.NO_ERROR:const h=c.getResponseJson();se(Ft,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),a(h);break;case Ou.TIMEOUT:se(Ft,`RPC '${e}' ${i} timed out`),l(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:const f=c.getStatus();if(se(Ft,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const x=p==null?void 0:p.error;if(x&&x.status&&x.message){const b=function(j){const T=j.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(T)>=0?T:U.UNKNOWN}(x.status);l(new J(b,x.message))}else l(new J(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new J(U.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{se(Ft,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);se(Ft,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=nm(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=D2(),l=M2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");se(Ft,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);let p=!1,x=!1;const b=new P5({Io:j=>{x?se(Ft,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(p||(se(Ft,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),se(Ft,`RPC '${e}' stream ${s} sending:`,j),f.send(j))},To:()=>f.close()}),E=(j,T,v)=>{j.listen(T,g=>{try{v(g)}catch(S){setTimeout(()=>{throw S},0)}})};return E(f,Ho.EventType.OPEN,()=>{x||(se(Ft,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),E(f,Ho.EventType.CLOSE,()=>{x||(x=!0,se(Ft,`RPC '${e}' stream ${s} transport closed`),b.So())}),E(f,Ho.EventType.ERROR,j=>{x||(x=!0,Ha(Ft,`RPC '${e}' stream ${s} transport errored:`,j),b.So(new J(U.UNAVAILABLE,"The operation could not be completed")))}),E(f,Ho.EventType.MESSAGE,j=>{var T;if(!x){const v=j.data[0];ke(!!v);const g=v,S=g.error||((T=g[0])===null||T===void 0?void 0:T.error);if(S){se(Ft,`RPC '${e}' stream ${s} received error:`,S);const D=S.status;let C=function(k){const P=ot[k];if(P!==void 0)return lS(P)}(D),_=S.message;C===void 0&&(C=U.INTERNAL,_="Unknown error status: "+D+" with message "+S.message),x=!0,b.So(new J(C,_)),f.close()}else se(Ft,`RPC '${e}' stream ${s} received:`,v),b.bo(v)}}),E(l,R2.STAT_EVENT,j=>{j.stat===Ap.PROXY?se(Ft,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===Ap.NOPROXY&&se(Ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){return new $F(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,r,s,i,a,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new By(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Hr(n.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new J(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M5 extends _S{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=GF(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?Tn(a.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Vp(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Mp(c)?{documents:QF(i,c)}:{query:YF(i,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=dS(i,a.resumeToken);const d=Lp(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(he.min())>0){l.readTime=Vd(i,a.snapshotVersion.toTimestamp());const d=Lp(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=XF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Vp(this.serializer),n.removeTarget=e,this.a_(n)}}class D5 extends _S{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=KF(e.writeResults,e.commitTime),r=Tn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Vp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pS(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,Op(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(U.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,Op(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(U.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class O5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hr(n),this.D_=!1):se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{Qi(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=pe(c);d.L_.add(4),await yc(d),d.q_.set("Unknown"),d.L_.delete(4),await Dh(d)}(this))})}),this.q_=new O5(r,s)}}async function Dh(t){if(Qi(t))for(const e of t.B_)await e(!0)}async function yc(t){for(const e of t.B_)await e(!1)}function bS(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hy(n)?qy(n):oo(n).r_()&&$y(n,e))}function zy(t,e){const n=pe(t),r=oo(n);n.N_.delete(e),r.r_()&&TS(n,e),n.N_.size===0&&(r.r_()?r.o_():Qi(n)&&n.q_.set("Unknown"))}function $y(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oo(t).A_(e)}function TS(t,e){t.Q_.xe(e),oo(t).R_(e)}function qy(t){t.Q_=new FF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),oo(t).start(),t.q_.v_()}function Hy(t){return Qi(t)&&!oo(t).n_()&&t.N_.size>0}function Qi(t){return pe(t).L_.size===0}function kS(t){t.Q_=void 0}async function F5(t){t.q_.set("Online")}async function U5(t){t.N_.forEach((e,n)=>{$y(t,e)})}async function B5(t,e){kS(t),Hy(t)?(t.q_.M_(e),qy(t)):t.q_.set("Unknown")}async function z5(t,e,n){if(t.q_.set("Online"),e instanceof uS&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ud(t,r)}else if(e instanceof Uu?t.Q_.Ke(e):e instanceof cS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{const r=await wS(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Q_.rt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(Pt.EMPTY_BYTE_STRING,h.snapshotVersion)),TS(i,c);const f=new ws(h.target,c,d,h.sequenceNumber);$y(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await Ud(t,r)}}async function Ud(t,e,n){if(!fc(e))throw e;t.L_.add(1),await yc(t),t.q_.set("Offline"),n||(n=()=>wS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Dh(t)})}function ES(t,e){return e().catch(n=>Ud(t,n,e))}async function Lh(t){const e=pe(t),n=Bs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$5(e);)try{const s=await S5(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,q5(e,s)}catch(s){await Ud(e,s)}SS(e)&&NS(e)}function $5(t){return Qi(t)&&t.O_.length<10}function q5(t,e){t.O_.push(e);const n=Bs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function SS(t){return Qi(t)&&!Bs(t).n_()&&t.O_.length>0}function NS(t){Bs(t).start()}async function H5(t){Bs(t).p_()}async function W5(t){const e=Bs(t);for(const n of t.O_)e.m_(n.mutations)}async function G5(t,e,n){const r=t.O_.shift(),s=Dy.from(r,e,n);await ES(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lh(t)}async function K5(t,e){e&&Bs(t).V_&&await async function(r,s){if(function(a){return oS(a)&&a!==U.ABORTED}(s.code)){const i=r.O_.shift();Bs(r).s_(),await ES(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Lh(r)}}(t,e),SS(t)&&NS(t)}async function Ow(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Qi(n);n.L_.add(3),await yc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Dh(n)}async function Q5(t,e){const n=pe(t);e?(n.L_.delete(2),await Dh(n)):e||(n.L_.add(2),await yc(n),n.q_.set("Unknown"))}function oo(t){return t.K_||(t.K_=function(n,r,s){const i=pe(n);return i.w_(),new M5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:F5.bind(null,t),Ro:U5.bind(null,t),mo:B5.bind(null,t),d_:z5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hy(t)?qy(t):t.q_.set("Unknown")):(await t.K_.stop(),kS(t))})),t.K_}function Bs(t){return t.U_||(t.U_=function(n,r,s){const i=pe(n);return i.w_(),new D5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:H5.bind(null,t),mo:K5.bind(null,t),f_:W5.bind(null,t),g_:G5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Lh(t)):(await t.U_.stop(),t.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new Wy(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(t,e){if(Hr("AsyncQueue",`${e}: ${t}`),fc(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Wo(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new Ra(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.W_=new Je(ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ya{constructor(e,n,r,s,i,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ya(e,n,Ra.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class J5{constructor(){this.queries=Fw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=Fw(),i.forEach((a,l)=>{for(const c of l.j_)c.onError(r)})})(this,new J(U.ABORTED,"Firestore shutting down"))}}function Fw(){return new ao(t=>K2(t),Ih)}async function Ky(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Y5,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Gy(a,`Initialization of query '${na(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Yy(n)}async function Qy(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X5(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.j_)l.X_(s)&&(r=!0);a.z_=s}}r&&Yy(n)}function Z5(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Yy(t){t.Y_.forEach(e=>{e.next()})}var Up,Uw;(Uw=Up||(Up={})).ea="default",Uw.Cache="cache";class Jy{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.key=e}}class jS{constructor(e){this.key=e}}class e6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=Q2(e),this.Ra=new Ra(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Vw,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),x=jh(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;p&&x?p.data.isEqual(x.data)?b!==E&&(r.track({type:3,doc:x}),j=!0):this.ga(p,x)||(r.track({type:2,doc:x}),j=!0,(c&&this.Aa(x,c)>0||d&&this.Aa(x,d)<0)&&(l=!0)):!p&&x?(r.track({type:0,doc:x}),j=!0):p&&!x&&(r.track({type:1,doc:p}),j=!0,(c||d)&&(l=!0)),j&&(x?(a=a.add(x),i=E?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(x,b){const E=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return E(x)-E(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,a.length!==0||d?{snapshot:new Ya(this.query,e.Ra,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Vw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new jS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new IS(r))}),n}ba(e){this.Ta=e.Ts,this.da=ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ya.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class t6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class n6{constructor(e){this.key=e,this.va=!1}}class r6{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ao(l=>K2(l),Ih),this.Ma=new Map,this.xa=new Set,this.Oa=new Je(ae.comparator),this.Na=new Map,this.La=new Vy,this.Ba={},this.ka=new Map,this.qa=Qa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function s6(t,e,n=!0){const r=DS(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await AS(r,e,n,!0),s}async function i6(t,e){const n=DS(t);await AS(n,e,!0,!1)}async function AS(t,e,n,r){const s=await N5(t.localStore,yr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await a6(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&bS(t.remoteStore,s),l}async function a6(t,e,n,r,s){t.Ka=(f,p,x)=>async function(E,j,T,v){let g=j.view.ma(T);g.ns&&(g=await Mw(E.localStore,j.query,!1).then(({documents:_})=>j.view.ma(_,g)));const S=v&&v.targetChanges.get(j.targetId),D=v&&v.targetMismatches.get(j.targetId)!=null,C=j.view.applyChanges(g,E.isPrimaryClient,S,D);return zw(E,j.targetId,C.wa),C.snapshot}(t,f,p,x);const i=await Mw(t.localStore,e,!0),a=new e6(e,i.Ts),l=a.ma(i.documents),c=gc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(l,t.isPrimaryClient,c);zw(t,n,d.wa);const h=new t6(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function o6(t,e,n){const r=pe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!Ih(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&zy(r.remoteStore,s.targetId),Bp(r,s.targetId)}).catch(hc)):(Bp(r,s.targetId),await Fp(r.localStore,s.targetId,!0))}async function l6(t,e){const n=pe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zy(n.remoteStore,r.targetId))}async function c6(t,e,n){const r=g6(t);try{const s=await function(a,l){const c=pe(a),d=mt.now(),h=l.reduce((x,b)=>x.add(b.key),ve());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let b=Wr(),E=ve();return c.cs.getEntries(x,h).next(j=>{b=j,b.forEach((T,v)=>{v.isValidDocument()||(E=E.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,b)).next(j=>{f=j;const T=[];for(const v of l){const g=RF(v,f.get(v.key).overlayedDocument);g!=null&&T.push(new ei(v.key,g,U2(g.value.mapValue),St.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,T,l)}).next(j=>{p=j;const T=j.applyToLocalDocumentSet(f,E);return c.documentOverlayCache.saveOverlays(x,j.batchId,T)})}).then(()=>({batchId:p.batchId,changes:J2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let d=a.Ba[a.currentUser.toKey()];d||(d=new Je(Ne)),d=d.insert(l,c),a.Ba[a.currentUser.toKey()]=d}(r,s.batchId,n),await vc(r,s.changes),await Lh(r.remoteStore)}catch(s){const i=Gy(s,"Failed to persist write");n.reject(i)}}async function CS(t,e){const n=pe(t);try{const r=await k5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Na.get(i);a&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?ke(a.va):s.removedDocuments.size>0&&(ke(a.va),a.va=!1))}),await vc(n,r,e)}catch(r){await hc(r)}}function Bw(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,a)=>{const l=a.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=pe(a);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(l)&&(d=!0)}),d&&Yy(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u6(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new Je(ae.comparator);a=a.insert(i,vt.newNoDocument(i,he.min()));const l=ve().add(i),c=new Rh(he.min(),new Map,new Je(Ne),a,l);await CS(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),Xy(r)}else await Fp(r.localStore,e,!1).then(()=>Bp(r,e,n)).catch(hc)}async function d6(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await T5(n.localStore,e);RS(n,r,null),PS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,s)}catch(s){await hc(s)}}async function h6(t,e,n){const r=pe(t);try{const s=await function(a,l){const c=pe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(ke(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);RS(r,e,n),PS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vc(r,s)}catch(s){await hc(s)}}function PS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function RS(t,e,n){const r=pe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Bp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||MS(t,r)})}function MS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Xy(t))}function zw(t,e,n){for(const r of n)r instanceof IS?(t.La.addReference(r.key,e),f6(t,r)):r instanceof jS?(se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||MS(t,r.key)):ce()}function f6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(se("SyncEngine","New document in limbo: "+n),t.xa.add(r),Xy(t))}function Xy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ae(Le.fromString(e)),r=t.qa.next();t.Na.set(r,new n6(n)),t.Oa=t.Oa.insert(n,r),bS(t.remoteStore,new ws(yr(Nh(n.path)),r,"TargetPurposeLimboResolution",Iy.oe))}}async function vc(t,e,n){const r=pe(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{a.push(r.Ka(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Uy.Wi(c.targetId,d);i.push(f)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(c,d){const h=pe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(d,p=>z.forEach(p.$i,x=>h.persistence.referenceDelegate.addReference(f,p.targetId,x)).next(()=>z.forEach(p.Ui,x=>h.persistence.referenceDelegate.removeReference(f,p.targetId,x)))))}catch(f){if(!fc(f))throw f;se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const x=h.os.get(p),b=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(p,E)}}}(r.localStore,i))}async function m6(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await xS(n.localStore,e);n.currentUser=e,function(i,a){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new J(U.CANCELLED,a))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(n,r.hs)}}function p6(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return ve().add(r.key);{let s=ve();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const l=n.Fa.get(a);s=s.unionWith(l.view.Va)}return s}}function DS(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u6.bind(null,e),e.Ca.d_=X5.bind(null,e.eventManager),e.Ca.$a=Z5.bind(null,e.eventManager),e}function g6(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h6.bind(null,e),e}class Bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return b5(this.persistence,new w5,e.initialUser,this.serializer)}Ga(e){return new y5(Fy.Zr,this.serializer)}Wa(e){return new j5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bd.provider={build:()=>new Bd};class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=m6.bind(null,this.syncEngine),await Q5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new J5}()}createDatastore(e){const n=Mh(e.databaseInfo.databaseId),r=function(i){return new R5(i)}(e.databaseInfo);return function(i,a,l,c){return new L5(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new V5(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Bw(this.syncEngine,n,0),function(){return Lw.D()?new Lw:new A5}())}createSyncEngine(e,n){return function(s,i,a,l,c,d,h){const f=new r6(s,i,a,l,c,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);se("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await yc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new J(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const a=pe(s),l={documents:i.map(f=>Fd(a.serializer,f))},c=await a.Lo("BatchGetDocuments",a.serializer.databaseId,Le.emptyPath(),l,i.length),d=new Map;c.forEach(f=>{const p=WF(a.serializer,f);d.set(p.key.toString(),p)});const h=[];return i.forEach(f=>{const p=d.get(f.toString());ke(!!p),h.push(p)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ph(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=ae.fromPath(r);this.mutations.push(new aS(s,this.precondition(s)))}),await async function(r,s){const i=pe(r),a={writes:s.map(l=>pS(i.serializer,l))};await i.Mo("Commit",i.serializer.databaseId,Le.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ce();n=he.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new J(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(he.min())?St.exists(!1):St.updateTime(n):St.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(he.min()))throw new J(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return St.updateTime(n)}return St.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new By(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new y6(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!mc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!oS(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Bt.UNAUTHENTICATED,this.clientId=O2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{se("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(se("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sm(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await xS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $w(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w6(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ow(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Ow(e.remoteStore,s)),t._onlineComponents=e}async function w6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await sm(t,new Bd)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await sm(t,new Bd);return t._offlineComponents}async function ev(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await $w(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await $w(t,new zp))),t._onlineComponents}function _6(t){return ev(t).then(e=>e.syncEngine)}function b6(t){return ev(t).then(e=>e.datastore)}async function zd(t){const e=await ev(t),n=e.eventManager;return n.onListen=s6.bind(null,e.syncEngine),n.onUnlisten=o6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l6.bind(null,e.syncEngine),n}function T6(t,e,n={}){const r=new gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new Zy({next:p=>{h.Za(),a.enqueueAndForget(()=>Qy(i,f));const x=p.docs.has(l);!x&&p.fromCache?d.reject(new J(U.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&p.fromCache&&c&&c.source==="server"?d.reject(new J(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Jy(Nh(l.path),h,{includeMetadataChanges:!0,_a:!0});return Ky(i,f)}(await zd(t),t.asyncQueue,e,n,r)),r.promise}function k6(t,e,n={}){const r=new gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new Zy({next:p=>{h.Za(),a.enqueueAndForget(()=>Qy(i,f)),p.fromCache&&c.source==="server"?d.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Jy(l,h,{includeMetadataChanges:!0,_a:!0});return Ky(i,f)}(await zd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E6(t,e,n,r){if(e===!0&&r===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hw(t){if(!ae.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ww(t){if(ae.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function Zt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function S6(t,e){if(e<=0)throw new J(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B3;switch(r.type){case"firstParty":return new H3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qw.get(n);r&&(se("ComponentProvider","Removing Datastore"),qw.delete(n),r.terminate())}(this),Promise.resolve()}}function N6(t,e,n,r={}){var s;const i=(t=Zt(t,Vh))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Bt.MOCK_USER;else{l=vE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Bt(d)}t._authCredentials=new z3(new L2(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qr(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class Rs extends Qr{constructor(e,n,r){super(e,n,Nh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ae(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function zs(t,e,...n){if(t=He(t),OS("collection","path",e),t instanceof Vh){const r=Le.fromString(e,...n);return Ww(r),new Rs(t,null,r)}{if(!(t instanceof jt||t instanceof Rs))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Ww(r),new Rs(t.firestore,null,r)}}function Sn(t,e,...n){if(t=He(t),arguments.length===1&&(e=O2.newId()),OS("doc","path",e),t instanceof Vh){const r=Le.fromString(e,...n);return Hw(r),new jt(t,null,new ae(r))}{if(!(t instanceof jt||t instanceof Rs))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Hw(r),new jt(t.firestore,t instanceof Rs?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new By(this,"async_queue_retry"),this.Vu=()=>{const r=rm();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new gr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fc(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Hr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Wy.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Qw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class xr extends Vh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Kw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kw(e),this._firestoreClient=void 0,await e}}}function I6(t,e){const n=typeof t=="object"?t:_h(),r=typeof t=="string"?t:"(default)",s=Js(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=pE("firestore");i&&N6(s,...i)}return s}function xc(t){if(t._terminated)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j6(t),t._firestoreClient}function j6(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,h){return new sF(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new x6(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(Pt.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=/^__.*__$/;class C6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}class VS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class rv{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new rv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $d(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(FS(this.Cu)&&A6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class P6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mh(e)}Qu(e,n,r,s=!1){return new rv({Cu:e,methodName:n,qu:r,path:Et.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _c(t){const e=t._freezeSettings(),n=Mh(t._databaseId);return new P6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sv(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);av("Data must be an object, but it was:",a,r);const l=zS(r,a);let c,d;if(i.merge)c=new wn(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=$p(e,f,n);if(!a.contains(p))throw new J(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);qS(h,p)||h.push(p)}c=new wn(h),d=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=a.fieldTransforms;return new C6(new Jt(l),c,d)}class Uh extends Fh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}class iv extends Fh{_toFieldTransform(e){return new jF(e.path,new Hl)}isEqual(e){return e instanceof iv}}function US(t,e,n,r){const s=t.Qu(1,e,n);av("Data must be an object, but it was:",s,r);const i=[],a=Jt.empty();Ki(r,(c,d)=>{const h=ov(e,c,n);d=He(d);const f=s.Nu(h);if(d instanceof Uh)i.push(h);else{const p=bc(d,f);p!=null&&(i.push(h),a.set(h,p))}});const l=new wn(i);return new VS(a,l,s.fieldTransforms)}function BS(t,e,n,r,s,i){const a=t.Qu(1,e,n),l=[$p(e,r,n)],c=[s];if(i.length%2!=0)throw new J(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push($p(e,i[p])),c.push(i[p+1]);const d=[],h=Jt.empty();for(let p=l.length-1;p>=0;--p)if(!qS(d,l[p])){const x=l[p];let b=c[p];b=He(b);const E=a.Nu(x);if(b instanceof Uh)d.push(x);else{const j=bc(b,E);j!=null&&(d.push(x),h.set(x,j))}}const f=new wn(d);return new VS(h,f,a.fieldTransforms)}function R6(t,e,n,r=!1){return bc(n,t.Qu(r?4:3,e))}function bc(t,e){if($S(t=He(t)))return av("Unsupported field value:",e,t),zS(t,e);if(t instanceof Fh)return function(r,s){if(!FS(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=bc(l,s.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=mt.fromDate(r);return{timestampValue:Vd(s.serializer,i)}}if(r instanceof mt){const i=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vd(s.serializer,i)}}if(r instanceof tv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ui)return{bytesValue:dS(s.serializer,r._byteString)};if(r instanceof jt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Oy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof nv)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return My(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Oh(r)}`)}(t,e)}function zS(t,e){const n={};return V2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,s)=>{const i=bc(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $S(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof tv||t instanceof Ui||t instanceof jt||t instanceof Fh||t instanceof nv)}function av(t,e,n){if(!$S(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Oh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function $p(t,e,n){if((e=He(e))instanceof wc)return e._internalPath;if(typeof e=="string")return ov(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,n)}const M6=new RegExp("[~\\*/\\[\\]]");function ov(t,e,n){if(e.search(M6)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wc(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new J(U.INVALID_ARGUMENT,l+t+c)}function qS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D6 extends qd{data(){return super.data()}}function Bh(t,e){return typeof e=="string"?ov(t,e):e instanceof wc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lv{}class cv extends lv{}function qt(t,e,...n){let r=[];e instanceof lv&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof uv).length,l=i.filter(c=>c instanceof zh).length;if(a>1||a>0&&l>0)throw new J(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zh extends cv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zh(e,n,r)}_apply(e){const n=this._parse(e);return WS(e._query,n),new Qr(e.firestore,e.converter,Dp(e._query,n))}_parse(e){const n=_c(e.firestore);return function(i,a,l,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Zw(f,h);const x=[];for(const b of f)x.push(Xw(c,i,b));p={arrayValue:{values:x}}}else p=Xw(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Zw(f,h),p=R6(l,a,f,h==="in"||h==="not-in");return ut.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Oe(t,e,n){const r=e,s=Bh("where",t);return zh._create(s,r,n)}class uv extends lv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)WS(a,c),a=Dp(a,c)}(e._query,n),new Qr(e.firestore,e.converter,Dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dv extends cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dv(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(i,a)}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new io(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Yw(t,e="asc"){const n=e,r=Bh("orderBy",t);return dv._create(r,n)}class hv extends cv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new hv(e,n,r)}_apply(e){return new Qr(e.firestore,e.converter,Ld(e._query,this._limit,this._limitType))}}function Jw(t){return S6("limit",t),hv._create("limit",t,"F")}function Xw(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new J(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G2(e)&&n.indexOf("/")!==-1)throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!ae.isDocumentKey(r))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yw(t,new ae(r))}if(n instanceof jt)return yw(t,n._key);throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function Zw(t,e){if(!Array.isArray(t)||t.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WS(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GS{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ki(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>nt(a.doubleValue));return new nv(i)}convertGeoPoint(e){return new tv(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ay(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=Us(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);ke(vS(r));const s=new zl(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||Hr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class L6 extends GS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mv extends qd{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bu extends mv{data(e={}){return super.data(e)}}class KS{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ba(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bu(this._firestore,this._userDataWriter,r.key,r,new ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Bu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ba(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Bu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ba(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:O6(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){t=Zt(t,jt);const e=Zt(t.firestore,xr);return T6(xc(e),t._key).then(n=>YS(e,t,n))}class $h extends GS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function Yn(t){t=Zt(t,Qr);const e=Zt(t.firestore,xr),n=xc(e),r=new $h(e);return HS(t._query),k6(n,t._query).then(s=>new KS(e,r,t,s))}function pv(t,e,n){t=Zt(t,jt);const r=Zt(t.firestore,xr),s=fv(t.converter,e,n);return qh(r,[sv(_c(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,St.none())])}function ti(t,e,n,...r){t=Zt(t,jt);const s=Zt(t.firestore,xr),i=_c(s);let a;return a=typeof(e=He(e))=="string"||e instanceof wc?BS(i,"updateDoc",t._key,e,n,r):US(i,"updateDoc",t._key,e),qh(s,[a.toMutation(t._key,St.exists(!0))])}function QS(t){return qh(Zt(t.firestore,xr),[new Ph(t._key,St.none())])}function im(t,e){const n=Zt(t.firestore,xr),r=Sn(t),s=fv(t.converter,e);return qh(n,[sv(_c(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,St.exists(!1))]).then(()=>r)}function hu(t,...e){var n,r,s;t=He(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Qw(e[a])||(i=e[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Qw(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,d,h;if(t instanceof jt)d=Zt(t.firestore,xr),h=Nh(t._key.path),c={next:f=>{e[a]&&e[a](YS(d,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Zt(t,Qr);d=Zt(f.firestore,xr),h=f._query;const p=new $h(d);c={next:x=>{e[a]&&e[a](new KS(d,p,f,x))},error:e[a+1],complete:e[a+2]},HS(t._query)}return function(p,x,b,E){const j=new Zy(E),T=new Jy(x,j,b);return p.asyncQueue.enqueueAndForget(async()=>Ky(await zd(p),T)),()=>{j.Za(),p.asyncQueue.enqueueAndForget(async()=>Qy(await zd(p),T))}}(xc(d),h,l,c)}function qh(t,e){return function(r,s){const i=new gr;return r.asyncQueue.enqueueAndForget(async()=>c6(await _6(r),s,i)),i.promise}(xc(t),e)}function YS(t,e,n){const r=n.docs.get(e._key),s=new $h(t);return new mv(t,s,e._key,r,new ba(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6={maxAttempts:5};function Ro(t,e){if((t=He(t)).firestore!==e)throw new J(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=_c(n)}get(n){const r=Ro(n,this._firestore),s=new L6(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ce();const a=i[0];if(a.isFoundDocument())return new qd(this._firestore,s,a.key,a,r.converter);if(a.isNoDocument())return new qd(this._firestore,s,r._key,null,r.converter);throw ce()})}set(n,r,s){const i=Ro(n,this._firestore),a=fv(i.converter,r,s),l=sv(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,s);return this._transaction.set(i._key,l),this}update(n,r,s,...i){const a=Ro(n,this._firestore);let l;return l=typeof(r=He(r))=="string"||r instanceof wc?BS(this._dataReader,"Transaction.update",a._key,r,s,i):US(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,l),this}delete(n){const r=Ro(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ro(e,this._firestore),r=new $h(this._firestore);return super.get(e).then(s=>new mv(this._firestore,r,n._key,s._document,new ba(!1,!1),n.converter))}}function U6(t,e,n){t=Zt(t,xr);const r=Object.assign(Object.assign({},V6),n);return function(i){if(i.maxAttempts<1)throw new J(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const c=new gr;return i.asyncQueue.enqueueAndForget(async()=>{const d=await b6(i);new v6(i.asyncQueue,d,l,a,c).au()}),c.promise}(xc(t),s=>e(new F6(t,s)),r)}function We(){return new iv("serverTimestamp")}(function(e,n=!0){(function(s){so=s})(Wi),tr(new Fn("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new xr(new $3(r.getProvider("auth-internal")),new G3(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(d.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),hn(hw,"4.7.3",e),hn(hw,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebasestorage.googleapis.com",B6="storageBucket",z6=2*60*1e3,$6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Un{constructor(e,n,r=0){super(am(e),`Firebase Storage: ${n} (${am(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wr||(wr={}));function am(t){return"storage/"+t}function q6(){const t="An unknown error occurred, please check the error payload for server response.";return new br(wr.UNKNOWN,t)}function H6(){return new br(wr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function W6(){return new br(wr.CANCELED,"User canceled the upload/download.")}function G6(t){return new br(wr.INVALID_URL,"Invalid URL '"+t+"'.")}function K6(t){return new br(wr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function e_(t){return new br(wr.INVALID_ARGUMENT,t)}function XS(){return new br(wr.APP_DELETED,"The Firebase app was deleted.")}function Q6(t){return new br(wr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jn.makeFromUrl(e,n)}catch{return new Jn(e,"")}if(r.path==="")return r;throw K6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function d(S){S.path_=decodeURIComponent(S.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",x=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},E=n===JS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",T=new RegExp(`^https?://${E}/${s}/${j}`,"i"),g=[{regex:l,indices:c,postModify:i},{regex:x,indices:b,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let S=0;S<g.length;S++){const D=g[S],C=D.regex.exec(e);if(C){const _=C[D.indices.bucket];let w=C[D.indices.path];w||(w=""),r=new Jn(_,w),D.postModify(r);break}}if(r==null)throw G6(e);return r}}class Y6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let d=!1;function h(...j){d||(d=!0,e.apply(null,j))}function f(j){s=setTimeout(()=>{s=null,t(x,c())},j)}function p(){i&&clearTimeout(i)}function x(j,...T){if(d){p();return}if(j){p(),h.call(null,j,...T);return}if(c()||a){p(),h.call(null,j,...T);return}r<64&&(r*=2);let g;l===1?(l=2,g=0):g=(r+Math.random())*1e3,f(g)}let b=!1;function E(j){b||(b=!0,p(),!d&&(s!==null?(j||(l=2),clearTimeout(s),f(0)):j||(l=1)))}return f(0),i=setTimeout(()=>{a=!0,E(!0)},n),E}function X6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){return t!==void 0}function t_(t,e,n,r){if(r<e)throw e_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw e_(`Invalid value for '${t}'. Expected ${n} or less.`)}function eU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Hd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hd||(Hd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r,s,i,a,l,c,d,h,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new fu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===Hd.NO_ERROR,c=i.getStatus();if(!l||tU(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Hd.ABORT;r(!1,new fu(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new fu(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Z6(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=q6();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?XS():W6();a(c)}else{const c=H6();a(c)}};this.canceled_?n(!1,new fu(!1,null,!0)):this.backoffId_=J6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&X6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function aU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function oU(t,e,n,r,s,i,a=!0){const l=eU(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return iU(d,e),rU(d,n),sU(d,i),aU(d,r),new nU(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this._service=e,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wd(e,n)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cU(this._location.path)}get storage(){return this._service}get parent(){const e=lU(this._location.path);if(e===null)return null;const n=new Jn(this._location.bucket,e);return new Wd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Q6(e)}}function n_(t,e){const n=e==null?void 0:e[B6];return n==null?null:Jn.makeFromBucketSpec(n,t)}function uU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:vE(s,t.app.options.projectId))}class dU{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=JS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=z6,this._maxUploadRetryTime=$6,this._requests=new Set,s!=null?this._bucket=Jn.makeFromBucketSpec(s,this._host):this._bucket=n_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=n_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){t_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){t_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wd(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Y6(XS());{const a=oU(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const r_="@firebase/storage",s_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="storage";function hU(t=_h(),e){t=He(t);const r=Js(t,ZS).getImmediate({identifier:e}),s=pE("storage");return s&&fU(r,...s),r}function fU(t,e,n,r={}){uU(t,e,n,r)}function mU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new dU(n,r,s,e,Wi)}function pU(){tr(new Fn(ZS,mU,"PUBLIC").setMultipleInstances(!0)),hn(r_,s_,""),hn(r_,s_,"esm2017")}pU();const gU={apiKey:"AIzaSyDFZtEa_Gg04nCGcEnwfbrpugERQ2lvHes",authDomain:"coding-7b4b3.firebaseapp.com",projectId:"coding-7b4b3",storageBucket:"coding-7b4b3.firebasestorage.app",messagingSenderId:"647426131575",appId:"1:647426131575:web:dbdddaab7c395ed5b1e872",measurementId:"G-VJBZ5YTZ53"},Hh=EE(gU),Kl=wV(Hh);O3(Hh);const it=I6(Hh);hU(Hh);const yU=async(t,e)=>{try{const n=await sO(Kl,t,e),r=Sn(it,"users",n.user.uid);return await pv(r,{uid:n.user.uid,email:t,name:"New User",coderName:"",profileImage:"",createdAt:We(),stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:0,rankWins:0,rankMatches:0,rank:"Unranked",lastActive:We()},achievements:[],solvedProblems:[],lastActive:We()}),{user:n.user,error:null}}catch(n){return n.code==="auth/email-already-in-use"?{user:null,error:"Account already exists. Please log in."}:{user:null,error:n.message}}},vU=async(t,e)=>{try{const n=await iO(Kl,t,e),r=Sn(it,"users",n.user.uid);return await ti(r,{lastActive:We()}),{user:n.user,error:null}}catch(n){return n.code==="auth/user-not-found"?{user:null,error:"No account found. Please sign up."}:{user:null,error:n.message}}},xU=async()=>{try{const t=Kl.currentUser;if(t){const e=Sn(it,"users",t.uid);await ti(e,{lastActive:We()})}return await cO(Kl),{success:!0,error:null}}catch(t){return{success:!1,error:t.message}}},on=async t=>{try{const e=Sn(it,"users",t),n=await Yi(e);if(n.exists())return{data:n.data(),error:null};{const r={uid:t,name:"New User",coderName:"",profileImage:"",createdAt:We(),stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:0,rankWins:0,rankMatches:0,rank:"Unranked",lastActive:We()},achievements:[],solvedProblems:[],lastActive:We()};return await pv(e,r),{data:r,error:null}}}catch(e){return console.error("Error fetching user profile:",e),{data:null,error:e.message}}},us=async(t,e)=>{try{const n=Sn(it,"users",t);return(await Yi(n)).exists()?await ti(n,{...e,lastActive:We()}):await pv(n,{uid:t,name:e.name||"New User",coderName:e.coderName||"",profileImage:e.profileImage||"",createdAt:We(),stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:0,rankWins:0,rankMatches:0,rank:"Unranked",lastActive:We()},achievements:[],solvedProblems:[],lastActive:We()}),{success:!0,error:null}}catch(n){return console.error("Error updating user profile:",n),n.code==="permission-denied"?{success:!1,error:"Permission denied: You don't have access to update this profile. Please check Firebase security rules."}:{success:!1,error:n.message}}},wU=async(t,e,n)=>{try{const r=Sn(it,"users",t),s=await Yi(r);if(!s.exists())throw new Error("User document not found");const a=s.data().solvedProblems||[];if(!a.includes(e)){a.push(e);const l=a.length;await ti(r,{solvedProblems:a,"stats.problemsSolved":l,lastActive:We()})}return{success:!0,error:null}}catch(r){return console.error("Error updating problem solved status:",r),{success:!1,error:r.message}}},_U=async(t,e)=>{try{console.log("Updating match results - Winner:",t,"Loser:",e);const n=zs(it,"matches"),r=qt(n,Oe("winner","==",t),Oe("status","==","completed"),Oe("pointsAwarded","==",!0));if(!(await Yn(r)).empty)return console.log("Match results already processed, not awarding points again"),{success:!0,error:null,alreadyProcessed:!0};await U6(it,async l=>{var p,x,b,E;const c=Sn(it,"users",t),d=await l.get(c),h=Sn(it,"users",e),f=await l.get(h);if(d.exists()){const j=d.data(),T=((p=j.stats)==null?void 0:p.totalRankPoints)||0,v=((x=j.stats)==null?void 0:x.rankWins)||0,g=((b=j.stats)==null?void 0:b.rankMatches)||0;l.update(c,{"stats.totalRankPoints":T+1,"stats.rankWins":v+1,"stats.rankMatches":g+1,lastActive:We()})}else l.set(c,{uid:t,name:"New User",createdAt:We(),stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:1,rankWins:1,rankMatches:1,rank:"Bronze",lastActive:We()},solvedProblems:[],lastActive:We()});if(f.exists()){const T=((E=f.data().stats)==null?void 0:E.rankMatches)||0;l.update(h,{"stats.rankMatches":T+1,lastActive:We()})}else l.set(h,{uid:e,name:"New User",createdAt:We(),stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:0,rankWins:0,rankMatches:1,rank:"Unranked",lastActive:We()},solvedProblems:[],lastActive:We()})});const i=qt(n,Oe("winner","==",t),Oe("status","==","completed"),Oe("pointsAwarded","==",!1)),a=await Yn(i);if(!a.empty)for(const l of a.docs)await ti(l.ref,{pointsAwarded:!0,pointsAwardedTimestamp:We()});return await Promise.all([i_(t),i_(e)]),console.log("Successfully updated winner and loser stats and ranks"),{success:!0,error:null,alreadyProcessed:!1}}catch(n){return console.error("Error updating match results:",n),{success:!1,error:n.message,alreadyProcessed:!1}}},i_=async t=>{var e;try{const n=Sn(it,"users",t),r=await Yi(n);if(!r.exists())throw new Error("User document not found");const i=((e=r.data().stats)==null?void 0:e.totalRankPoints)||0;let a="Unranked";return i>=100?a="Diamond":i>=80?a="Platinum":i>=60?a="Gold":i>=30?a="Silver":i>0&&(a="Bronze"),console.log(`User ${t} has ${i} rank points, new rank: ${a}`),await ti(n,{"stats.rank":a,lastActive:We()}),console.log(`Updated user ${t} rank to ${a}`),{success:!0,error:null}}catch(n){return console.error("Error updating user rank:",n),{success:!1,error:n.message}}},a_=async(t="global",e=10)=>{try{console.log(`Getting ${t} leaderboard, limit: ${e}`);const n=zs(it,"users");let r;t==="rankPoints"?r=qt(n,Yw("stats.totalRankPoints","desc"),Jw(e)):r=qt(n,Yw("stats.problemsSolved","desc"),Jw(e));const s=await Yn(r);return console.log(`Found ${s.size} users for ${t} leaderboard`),{data:s.docs.map((a,l)=>{const c=a.data();return{id:a.id,name:c.name||"Anonymous",coderName:c.coderName||"",selectedAvatar:c.selectedAvatar||"boy1",rank:l+1,stats:c.stats||{}}}),error:null}}catch(n){return console.error("Error fetching leaderboard:",n),{data:[],error:n.message}}},o_=async(t,e="global")=>{var n,r;try{const s=await Yi(Sn(it,"users",t));if(!s.exists())throw new Error("User not found");const i=s.data(),a=e==="rankPoints"?((n=i.stats)==null?void 0:n.totalRankPoints)||0:((r=i.stats)==null?void 0:r.problemsSolved)||0,l=zs(it,"users"),d=qt(l,Oe(e==="rankPoints"?"stats.totalRankPoints":"stats.problemsSolved",">",a));return{rank:(await Yn(d)).size+1,error:null}}catch(s){return console.error("Error getting user rank position:",s),{rank:null,error:s.message}}},eN=A.createContext({currentUser:null,loading:!0}),Bn=()=>A.useContext(eN),bU=({children:t})=>{const[e,n]=A.useState(null),[r,s]=A.useState(!0);A.useEffect(()=>lO(Kl,l=>{n(l),s(!1)}),[]);const i={currentUser:e,loading:r};return o.jsx(eN.Provider,{value:i,children:!r&&t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...d},h)=>A.createElement("svg",{ref:h,...TU,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${kU(t)}`,l].join(" "),...d},[...e.map(([f,p])=>A.createElement(f,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=te("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=te("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=te("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=te("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=te("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=te("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=te("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=te("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=te("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=te("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=te("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=te("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=te("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=te("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=te("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=te("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=te("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=te("TerminalSquare",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=te("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=te("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Jl=({size:t=40,className:e=""})=>o.jsxs(M.svg,{width:t,height:t,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,whileHover:{rotate:360},transition:{duration:.8,ease:"easeInOut"},children:[o.jsx(M.circle,{cx:"20",cy:"20",r:"18",stroke:"url(#gradient)",strokeWidth:"2",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}}),o.jsx(M.path,{d:"M13 15L20 22L27 15",stroke:"url(#gradient)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.8,ease:"easeInOut",delay:.4}}),o.jsx(M.path,{d:"M13 25L20 18L27 25",stroke:"url(#gradient)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.8,ease:"easeInOut",delay:.6}}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"gradient",x1:"10",y1:"10",x2:"30",y2:"30",gradientUnits:"userSpaceOnUse",children:[o.jsx("stop",{stopColor:"#f45b69"}),o.jsx("stop",{offset:"1",stopColor:"#00d4ff"})]})})]}),wt=({children:t})=>o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},className:"min-h-screen flex flex-col relative overflow-x-hidden",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-[-1]",children:[o.jsx("div",{className:"absolute top-[10%] right-[5%] w-64 h-64 bg-[var(--accent)] rounded-full filter blur-[120px] opacity-10 animate-pulse"}),o.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-80 h-80 bg-[var(--accent-secondary)] rounded-full filter blur-[100px] opacity-10 animate-pulse",style:{animationDelay:"1s"}}),o.jsx("div",{className:"absolute top-[40%] left-[50%] w-96 h-96 bg-purple-500 rounded-full filter blur-[120px] opacity-5 animate-pulse",style:{animationDelay:"2s"}})]}),t]}),l9=()=>{const t=A.useRef(null),e=()=>{var a;(a=t.current)==null||a.scrollIntoView({behavior:"smooth"})},n={y:[0,-20,0],transition:{duration:6,repeat:1/0,ease:"easeInOut"}},r={scale:[1,1.05,1],transition:{duration:3,repeat:1/0,ease:"easeInOut"}},s={rotate:[0,5,0,-5,0],transition:{duration:5,repeat:1/0,ease:"easeInOut"}},i={scale:[1,1.2,1],opacity:[.5,.7,.5],transition:{duration:8,repeat:1/0,ease:"easeInOut"}};return o.jsx(wt,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsxs("header",{className:"bg-[var(--primary)] relative min-h-screen flex items-center",children:[o.jsxs(M.div,{className:"absolute inset-0 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[o.jsx(M.div,{className:"absolute top-1/4 left-1/4 w-[600px] h-[600px] rounded-full bg-[var(--accent)] filter blur-[200px] opacity-10",animate:i}),o.jsx(M.div,{className:"absolute bottom-1/4 right-1/4 w-[500px] h-[500px] rounded-full bg-[var(--accent-secondary)] filter blur-[180px] opacity-10",animate:{...i,transition:{...i.transition,delay:2}}}),o.jsx(M.div,{className:"absolute top-1/2 right-1/3 w-[400px] h-[400px] rounded-full bg-purple-500 filter blur-[150px] opacity-5",animate:{...i,transition:{...i.transition,delay:4}}})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0a0a14] to-[var(--primary)] opacity-50"}),o.jsxs("div",{className:"container-custom z-10 py-24",children:[o.jsxs("nav",{className:"flex justify-between items-center mb-16",children:[o.jsxs(M.div,{className:"flex items-center gap-3 click-animate hover:scale-105 transition-transform",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut"},children:[o.jsx(M.div,{whileHover:{rotate:360},transition:{duration:.8,ease:"easeInOut"},children:o.jsx(Jl,{size:40})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",children:"CodoSphere"}),o.jsx(M.span,{className:"text-sm font-medium text-[var(--accent-secondary)]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},children:"Compete. Conquer. Repeat."})]})]}),o.jsx(M.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut"},children:o.jsx(Pe,{to:"/profile",className:"btn-primary",children:"Get Started"})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs(M.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.3},children:[o.jsxs(M.h1,{className:"text-4xl md:text-6xl font-bold mb-6",animate:{textShadow:["0 0 0px rgba(244, 91, 105, 0)","0 0 15px rgba(244, 91, 105, 0.5)","0 0 0px rgba(244, 91, 105, 0)"]},transition:{duration:5,repeat:1/0,repeatType:"reverse"},children:["Elevate Your ",o.jsx(M.span,{className:"text-[var(--accent)]",animate:{color:["#f45b69","#ff7b86","#f45b69"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},children:"Coding Skills"})]}),o.jsx(M.p,{className:"text-xl text-[var(--text-secondary)] mb-8",animate:n,children:"Practice daily, compete in challenges, and track your progress to become a better programmer."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx(M.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(Pe,{to:"/profile",className:"btn-primary text-center block",children:"Get Started"})}),o.jsx(M.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsxs("button",{onClick:e,className:"btn-secondary flex items-center justify-center gap-2 w-full",children:["Learn More",o.jsx(M.div,{animate:{y:[0,5,0]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},children:o.jsx(qp,{size:16})})]})})]})]}),o.jsx(M.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.5},className:"hidden lg:block",children:o.jsxs(M.div,{className:"relative",animate:s,children:[o.jsx(M.div,{className:"absolute -left-6 -top-6 w-72 h-72 bg-[var(--accent)] rounded-full filter blur-[120px] opacity-10",animate:{scale:[1,1.4,1],opacity:[.1,.2,.1]},transition:{duration:5,repeat:1/0,repeatType:"reverse"}}),o.jsxs(M.div,{className:"card rounded-xl overflow-hidden shadow-2xl",whileHover:{y:-10},transition:{duration:.3},children:[o.jsx("div",{className:"bg-[#131b2e] p-3 flex items-center",children:o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx(M.div,{className:"w-3 h-3 bg-red-500 rounded-full",whileHover:{scale:1.5}}),o.jsx(M.div,{className:"w-3 h-3 bg-yellow-500 rounded-full",whileHover:{scale:1.5}}),o.jsx(M.div,{className:"w-3 h-3 bg-green-500 rounded-full",whileHover:{scale:1.5}})]})}),o.jsxs("div",{className:"p-6 font-mono text-sm",children:[o.jsx("div",{className:"text-[#637777]",children:"// Solve the Two Sum problem"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"text-[#c792ea]",children:"function"})," ",o.jsx("span",{className:"text-[#82aaff]",children:"twoSum"}),"(",o.jsx("span",{className:"text-[#f78c6c]",children:"nums"}),","," ",o.jsx("span",{className:"text-[#f78c6c]",children:"target"}),") ","{"]}),o.jsxs("div",{className:"pl-4",children:[o.jsx("span",{className:"text-[#c792ea]",children:"const"})," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"map"})," ="," ",o.jsx("span",{className:"text-[#89ddff]",children:"new"})," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"Map"}),"();"]}),o.jsxs("div",{className:"pl-4",children:[o.jsx("span",{className:"text-[#c792ea]",children:"for"})," (",o.jsx("span",{className:"text-[#c792ea]",children:"let"})," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"i"})," ="," ",o.jsx("span",{className:"text-[#f78c6c]",children:"0"}),";"," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"i"})," <"," ",o.jsx("span",{className:"text-[#f78c6c]",children:"nums"}),".length;"," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"i"}),"++) ","{"]}),o.jsxs("div",{className:"pl-8",children:[o.jsx("span",{className:"text-[#c792ea]",children:"const"})," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"complement"})," ="," ",o.jsx("span",{className:"text-[#f78c6c]",children:"target"})," -"," ",o.jsx("span",{className:"text-[#f78c6c]",children:"nums"}),"[",o.jsx("span",{className:"text-[#ffcb6b]",children:"i"}),"];"]}),o.jsx("div",{className:"pl-8 text-[#fff]",children:o.jsx(M.span,{className:"relative after:content-[''] after:absolute after:right-0 after:w-2 after:h-5 after:bg-[var(--accent)]",animate:{opacity:[1,0,1]},transition:{duration:1,repeat:1/0}})})]})]})]})})]}),o.jsxs(M.div,{animate:{y:[0,10,0],transition:{duration:2,repeat:1/0,repeatType:"reverse"}},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex flex-col items-center cursor-pointer",onClick:e,children:[o.jsx(M.span,{className:"text-sm text-[var(--text-secondary)] mb-2",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:"Scroll to learn more"}),o.jsx(M.div,{animate:{y:[0,5,0],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},children:o.jsx(qp,{className:"text-[var(--accent)]"})})]})]})]}),o.jsx("section",{ref:t,className:"py-24 bg-[var(--secondary)]",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsxs(M.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-4xl font-bold mb-4",children:["Features That ",o.jsx(M.span,{className:"text-[var(--accent)]",animate:{textShadow:["0 0 0px rgba(244, 91, 105, 0)","0 0 10px rgba(244, 91, 105, 0.5)","0 0 0px rgba(244, 91, 105, 0)"]},transition:{duration:3,repeat:1/0},children:"Set Us Apart"})]}),o.jsx(M.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"text-lg text-[var(--text-secondary)] max-w-2xl mx-auto",children:"Our platform offers everything you need to improve your coding skills and prepare for technical interviews."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:o.jsx(_r,{size:40,className:"text-[var(--accent)]"}),title:"Daily Coding Challenges",description:"Practice with new problems every day, sorted by difficulty level to match your skill."},{icon:o.jsx(Tc,{size:40,className:"text-[var(--accent)]"}),title:"Question of the Day",description:"Tackle a specially curated daily problem to expand your problem-solving toolkit."},{icon:o.jsx(Ln,{size:40,className:"text-[var(--accent)]"}),title:"1v1 Ranked Matches",description:"Compete against other coders in real-time to solve problems under pressure."},{icon:o.jsx($s,{size:40,className:"text-[var(--accent)]"}),title:"Comprehensive Study Materials",description:"Learn key algorithms and data structures with our detailed guides and examples."},{icon:o.jsx(Ni,{size:40,className:"text-[var(--accent)]"}),title:"Achievements & Badges",description:"Earn recognition for your progress and showcase your accomplishments."},{icon:o.jsx(a9,{size:40,className:"text-[var(--accent)]"}),title:"Global Leaderboard",description:"See how you rank against other programmers locally and globally."}].map((a,l)=>o.jsxs(M.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:l*.1,type:"spring",stiffness:100},viewport:{once:!0},whileHover:{y:-10,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"card hover:shadow-xl transition-all duration-300",children:[o.jsx(M.div,{className:"mb-4",whileHover:{rotate:[0,-10,10,-10,0],scale:1.1},transition:{duration:.5},children:a.icon}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:a.title}),o.jsx("p",{className:"text-[var(--text-secondary)]",children:a.description})]},l))}),o.jsx(M.div,{className:"mt-16 text-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.6},viewport:{once:!0},children:o.jsx(M.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(Pe,{to:"/profile",className:"btn-primary text-lg py-3 px-8 inline-block",children:"Get Started Now"})})})]})}),o.jsx("section",{className:"py-24 bg-[var(--primary)]",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsxs(M.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-4xl font-bold mb-4",children:["Get In ",o.jsx(M.span,{className:"text-[var(--accent)]",animate:{textShadow:["0 0 0px rgba(244, 91, 105, 0)","0 0 10px rgba(244, 91, 105, 0.5)","0 0 0px rgba(244, 91, 105, 0)"]},transition:{duration:3,repeat:1/0},children:"Touch"})]}),o.jsx(M.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"text-lg text-[var(--text-secondary)] max-w-2xl mx-auto",children:"Have questions or feedback? We'd love to hear from you. Reach out to our team using any of the methods below."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Email Us",details:"support@codosphere.com",description:"For general inquiries and support"},{title:"Call Us",details:"+1 (555) 123-4567",description:"Monday to Friday, 9AM-5PM EST"},{title:"Visit Us",details:"123 Coding Lane, Tech City, TC 10101",description:"Our headquarters location"}].map((a,l)=>o.jsxs(M.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:l*.2},viewport:{once:!0},whileHover:{y:-10,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"card text-center",children:[o.jsx(M.h3,{className:"text-xl font-semibold mb-2",animate:r,children:a.title}),o.jsx(M.p,{className:"text-[var(--accent)] font-medium mb-2",whileHover:{scale:1.05},children:a.details}),o.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:a.description})]},l))})]})}),o.jsx("footer",{className:"bg-[var(--secondary)] py-8 text-center",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs(M.div,{className:"flex items-center justify-center gap-2 mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[o.jsx(M.div,{whileHover:{rotate:360},transition:{duration:.8},children:o.jsx(Jl,{size:24})}),o.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",children:"CodoSphere"})]}),o.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mb-6",children:[" ",new Date().getFullYear()," CodoSphere. All rights reserved."]}),o.jsxs("div",{className:"flex justify-center space-x-6",children:[o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Terms of Service"}),o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Privacy Policy"}),o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Cookie Policy"})]})]})})]})})},c9=()=>{const[t,e]=A.useState(!0),[n,r]=A.useState(""),[s,i]=A.useState(""),[a,l]=A.useState(!1),[c,d]=A.useState(""),[h,f]=A.useState(!1),p=Qs(),x=async E=>{E.preventDefault(),d(""),f(!0);try{if(t){const j=await vU(n,s);j.error?d(j.error):j.user&&p("/profile")}else{const j=await yU(n,s);j.error?d(j.error):j.user&&p("/profile")}}catch(j){d(j.message||"An error occurred during authentication")}finally{f(!1)}},b=()=>{l(!a)};return o.jsxs("div",{className:"flex flex-col min-h-screen bg-[var(--primary)]",children:[o.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Pe,{to:"/",className:"inline-flex items-center justify-center mb-6",children:o.jsx(Jl,{size:60})}),o.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-[var(--text)]",children:t?"Sign in to your account":"Create a new account"}),o.jsx("p",{className:"mt-2 text-sm text-[var(--text-secondary)]",children:t?"Enter your credentials to access your account":"Fill out the form to create your account"})]}),o.jsxs("div",{className:"mt-8",children:[c&&o.jsx(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500 bg-opacity-20 text-red-400 p-3 rounded-lg mb-4",children:c}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[o.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Yl,{size:18,className:"text-[var(--text-secondary)]"})}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:E=>r(E.target.value),className:"appearance-none relative block w-full pl-10 pr-3 py-3 bg-[var(--secondary)] placeholder-[var(--text-secondary)] text-[var(--text)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent)]",placeholder:"Email address"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Hp,{size:18,className:"text-[var(--text-secondary)]"})}),o.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:t?"current-password":"new-password",required:!0,value:s,onChange:E=>i(E.target.value),className:"appearance-none relative block w-full pl-10 pr-10 py-3 bg-[var(--secondary)] placeholder-[var(--text-secondary)] text-[var(--text)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent)]",placeholder:"Password"}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:b,children:a?o.jsx(PU,{size:18,className:"text-[var(--text-secondary)] hover:text-[var(--text)]"}):o.jsx(RU,{size:18,className:"text-[var(--text-secondary)] hover:text-[var(--text)]"})})]})]})]}),t&&o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("div",{className:"text-sm",children:o.jsx("a",{href:"#",className:"font-medium text-[var(--accent)] hover:text-[var(--accent-hover)]",children:"Forgot your password?"})})}),o.jsx("button",{type:"submit",disabled:h,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-[var(--accent)] hover:bg-[var(--accent-hover)] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--accent)] transition-colors ${h?"opacity-70 cursor-not-allowed":""}`,children:h?o.jsxs("span",{className:"flex items-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):o.jsx("span",{className:"flex items-center",children:t?o.jsxs(o.Fragment,{children:[o.jsx($U,{size:18,className:"mr-2"}),"Sign in"]}):o.jsxs(o.Fragment,{children:[o.jsx(i9,{size:18,className:"mr-2"}),"Sign up"]})})})]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:[t?"Don't have an account?":"Already have an account?",o.jsx("button",{onClick:()=>e(!t),className:"ml-2 font-medium text-[var(--accent)] hover:text-[var(--accent-hover)]",children:t?"Sign up":"Sign in"})]})})]})}),o.jsx("footer",{className:"py-4 text-center",children:o.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[" ",new Date().getFullYear()," CodoSphere. All rights reserved."]})})]})},At=()=>{const t=Ks(),e=Qs(),{currentUser:n}=Bn(),[r,s]=A.useState(!1),[i,a]=A.useState(!1),l=A.useRef(null),c=[{name:"Code",path:"/code",icon:o.jsx(_r,{size:22})},{name:"Daily Question",path:"/question-of-the-day",icon:o.jsx(Ql,{size:22})},{name:"Ranked Match",path:"/ranked-match",icon:o.jsx(Ln,{size:22})}],d=[{name:"Study",path:"/study",icon:o.jsx($s,{size:20})},{name:"Leaderboard",path:"/leaderboard",icon:o.jsx(Ms,{size:20})},{name:"Stats",path:"/stats",icon:o.jsx(Ja,{size:20})},{name:"Home",path:"/profile",icon:o.jsx(FU,{size:20})},{name:"Contact Us",path:"/contact",icon:o.jsx(Yl,{size:20})}];A.useEffect(()=>{const f=p=>{l.current&&!l.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]),A.useEffect(()=>{a(!1),s(!1)},[t]);const h=async()=>{try{await xU(),e("/login")}catch(f){console.error("Failed to log out",f)}};return o.jsxs("nav",{className:"bg-[var(--secondary)] backdrop-blur-md bg-opacity-80 shadow-lg py-6 sticky top-0 z-50",children:[o.jsxs("div",{className:"container-custom flex justify-between items-center",children:[o.jsxs(Pe,{to:"/",className:"flex items-center gap-3 click-animate hover:scale-105 transition-transform",children:[o.jsx(Jl,{}),o.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",children:"CodoSphere"})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-14",children:[c.map(f=>o.jsxs(Pe,{to:f.path,className:"click-animate flex items-center gap-2 text-base font-medium transition-colors hover:text-[var(--accent)] relative overflow-hidden group",children:[o.jsx("span",{className:"group-hover:scale-110 transition-transform",children:f.icon}),o.jsx("span",{children:f.name}),t.pathname===f.path&&o.jsx(M.div,{className:"h-1 w-full bg-[var(--accent)] absolute -bottom-1 left-0",layoutId:"navbar-indicator",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]},f.path)),o.jsxs("div",{className:"relative",ref:l,children:[o.jsxs("button",{onClick:()=>a(!i),className:"click-animate flex items-center gap-2 text-base font-medium transition-colors hover:text-[var(--accent)]",children:[o.jsx(KU,{size:22}),o.jsx("span",{children:"More"}),o.jsx(qp,{size:16,className:`transition-transform duration-300 ${i?"rotate-180":""}`})]}),o.jsx(an,{children:i&&o.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-[var(--secondary)] rounded-lg shadow-lg overflow-hidden z-20 border border-white/10",children:[d.map(f=>o.jsxs(Pe,{to:f.path,className:`flex items-center gap-2 p-3 hover:bg-[var(--primary)] transition-colors ${t.pathname===f.path?"text-[var(--accent)]":"text-[var(--text)]"}`,children:[f.icon,o.jsx("span",{children:f.name})]},f.path)),n&&o.jsxs("button",{onClick:h,className:"flex items-center gap-2 p-3 w-full text-left hover:bg-[var(--primary)] transition-colors text-[var(--text)]",children:[o.jsx(mu,{size:20}),o.jsx("span",{children:"Sign out"})]})]})})]})]}),n?o.jsxs("button",{className:"click-animate hidden md:flex items-center gap-1.5 text-base font-medium text-[var(--text)] hover:text-[var(--accent)] transition-colors",onClick:h,children:[o.jsx(mu,{size:22}),o.jsx("span",{children:"Sign out"})]}):o.jsx(Pe,{to:"/login",className:"click-animate hidden md:flex items-center gap-1.5 text-base font-medium text-[var(--text)] hover:text-[var(--accent)] transition-colors",children:o.jsx("span",{children:"Sign in"})}),o.jsx("button",{className:"md:hidden text-[var(--text)] p-2 rounded-lg hover:bg-[var(--accent)] hover:bg-opacity-10 transition-colors",onClick:()=>s(!r),children:r?o.jsx(Rn,{size:24}):o.jsx(WU,{size:24})})]}),o.jsx(an,{children:r&&o.jsx(M.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden overflow-hidden bg-[var(--secondary)] bg-opacity-95 backdrop-blur-md",children:o.jsxs("div",{className:"container-custom py-4 flex flex-col space-y-4",children:[c.map(f=>o.jsxs(Pe,{to:f.path,onClick:()=>s(!1),className:`flex items-center gap-2 py-3 px-4 rounded-lg transition-colors ${t.pathname===f.path?"bg-[var(--accent)] bg-opacity-20 text-[var(--accent)]":"text-[var(--text)] hover:bg-[var(--accent)] hover:bg-opacity-10"}`,children:[f.icon,o.jsx("span",{children:f.name})]},f.path)),o.jsx("div",{className:"h-px bg-white/10 my-2"}),d.map(f=>o.jsxs(Pe,{to:f.path,onClick:()=>s(!1),className:`flex items-center gap-2 py-3 px-4 rounded-lg transition-colors ${t.pathname===f.path?"bg-[var(--accent)] bg-opacity-20 text-[var(--accent)]":"text-[var(--text)] hover:bg-[var(--accent)] hover:bg-opacity-10"}`,children:[f.icon,o.jsx("span",{children:f.name})]},f.path)),n?o.jsxs("button",{className:"flex items-center gap-2 py-3 px-4 text-[var(--text)] hover:text-[var(--accent)]",onClick:h,children:[o.jsx(mu,{size:20}),o.jsx("span",{children:"Sign out"})]}):o.jsxs(Pe,{to:"/login",className:"flex items-center gap-2 py-3 px-4 text-[var(--text)] hover:text-[var(--accent)]",children:[o.jsx(mu,{size:20}),o.jsx("span",{children:"Sign in"})]})]})})})]})},en=()=>o.jsx("footer",{className:"bg-[var(--secondary)] bg-opacity-80 backdrop-blur-md mt-auto py-12",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-10",children:[o.jsxs(M.div,{className:"flex flex-col items-center md:items-start",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[o.jsxs(Pe,{to:"/",className:"flex items-center gap-3 mb-4 click-animate hover:scale-105 transition-transform",children:[o.jsx(Jl,{size:32}),o.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",children:"CodoSphere"})]}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)] text-center md:text-left max-w-md",children:"Elevate your coding skills with practice, challenges, and competitions in our immersive learning environment."})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-16 gap-y-8",children:[o.jsxs(M.div,{className:"flex flex-col",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},children:[o.jsx("h3",{className:"font-semibold mb-4 text-base",children:"Practice"}),o.jsx(Pe,{to:"/code",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Coding Problems"}),o.jsx(Pe,{to:"/question-of-the-day",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Daily Question"}),o.jsx(Pe,{to:"/ranked-match",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Ranked Matches"})]}),o.jsxs(M.div,{className:"flex flex-col",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:[o.jsx("h3",{className:"font-semibold mb-4 text-base",children:"Learn"}),o.jsx(Pe,{to:"/study",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Study Materials"}),o.jsx(Pe,{to:"/leaderboard",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Leaderboard"}),o.jsx(Pe,{to:"/stats",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Your Stats"})]}),o.jsxs(M.div,{className:"flex flex-col col-span-2 md:col-span-1",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},children:[o.jsx("h3",{className:"font-semibold mb-4 text-base",children:"Connect"}),o.jsx(Pe,{to:"/contact",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Contact Us"}),o.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Terms of Service"}),o.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Privacy Policy"})]})]}),o.jsxs(M.div,{className:"flex space-x-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},children:[o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors transform hover:scale-110",children:o.jsx(VU,{size:22})}),o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors transform hover:scale-110",children:o.jsx(r9,{size:22})}),o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors transform hover:scale-110",children:o.jsx(UU,{size:22})}),o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors transform hover:scale-110",children:o.jsx(Yl,{size:22})})]})]}),o.jsx("div",{className:"mt-12 text-center",children:o.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[" ",new Date().getFullYear()," CodoSphere. All rights reserved."]})})]})}),u9={boy1:{primaryColor:"#3b82f6",secondaryColor:"#1e40af",skinColor:"#f8d9b4",hairColor:"#222222"},boy2:{primaryColor:"#10b981",secondaryColor:"#047857",skinColor:"#e5c298",hairColor:"#513b2a"},girl1:{primaryColor:"#ec4899",secondaryColor:"#be185d",skinColor:"#f8d9b4",hairColor:"#513b2a"},girl2:{primaryColor:"#8b5cf6",secondaryColor:"#6d28d9",skinColor:"#e5c298",hairColor:"#222222"}},Da=({type:t,size:e=120,interval:n=1e4,selected:r=!1,onClick:s})=>{const[i,a]=A.useState(!1),[l,c]=A.useState(!1),d=u9[t];A.useEffect(()=>{const b=setInterval(()=>{a(!0),setTimeout(()=>a(!1),2500)},n),E=setInterval(()=>{c(!0),setTimeout(()=>c(!1),300)},Math.random()*3e3+2e3),j=setTimeout(()=>{a(!0),setTimeout(()=>a(!1),2500)},1e3);return()=>{clearInterval(b),clearInterval(E),clearTimeout(j)}},[n]);const h={rest:{rotate:0,x:0},wave:{rotate:[0,20,-10,20,-10,20,0],x:[0,2,-1,2,-1,2,0],transition:{duration:2.5,times:[0,.2,.4,.6,.8,.9,1],ease:"easeInOut"}}},f={rest:{y:0},happy:{y:[0,-2,0],transition:{duration:.5,repeat:1,repeatType:"reverse"}}},p={open:{scaleY:1},blink:{scaleY:.1,transition:{duration:.1}}},x={initial:{opacity:0,rotate:-180,scale:.5},animate:{opacity:1,rotate:0,scale:1,transition:{duration:1.5,ease:[.34,1.56,.64,1]}}};return o.jsxs(M.div,{className:`relative rounded-full overflow-hidden cursor-pointer ${r?"ring-4 ring-[var(--accent)]":""}`,style:{width:e,height:e,background:`radial-gradient(circle at center, ${d.primaryColor}, ${d.secondaryColor})`},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,...x,children:[o.jsx(M.div,{className:"absolute",style:{width:e*.8,height:e*.8,borderRadius:"50%",background:`radial-gradient(circle at 30% 30%, ${d.primaryColor}99, transparent)`,top:e*.1,left:e*.1},animate:{opacity:[.5,.7,.5]},transition:{duration:3,repeat:1/0}}),o.jsx(M.div,{className:"absolute bottom-0 w-full",style:{height:e*.6},animate:{y:[0,-2,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:o.jsx(M.div,{style:{width:e*.5,height:e*.3,background:d.primaryColor,borderRadius:`${e*.1}px ${e*.1}px 0 0`,position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)"}})}),o.jsxs(M.div,{style:{width:e*.4,height:e*.4,background:d.skinColor,borderRadius:"50%",position:"absolute",top:e*.15,left:"50%",transform:"translateX(-50%)"},variants:f,animate:i?"happy":"rest",children:[o.jsx(M.div,{style:{width:e*.07,height:e*.07,background:"#222",borderRadius:"50%",position:"absolute",top:e*.16,left:e*.13,transformOrigin:"center"},variants:p,animate:l?"blink":"open"}),o.jsx(M.div,{style:{width:e*.07,height:e*.07,background:"#222",borderRadius:"50%",position:"absolute",top:e*.16,right:e*.13,transformOrigin:"center"},variants:p,animate:l?"blink":"open"}),o.jsx(M.div,{style:{width:e*.16,height:e*.06,background:t.includes("girl")?"#f472b6":"#222",borderRadius:"5px 5px 10px 10px",position:"absolute",bottom:e*.08,left:"50%",transform:"translateX(-50%)"},animate:i?{height:e*.08,borderRadius:"5px 5px 12px 12px"}:{}}),t==="boy1"&&o.jsx(M.div,{style:{width:e*.42,height:e*.15,background:d.hairColor,position:"absolute",borderRadius:`${e*.1}px ${e*.1}px 0 0`,top:-e*.02,left:-e*.01}}),t==="boy2"&&o.jsx(M.div,{style:{width:e*.42,height:e*.2,background:d.hairColor,position:"absolute",borderRadius:"50% 50% 0 0",top:-e*.05,left:-e*.01}}),t==="girl1"&&o.jsxs(o.Fragment,{children:[o.jsx(M.div,{style:{width:e*.48,height:e*.3,background:d.hairColor,position:"absolute",borderRadius:"50% 50% 30% 30%",top:-e*.1,left:-e*.04}}),o.jsx(M.div,{style:{width:e*.15,height:e*.25,background:d.hairColor,position:"absolute",borderRadius:"20px",top:e*.15,left:-e*.03}}),o.jsx(M.div,{style:{width:e*.15,height:e*.25,background:d.hairColor,position:"absolute",borderRadius:"20px",top:e*.15,right:-e*.03}})]}),t==="girl2"&&o.jsxs(o.Fragment,{children:[o.jsx(M.div,{style:{width:e*.48,height:e*.25,background:d.hairColor,position:"absolute",borderRadius:"50% 50% 0 0",top:-e*.08,left:-e*.04}}),o.jsx(M.div,{style:{width:e*.12,height:e*.4,background:d.hairColor,position:"absolute",borderRadius:"10px 10px 0 20px",top:e*.12,left:-e*.06,transform:"rotate(5deg)"}}),o.jsx(M.div,{style:{width:e*.12,height:e*.4,background:d.hairColor,position:"absolute",borderRadius:"10px 10px 20px 0",top:e*.12,right:-e*.06,transform:"rotate(-5deg)"}})]})]}),o.jsx(M.div,{style:{width:e*.1,height:e*.3,background:d.primaryColor,borderRadius:"10px",position:"absolute",bottom:e*.1,left:e*.15,transformOrigin:"bottom center",zIndex:10},variants:h,animate:i?"wave":"rest",children:o.jsx(M.div,{style:{width:e*.12,height:e*.12,background:d.skinColor,borderRadius:"50%",position:"absolute",top:-e*.05,left:-e*.01}})}),o.jsx(M.div,{style:{width:e*.1,height:e*.2,background:d.primaryColor,borderRadius:"10px",position:"absolute",bottom:e*.1,right:e*.2,transformOrigin:"bottom center",transform:"rotate(-10deg)",zIndex:-1},children:o.jsx(M.div,{style:{width:e*.12,height:e*.12,background:d.skinColor,borderRadius:"50%",position:"absolute",top:-e*.06,right:-e*.02}})})]})},d9=[{id:"boy1",name:"Coder Boy 1"},{id:"boy2",name:"Coder Boy 2"},{id:"girl1",name:"Coder Girl 1"},{id:"girl2",name:"Coder Girl 2"}],Mo=[{id:1,name:"First Steps",description:"Solve your first coding problem",icon:"",criteria:{problemsSolved:1}},{id:2,name:"Getting Started",description:"Solve 5 coding problems",icon:"",criteria:{problemsSolved:5}},{id:3,name:"Problem Solver",description:"Solve 25 coding problems",icon:"",criteria:{problemsSolved:25}},{id:4,name:"Code Warrior",description:"Solve 100 coding problems",icon:"",criteria:{problemsSolved:100}},{id:5,name:"Coding Master",description:"Solve 250 coding problems",icon:"",criteria:{problemsSolved:250}},{id:6,name:"Streak Starter",description:"Maintain a 3-day coding streak",icon:"",criteria:{currentStreak:3}},{id:7,name:"Streak Warrior",description:"Maintain a 7-day coding streak",icon:"",criteria:{currentStreak:7}},{id:8,name:"Streak Master",description:"Maintain a 30-day coding streak",icon:"",criteria:{currentStreak:30}},{id:9,name:"Bronze Competitor",description:"Reach Bronze rank in Ranked Matches",icon:"",criteria:{rank:"Bronze"}},{id:10,name:"Silver Competitor",description:"Reach Silver rank in Ranked Matches",icon:"",criteria:{rank:"Silver"}},{id:11,name:"Gold Competitor",description:"Reach Gold rank in Ranked Matches",icon:"",criteria:{rank:"Gold"}},{id:12,name:"Platinum Competitor",description:"Reach Platinum rank in Ranked Matches",icon:"",criteria:{rank:"Platinum"}},{id:13,name:"Diamond Competitor",description:"Reach Diamond rank in Ranked Matches",icon:"",criteria:{rank:"Diamond"}},{id:14,name:"First Victory",description:"Win your first ranked match",icon:"",criteria:{rankWins:1}},{id:15,name:"Victorious",description:"Win 10 ranked matches",icon:"",criteria:{rankWins:10}},{id:16,name:"Champion",description:"Win 50 ranked matches",icon:"",criteria:{rankWins:50}}],h9=()=>{const{currentUser:t}=Bn(),[e,n]=A.useState(!1),[r,s]=A.useState(!1),[i,a]=A.useState("New User"),[l,c]=A.useState(""),[d,h]=A.useState("boy1"),[f,p]=A.useState(!0),[x,b]=A.useState(null),[E,j]=A.useState(!1),[T,v]=A.useState({}),[g,S]=A.useState([1,2]),[D,C]=A.useState(0),[_,w]=A.useState(!1),[k,P]=A.useState(0),[L,R]=A.useState([]),[N,re]=A.useState(!1),[ee,H]=A.useState(null);A.useEffect(()=>{(async()=>{var X,Ie;if(t)try{p(!0),b(null);const{data:me,error:je}=await on(t.uid);if(je)b(je);else if(me){a(me.name||"New User"),c(me.coderName||""),h(me.selectedAvatar||"boy1"),v(me.stats||{}),C(((X=me.stats)==null?void 0:X.currentStreak)||0),P(((Ie=me.stats)==null?void 0:Ie.bestStreak)||0),R(me.achievements||[]),S(me.showcasedAchievements||[1,2]),console.log("Profile data loaded:",me),W(me);const be=G(me);be.length>0&&(await V(me,be),H(Mo.find(dt=>dt.id===be[0])),re(!0),setTimeout(()=>{re(!1)},5e3))}}catch(me){b(me.message||"Failed to load profile data"),console.error(me)}finally{p(!1)}else p(!1)})()},[t]);const G=B=>{if(!B||!B.stats)return[];const X=B.stats,Ie=B.achievements||[],me=[];return Mo.forEach(je=>{if(Ie.includes(je.id))return;let be=!0;for(const[dt,$e]of Object.entries(je.criteria))if(dt==="rank"){if(X.rank!==$e){be=!1;break}}else if(X[dt]<$e){be=!1;break}be&&me.push(je.id)}),me},V=async(B,X)=>{if(t)try{const me=[...B.achievements||[],...X];await us(t.uid,{achievements:me}),R(me),console.log("New achievements saved:",X)}catch(Ie){console.error("Failed to save achievements:",Ie)}},W=async B=>{var be,dt;if(!t||!B)return;const X=new Date;X.setHours(0,0,0,0);const Ie=B.lastLoginDate?new Date(B.lastLoginDate):null;let me=((be=B.stats)==null?void 0:be.currentStreak)||0,je=((dt=B.stats)==null?void 0:dt.bestStreak)||0;if(Ie){Ie.setHours(0,0,0,0);const $e=X.getTime()-Ie.getTime(),Xe=Math.floor($e/(1e3*60*60*24));if(Xe===1)me+=1;else if(Xe>1)me=1;else if(Xe===0)return}else me=1;me>je&&(je=me),C(me),P(je);try{await us(t.uid,{lastLoginDate:X.toISOString(),stats:{...B.stats,currentStreak:me,bestStreak:je}}),console.log(`Streak updated: ${me}`);const $e=Mo.filter(Xe=>Xe.criteria.currentStreak&&Xe.criteria.currentStreak<=me&&!L.includes(Xe.id));if($e.length>0){const Xe=$e.map($n=>$n.id);await V(B,Xe);const zn=$e.reduce(($n,qn)=>qn.criteria.currentStreak>$n.criteria.currentStreak?qn:$n);H(zn),re(!0),setTimeout(()=>{re(!1)},5e3)}}catch($e){console.error("Failed to update streak:",$e)}},Z=B=>{L.includes(B)&&(g.includes(B)?g.length>1&&S(g.filter(X=>X!==B)):g.length<3&&S([...g,B]),t&&us(t.uid,{showcasedAchievements:g.includes(B)?g.filter(X=>X!==B):[...g,B].slice(0,3)}).catch(X=>{console.error("Failed to save showcased achievements:",X)}))},ie=async()=>{if(t)try{b(null);const B=await us(t.uid,{name:i});B.error?b(B.error):(n(!1),j(!0),setTimeout(()=>j(!1),3e3))}catch(B){b(B.message||"Failed to update name"),console.error(B)}},le=async()=>{if(t)try{b(null);const B=await us(t.uid,{coderName:l});B.error?b(B.error):(s(!1),j(!0),setTimeout(()=>j(!1),3e3))}catch(B){b(B.message||"Failed to update coder name"),console.error(B)}},we=()=>{w(!0)},Re=async B=>{if(t)try{b(null);const X=await us(t.uid,{selectedAvatar:B});X.error?b(X.error):(h(B),w(!1),j(!0),setTimeout(()=>j(!1),3e3))}catch(X){b(X.message||"Failed to update avatar"),console.error(X)}},Me=B=>{switch(B){case"Diamond":return{icon:"",color:"text-blue-400 bg-blue-400 bg-opacity-20"};case"Platinum":return{icon:"",color:"text-cyan-300 bg-cyan-300 bg-opacity-20"};case"Gold":return{icon:"",color:"text-yellow-400 bg-yellow-400 bg-opacity-20"};case"Silver":return{icon:"",color:"text-gray-300 bg-gray-300 bg-opacity-20"};case"Bronze":return{icon:"",color:"text-amber-700 bg-amber-700 bg-opacity-20"};default:return{icon:"",color:"text-blue-400 bg-blue-400 bg-opacity-20"}}};return t?o.jsxs(wt,{children:[o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow py-16",children:o.jsxs("div",{className:"container-custom",children:[x&&o.jsxs("div",{className:"bg-red-500 bg-opacity-20 text-red-400 p-4 rounded-lg mb-8 flex items-center",children:[o.jsx(Ma,{size:20,className:"mr-2"}),o.jsx("span",{children:x}),o.jsx("button",{className:"ml-auto text-red-400 hover:text-red-300",onClick:()=>b(null),children:o.jsx(Rn,{size:20})})]}),E&&o.jsxs("div",{className:"bg-green-500 bg-opacity-20 text-green-400 p-4 rounded-lg mb-8 flex items-center",children:[o.jsx(ur,{size:20,className:"mr-2"}),o.jsx("span",{children:"Profile updated successfully!"}),o.jsx("button",{className:"ml-auto text-green-400 hover:text-green-300",onClick:()=>j(!1),children:o.jsx(Rn,{size:20})})]}),f?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--accent)]"})}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[o.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"card md:col-span-1 h-fit",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{onClick:we,className:"cursor-pointer",children:o.jsx(Da,{type:d,size:160,interval:8e3})}),o.jsx(M.button,{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 z-10 bg-[var(--accent)] px-3 py-1 rounded-full text-xs text-white cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:we,children:"Change Avatar"})]}),o.jsx("div",{className:"flex items-center mb-4 w-full justify-center",children:e?o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"text",value:i,onChange:B=>a(B.target.value),className:"bg-[var(--primary)] border border-[var(--accent)] rounded py-2 px-3 text-center focus:outline-none focus:ring-2 focus:ring-[var(--accent)]"}),o.jsx(M.button,{onClick:ie,className:"text-green-400 hover:text-green-300 p-1",whileHover:{scale:1.1},whileTap:{scale:.95},children:o.jsx(ur,{size:20})}),o.jsx(M.button,{onClick:()=>{n(!1),(async()=>{try{const{data:X}=await on(t.uid);X&&a(X.name||"New User")}catch(X){console.error("Failed to reset name:",X)}})()},className:"text-red-400 hover:text-red-300 p-1",whileHover:{scale:1.1},whileTap:{scale:.95},children:o.jsx(Rn,{size:20})})]}):o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:i}),o.jsx(M.button,{onClick:()=>n(!0),className:"ml-3 text-[var(--text-secondary)] hover:text-[var(--accent)]",whileHover:{scale:1.1},whileTap:{scale:.95},children:o.jsx(u_,{size:18})})]})}),o.jsx("div",{className:"flex items-center mb-8 w-full justify-center",children:r?o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"text",value:l,onChange:B=>c(B.target.value),placeholder:"Enter coder name",className:"bg-[var(--primary)] border border-[var(--accent)] rounded py-2 px-3 text-center focus:outline-none focus:ring-2 focus:ring-[var(--accent)]"}),o.jsx(M.button,{onClick:le,className:"text-green-400 hover:text-green-300 p-1",whileHover:{scale:1.1},whileTap:{scale:.95},children:o.jsx(ur,{size:20})}),o.jsx(M.button,{onClick:()=>{s(!1),(async()=>{try{const{data:X}=await on(t.uid);X&&c(X.coderName||"")}catch(X){console.error("Failed to reset coder name:",X)}})()},className:"text-red-400 hover:text-red-300 p-1",whileHover:{scale:1.1},whileTap:{scale:.95},children:o.jsx(Rn,{size:20})})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-[var(--text-secondary)] text-lg",children:l?`@${l}`:"No coder name set"}),o.jsx(M.button,{onClick:()=>s(!0),className:"ml-3 text-[var(--text-secondary)] hover:text-[var(--accent)]",whileHover:{scale:1.1},whileTap:{scale:.95},children:o.jsx(u_,{size:18})})]})}),T.rank&&o.jsxs("div",{className:`px-4 py-2 rounded-full mb-6 ${Me(T.rank).color}`,children:[T.rank," ",Me(T.rank).icon]}),o.jsxs("div",{className:"bg-[var(--primary)] px-4 py-2 rounded-full text-sm mb-8",children:["UID: ",(t==null?void 0:t.uid.substring(0,10))||"test123456","..."]}),o.jsxs("div",{className:"w-full",children:[o.jsxs("h3",{className:"font-semibold flex items-center gap-2 mb-6 text-lg",children:[o.jsx(Ni,{size:20,className:"text-[var(--accent)]"}),"Showcased Achievements"]}),o.jsx("div",{className:"space-y-6",children:Mo.filter(B=>g.includes(B.id)).map(B=>{const X=L.includes(B.id);return o.jsxs(M.div,{className:`flex items-center p-4 rounded-xl transition-all ${X?"bg-[var(--accent)] bg-opacity-15 border border-[var(--accent)] shadow-lg":"bg-[var(--primary)] opacity-50"}`,whileHover:{scale:X?1.02:1},children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--secondary)] flex items-center justify-center mr-4 text-xl",children:o.jsx("span",{children:B.icon})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-base",children:B.name}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:B.description})]})]},B.id)})}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-6",children:"Go to your stats page to manage your showcased achievements"})]})]})}),o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"md:col-span-2 space-y-10",children:[o.jsxs(M.div,{className:"card bg-gradient-to-r from-[var(--secondary)] to-[#2a3a80]",whileHover:{scale:1.01},transition:{duration:.3},children:[o.jsxs("h1",{className:"text-3xl font-bold mb-6",children:["Welcome back, ",i.split(" ")[0],"!"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8",children:[o.jsxs(M.div,{className:"bg-[var(--primary)] rounded-xl p-6 text-center relative overflow-hidden",whileHover:{scale:1.05},transition:{duration:.3},children:[o.jsx("div",{className:"absolute -top-4 -right-4 w-20 h-20 bg-[var(--accent)] opacity-10 rounded-full"}),o.jsx(_r,{className:"mx-auto mb-4 text-[var(--accent)]",size:28}),o.jsx("p",{className:"text-4xl font-bold text-[var(--accent)]",children:T.problemsSolved||0}),o.jsx("p",{className:"text-base text-[var(--text-secondary)]",children:"Problems Solved"})]}),o.jsxs(M.div,{className:"bg-[var(--primary)] rounded-xl p-6 text-center relative overflow-hidden",whileHover:{scale:1.05},transition:{duration:.3},children:[o.jsx("div",{className:"absolute -top-4 -right-4 w-20 h-20 bg-orange-500 opacity-10 rounded-full"}),o.jsx(pu,{className:"mx-auto mb-4 text-orange-500",size:28}),o.jsx("p",{className:"text-4xl font-bold text-orange-500",children:D}),o.jsx("p",{className:"text-base text-[var(--text-secondary)]",children:"Day Streak"}),o.jsxs("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:["Best: ",k]})]}),o.jsxs(M.div,{className:"bg-[var(--primary)] rounded-xl p-6 text-center relative overflow-hidden",whileHover:{scale:1.05},transition:{duration:.3},children:[o.jsx("div",{className:"absolute -top-4 -right-4 w-20 h-20 bg-indigo-500 opacity-10 rounded-full"}),T.rank?o.jsxs(o.Fragment,{children:[o.jsx(Ms,{className:"mx-auto mb-4 text-indigo-400",size:28}),o.jsxs("div",{className:"text-3xl font-bold text-indigo-400 flex items-center justify-center",children:[T.rank,o.jsx("span",{className:"ml-2",children:Me(T.rank).icon})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ms,{className:"mx-auto mb-4 text-indigo-400",size:28}),o.jsx("p",{className:"text-3xl font-bold text-indigo-400",children:"Unranked"})]}),o.jsx("p",{className:"text-base text-[var(--text-secondary)]",children:"Current Rank"})]})]})]}),o.jsxs(M.div,{className:"card",whileHover:{scale:1.01},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(Ql,{className:"text-[var(--accent)] mr-3",size:24}),o.jsx("h2",{className:"text-2xl font-bold",children:"Your Coding Streak"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg text-[var(--text-secondary)]",children:"Current Streak:"}),o.jsxs("span",{className:"text-3xl font-bold text-orange-500 flex items-center",children:[D," ",o.jsx(pu,{className:"ml-2",size:24})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg text-[var(--text-secondary)]",children:"Best Streak:"}),o.jsx("span",{className:"text-3xl font-bold text-[var(--accent)]",children:k})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-5 rounded-lg mt-2",children:[o.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:[o.jsx("span",{className:"text-orange-500 font-medium",children:"Keep it up!"})," Log in every day to maintain your streak. If you miss a day, your streak will reset to zero."]}),o.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Next Milestone: 7 days"}),o.jsxs("span",{className:"text-[var(--text-secondary)]",children:[D,"/7"]})]}),o.jsx("div",{className:"w-full bg-gray-800 h-2 rounded-full mt-1",children:o.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${Math.min(100,D/7*100)}%`}})})]})]}),o.jsxs("div",{className:"flex flex-col justify-center",children:[o.jsx("div",{className:"grid grid-cols-7 gap-2 mb-3",children:[...Array(7)].map((B,X)=>{const Ie=X<D%7;return o.jsx("div",{className:`h-12 rounded-md ${Ie?"bg-gradient-to-br from-orange-500 to-yellow-500":"bg-[var(--primary)] border border-gray-700"} flex items-center justify-center`,children:Ie&&o.jsx(pu,{size:20,className:"text-white"})},X)})}),o.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-secondary)]",children:[o.jsx("span",{children:"Today"}),o.jsx("span",{children:"Week milestone"})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg mt-4",children:[o.jsxs("h3",{className:"font-medium flex items-center mb-2",children:[o.jsx(oN,{className:"text-yellow-400 mr-2",size:16}),"Streak Rewards"]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"3 days:"}),o.jsx("span",{className:"text-yellow-400",children:"+25 XP, Streak Starter Badge"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"7 days:"}),o.jsx("span",{className:"text-yellow-400",children:"+100 XP, Streak Warrior Badge"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"30 days:"}),o.jsx("span",{className:"text-yellow-400",children:"+500 XP, Streak Master Badge"})]})]})]})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center",children:[o.jsx(Ja,{className:"text-[var(--accent)] mr-2",size:24}),"Stats Overview"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-6",children:[o.jsxs("div",{className:"bg-[var(--primary)] p-6 rounded-lg",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[o.jsx(Ms,{className:"text-[var(--accent)] mr-2",size:18}),"Overall Stats"]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Problems Solved:"}),o.jsx("span",{className:"font-medium text-lg",children:T.problemsSolved||0})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Current Streak:"}),o.jsxs("span",{className:"font-medium text-lg flex items-center",children:[D," ",o.jsx(pu,{className:"ml-1 text-orange-500",size:16})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Best Streak:"}),o.jsxs("span",{className:"font-medium text-lg",children:[k," days"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Total Points:"}),o.jsx("span",{className:"font-medium text-lg",children:T.totalPoints||0})]})]})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-6 rounded-lg",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[o.jsx(Ln,{className:"text-[var(--accent)] mr-2",size:18}),"Ranked Match Stats"]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Rank Points:"}),o.jsx("span",{className:"font-medium text-lg",children:T.totalRankPoints||0})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Matches Won:"}),o.jsx("span",{className:"font-medium text-lg",children:T.rankWins||0})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Total Matches:"}),o.jsx("span",{className:"font-medium text-lg",children:T.rankMatches||0})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Win Rate:"}),o.jsx("span",{className:"font-medium text-lg",children:T.rankMatches>0?`${Math.round(T.rankWins/T.rankMatches*100)}%`:"N/A"})]})]})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsxs(Pe,{to:"/stats",className:"btn-secondary inline-flex items-center",children:[o.jsx(Ja,{size:18,className:"mr-2"}),"View Detailed Stats"]})})]}),o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center",children:[o.jsx(Ni,{className:"text-[var(--accent)] mr-2",size:24}),"Your Achievements"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:Mo.slice(0,6).map(B=>{const X=L.includes(B.id),Ie=g.includes(B.id);return o.jsx(M.div,{className:`p-4 rounded-lg cursor-pointer ${X?Ie?"bg-[var(--accent)] bg-opacity-15 border border-[var(--accent)]":"bg-[var(--primary)]":"bg-[var(--primary)] opacity-50"}`,whileHover:{scale:X?1.03:1},onClick:()=>X&&Z(B.id),children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"mr-3",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--secondary)] flex items-center justify-center text-xl",children:B.icon})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-sm mb-1",children:B.name}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:B.description}),X?o.jsxs("div",{className:"mt-2 text-xs text-green-400 flex items-center",children:[o.jsx(ur,{size:12,className:"mr-1"}),"Earned",Ie&&o.jsx("span",{className:"ml-2 bg-[var(--accent)] bg-opacity-20 px-1 py-0.5 rounded text-[var(--accent)]",children:"Showcased"})]}):o.jsx("div",{className:"mt-2 text-xs text-[var(--text-secondary)]",children:"Not yet earned"})]})]})},B.id)})}),o.jsx("div",{className:"flex justify-center",children:o.jsxs(Pe,{to:"/stats",className:"btn-secondary inline-flex items-center",children:[o.jsx(Ni,{size:18,className:"mr-2"}),"View All Achievements"]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[o.jsxs(M.button,{onClick:()=>window.location.href="/code",className:"bg-[var(--primary)] hover:bg-opacity-90 rounded-xl p-6 text-left transition-all flex flex-col h-full",whileHover:{scale:1.03,y:-5},whileTap:{scale:.98},children:[o.jsx(_r,{className:"text-[var(--accent)] mb-4",size:32}),o.jsx("h3",{className:"font-semibold text-xl mb-3",children:"Practice Coding"}),o.jsx("p",{className:"text-base text-[var(--text-secondary)]",children:"Start solving challenges from our library"})]}),o.jsxs(M.button,{onClick:()=>window.location.href="/question-of-the-day",className:"bg-[var(--primary)] hover:bg-opacity-90 rounded-xl p-6 text-left transition-all flex flex-col h-full",whileHover:{scale:1.03,y:-5},whileTap:{scale:.98},children:[o.jsx(Ql,{className:"text-[var(--accent)] mb-4",size:32}),o.jsx("h3",{className:"font-semibold text-xl mb-3",children:"Question of the Day"}),o.jsx("p",{className:"text-base text-[var(--text-secondary)]",children:"Solve today's featured challenge"})]}),o.jsxs(M.button,{onClick:()=>window.location.href="/ranked-match",className:"bg-[var(--primary)] hover:bg-opacity-90 rounded-xl p-6 text-left transition-all flex flex-col h-full",whileHover:{scale:1.03,y:-5},whileTap:{scale:.98},children:[o.jsx(Ln,{className:"text-[var(--accent)] mb-4",size:32}),o.jsx("h3",{className:"font-semibold text-xl mb-3",children:"Ranked Match"}),o.jsx("p",{className:"text-base text-[var(--text-secondary)]",children:"Compete in 1v1 coding battles"})]}),o.jsxs(M.button,{onClick:()=>window.location.href="/study",className:"bg-[var(--primary)] hover:bg-opacity-90 rounded-xl p-6 text-left transition-all flex flex-col h-full",whileHover:{scale:1.03,y:-5},whileTap:{scale:.98},children:[o.jsx($s,{className:"text-[var(--accent)] mb-4",size:32}),o.jsx("h3",{className:"font-semibold text-xl mb-3",children:"Study Materials"}),o.jsx("p",{className:"text-base text-[var(--text-secondary)]",children:"Learn algorithms and data structures"})]})]})]})]})]})]})}),o.jsx(en,{})]}),o.jsx(an,{children:_&&o.jsx(M.div,{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(M.div,{className:"bg-[var(--secondary)] rounded-xl p-6 max-w-xl w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold",children:"Choose Your Avatar"}),o.jsx("button",{onClick:()=>w(!1),className:"text-[var(--text-secondary)] hover:text-white",children:o.jsx(Rn,{size:24})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-6 mb-6",children:d9.map(B=>o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(Da,{type:B.id,selected:d===B.id,onClick:()=>Re(B.id),interval:Math.random()*5e3+5e3}),o.jsx("p",{className:"mt-2 font-medium",children:B.name})]},B.id))}),o.jsxs("div",{className:"flex justify-end",children:[o.jsx("button",{onClick:()=>w(!1),className:"btn-secondary mr-3",children:"Cancel"}),o.jsx("button",{onClick:()=>w(!1),className:"btn-primary",children:"Select"})]})]})})}),o.jsx(an,{children:N&&ee&&o.jsx(M.div,{className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50",initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},transition:{type:"spring",damping:15,stiffness:300},children:o.jsxs(M.div,{className:"bg-gradient-to-r from-[var(--secondary)] to-[var(--accent)] p-6 rounded-xl shadow-xl flex items-center gap-5 relative overflow-hidden",animate:{boxShadow:["0 0 0px rgba(244, 91, 105, 0.3)","0 0 30px rgba(244, 91, 105, 0.6)","0 0 0px rgba(244, 91, 105, 0.3)"]},transition:{duration:2,repeat:3},children:[o.jsx(M.div,{className:"absolute inset-0 pointer-events-none",children:[...Array(20)].map((B,X)=>o.jsx(M.div,{className:"absolute w-2 h-2 rounded-full bg-white",initial:{x:Math.random()*100+"%",y:Math.random()*100+"%",opacity:0},animate:{x:[null,Math.random()*100+"%"],y:[null,Math.random()*100+"%"],opacity:[0,.7,0]},transition:{duration:2+Math.random()*3,repeat:1/0,repeatType:"loop"}},X))}),o.jsx(M.div,{className:"w-16 h-16 bg-[var(--secondary)] rounded-full flex items-center justify-center text-4xl shrink-0",animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1.5,repeat:2},children:ee.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx(M.h3,{className:"text-xl font-bold",animate:{scale:[1,1.1,1]},transition:{duration:.8,repeat:3},children:"Achievement Unlocked!"}),o.jsx("p",{className:"text-lg font-medium",children:ee.name}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:ee.description})]})]})})})]}):o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow py-16",children:o.jsx("div",{className:"container-custom",children:o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Please Log In"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"You need to be logged in to view your profile"}),o.jsx("a",{href:"/login",className:"btn-primary inline-block",children:"Log In"})]})})}),o.jsx(en,{})]})})},$t=[{id:1,title:"Two Sum",difficulty:"Easy",description:`Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.

You may assume that each input would have exactly one solution, and you may not use the same element twice.

You can return the answer in any order.`,examples:[{input:"nums = [2,7,11,15], target = 9",output:"[0,1]",explanation:"Because nums[0] + nums[1] == 9, we return [0, 1]."},{input:"nums = [3,2,4], target = 6",output:"[1,2]",explanation:"Because nums[1] + nums[2] == 6, we return [1, 2]."},{input:"nums = [3,3], target = 6",output:"[0,1]"}],testCases:[{input:`2,7,11,15
9`,expectedOutput:"0,1",isHidden:!1},{input:`3,2,4
6`,expectedOutput:"1,2",isHidden:!1},{input:`1,5,9,2
11`,expectedOutput:"0,2",isHidden:!0},{input:`5,8,3,0,7
10`,expectedOutput:"1,3",isHidden:!0}],constraints:["2 <= nums.length <= 10^4","-10^9 <= nums[i] <= 10^9","-10^9 <= target <= 10^9","Only one valid answer exists."],tags:["Array","Hash Table"]},{id:2,title:"Valid Parentheses",difficulty:"Easy",description:`Given a string s containing just the characters '(', ')', '{', '}', '[' and ']', determine if the input string is valid.

An input string is valid if:
1. Open brackets must be closed by the same type of brackets.
2. Open brackets must be closed in the correct order.
3. Every close bracket has a corresponding open bracket of the same type.`,examples:[{input:'s = "()"',output:"true"},{input:'s = "()[]{}"',output:"true"},{input:'s = "(]"',output:"false"},{input:'s = "([)]"',output:"false"},{input:'s = "{[]}"',output:"true"}],testCases:[{input:"()",expectedOutput:"true",isHidden:!1},{input:"()[]{}",expectedOutput:"true",isHidden:!1},{input:"({[]})",expectedOutput:"true",isHidden:!0},{input:"({)}",expectedOutput:"false",isHidden:!0}],constraints:["1 <= s.length <= 10^4","s consists of parentheses only '()[]{}'."],tags:["Stack","String"]},{id:3,title:"Merge Two Sorted Lists",difficulty:"Easy",description:`You are given the heads of two sorted linked lists list1 and list2.

Merge the two lists into one sorted list. The list should be made by splicing together the nodes of the first two lists.

Return the head of the merged linked list.`,examples:[{input:"list1 = [1,2,4], list2 = [1,3,4]",output:"[1,1,2,3,4,4]"},{input:"list1 = [], list2 = []",output:"[]"},{input:"list1 = [], list2 = [0]",output:"[0]"}],testCases:[{input:`1,2,4
1,3,4`,expectedOutput:"1,1,2,3,4,4",isHidden:!1},{input:`
`,expectedOutput:"",isHidden:!1},{input:`1,3,5,7
2,4,6`,expectedOutput:"1,2,3,4,5,6,7",isHidden:!0},{input:`
0`,expectedOutput:"0",isHidden:!0}],constraints:["The number of nodes in both lists is in the range [0, 50].","-100 <= Node.val <= 100","Both list1 and list2 are sorted in non-decreasing order."],tags:["Linked List","Recursion"]},{id:4,title:"Add Two Numbers",difficulty:"Medium",description:`You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list.

You may assume the two numbers do not contain any leading zero, except the number 0 itself.`,examples:[{input:"l1 = [2,4,3], l2 = [5,6,4]",output:"[7,0,8]",explanation:"342 + 465 = 807."},{input:"l1 = [0], l2 = [0]",output:"[0]"},{input:"l1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]",output:"[8,9,9,9,0,0,0,1]"}],testCases:[{input:`2,4,3
5,6,4`,expectedOutput:"7,0,8",isHidden:!1},{input:`0
0`,expectedOutput:"0",isHidden:!1},{input:`9,9,9
1`,expectedOutput:"0,0,0,1",isHidden:!0},{input:`1,8
0`,expectedOutput:"1,8",isHidden:!0}],constraints:["The number of nodes in each linked list is in the range [1, 100].","0 <= Node.val <= 9","It is guaranteed that the list represents a number that does not have leading zeros."],tags:["Linked List","Math"]},{id:5,title:"Longest Substring Without Repeating Characters",difficulty:"Medium",description:"Given a string s, find the length of the longest substring without repeating characters.",examples:[{input:'s = "abcabcbb"',output:"3",explanation:'The answer is "abc", with the length of 3.'},{input:'s = "bbbbb"',output:"1",explanation:'The answer is "b", with the length of 1.'},{input:'s = "pwwkew"',output:"3",explanation:'The answer is "wke", with the length of 3. Notice that the answer must be a substring, "pwke" is a subsequence and not a substring.'}],testCases:[{input:"abcabcbb",expectedOutput:"3",isHidden:!1},{input:"bbbbb",expectedOutput:"1",isHidden:!1},{input:"aab",expectedOutput:"2",isHidden:!0},{input:"dvdf",expectedOutput:"3",isHidden:!0}],constraints:["0 <= s.length <= 5 * 10^4","s consists of English letters, digits, symbols and spaces."],tags:["String","Sliding Window","Hash Table"]},{id:6,title:"Container With Most Water",difficulty:"Medium",description:`You are given an integer array height of length n. There are n vertical lines drawn such that the two endpoints of the ith line are (i, 0) and (i, height[i]).

Find two lines that together with the x-axis form a container, such that the container contains the most water.

Return the maximum amount of water a container can store.`,examples:[{input:"height = [1,8,6,2,5,4,8,3,7]",output:"49",explanation:"The maximum area is obtained by choosing the second and last line, with a height of min(8, 7) = 7 and a width of 8 - 1 = 7, resulting in an area of 7 * 7 = 49."},{input:"height = [1,1]",output:"1"}],constraints:["n == height.length","2 <= n <= 10^5","0 <= height[i] <= 10^4"],tags:["Array","Two Pointers","Greedy"]},{id:7,title:"Merge k Sorted Lists",difficulty:"Hard",description:`You are given an array of k linked-lists lists, each linked-list is sorted in ascending order.

Merge all the linked-lists into one sorted linked-list and return it.`,examples:[{input:"lists = [[1,4,5],[1,3,4],[2,6]]",output:"[1,1,2,3,4,4,5,6]",explanation:`The linked-lists are:
[
  1->4->5,
  1->3->4,
  2->6
]
merging them into one sorted list:
1->1->2->3->4->4->5->6`},{input:"lists = []",output:"[]"},{input:"lists = [[]]",output:"[]"}],constraints:["k == lists.length","0 <= k <= 10^4","0 <= lists[i].length <= 500","-10^4 <= lists[i][j] <= 10^4","lists[i] is sorted in ascending order.","The sum of lists[i].length won't exceed 10^4."],tags:["Linked List","Divide and Conquer","Heap","Merge Sort"]},{id:8,title:"Trapping Rain Water",difficulty:"Hard",description:"Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.",examples:[{input:"height = [0,1,0,2,1,0,1,3,2,1,2,1]",output:"6",explanation:"The elevation map is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water are being trapped."},{input:"height = [4,2,0,3,2,5]",output:"9"}],constraints:["n == height.length","1 <= n <= 2 * 10^4","0 <= height[i] <= 10^5"],tags:["Array","Two Pointers","Dynamic Programming","Stack"]},{id:9,title:"Median of Two Sorted Arrays",difficulty:"Hard",description:`Given two sorted arrays nums1 and nums2 of size m and n respectively, return the median of the two sorted arrays.

The overall run time complexity should be O(log (m+n)).`,examples:[{input:"nums1 = [1,3], nums2 = [2]",output:"2.00000",explanation:"merged array = [1,2,3] and median is 2."},{input:"nums1 = [1,2], nums2 = [3,4]",output:"2.50000",explanation:"merged array = [1,2,3,4] and median is (2 + 3) / 2 = 2.5."}],constraints:["nums1.length == m","nums2.length == n","0 <= m <= 1000","0 <= n <= 1000","1 <= m + n <= 2000","-10^6 <= nums1[i], nums2[i] <= 10^6"],tags:["Array","Binary Search","Divide and Conquer"]},{id:10,title:"Regular Expression Matching",difficulty:"Hard",description:`Given an input string s and a pattern p, implement regular expression matching with support for '.' and '*' where:

- '.' Matches any single character.
- '*' Matches zero or more of the preceding element.

The matching should cover the entire input string (not partial).`,examples:[{input:'s = "aa", p = "a"',output:"false",explanation:'"a" does not match the entire string "aa".'},{input:'s = "aa", p = "a*"',output:"true",explanation:`"a*" means zero or more of the preceding element, 'a'. Therefore, by repeating 'a' once, it becomes "aa".`},{input:'s = "ab", p = ".*"',output:"true",explanation:'".*" means zero or more of any character.'}],constraints:["1 <= s.length <= 20","1 <= p.length <= 30","s contains only lowercase English letters.","p contains only lowercase English letters, '.', and '*'.","It is guaranteed for each appearance of the character '*', there will be a previous valid character to match."],tags:["String","Dynamic Programming","Recursion"]},{id:11,title:"Maximum Subarray",difficulty:"Easy",description:`Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum.

A subarray is a contiguous part of an array.`,examples:[{input:"nums = [-2,1,-3,4,-1,2,1,-5,4]",output:"6",explanation:"[4,-1,2,1] has the largest sum = 6."},{input:"nums = [1]",output:"1"},{input:"nums = [5,4,-1,7,8]",output:"23"}],constraints:["1 <= nums.length <= 10^5","-10^4 <= nums[i] <= 10^4"],tags:["Array","Divide and Conquer","Dynamic Programming"]},{id:12,title:"Climbing Stairs",difficulty:"Easy",description:`You are climbing a staircase. It takes n steps to reach the top.

Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?`,examples:[{input:"n = 2",output:"2",explanation:`There are two ways to climb to the top.
1. 1 step + 1 step
2. 2 steps`},{input:"n = 3",output:"3",explanation:`There are three ways to climb to the top.
1. 1 step + 1 step + 1 step
2. 1 step + 2 steps
3. 2 steps + 1 step`}],constraints:["1 <= n <= 45"],tags:["Math","Dynamic Programming","Memoization"]},{id:13,title:"3Sum",difficulty:"Medium",description:`Given an integer array nums, return all the triplets [nums[i], nums[j], nums[k]] such that i != j, i != k, and j != k, and nums[i] + nums[j] + nums[k] == 0.

Notice that the solution set must not contain duplicate triplets.`,examples:[{input:"nums = [-1,0,1,2,-1,-4]",output:"[[-1,-1,2],[-1,0,1]]"},{input:"nums = []",output:"[]"},{input:"nums = [0]",output:"[]"}],constraints:["0 <= nums.length <= 3000","-10^5 <= nums[i] <= 10^5"],tags:["Array","Two Pointers","Sorting"]},{id:14,title:"Binary Tree Level Order Traversal",difficulty:"Medium",description:"Given the root of a binary tree, return the level order traversal of its nodes' values. (i.e., from left to right, level by level).",examples:[{input:"root = [3,9,20,null,null,15,7]",output:"[[3],[9,20],[15,7]]"},{input:"root = [1]",output:"[[1]]"},{input:"root = []",output:"[]"}],constraints:["The number of nodes in the tree is in the range [0, 2000].","-1000 <= Node.val <= 1000"],tags:["Tree","Breadth-First Search","Binary Tree"]},{id:15,title:"Word Search",difficulty:"Medium",description:`Given an m x n grid of characters board and a string word, return true if word exists in the grid.

The word can be constructed from letters of sequentially adjacent cells, where adjacent cells are horizontally or vertically neighboring. The same letter cell may not be used more than once.`,examples:[{input:"board = [['A','B','C','E'],['S','F','C','S'],['A','D','E','E']], word = 'ABCCED'",output:"true"},{input:"board = [['A','B','C','E'],['S','F','C','S'],['A','D','E','E']], word = 'SEE'",output:"true"},{input:"board = [['A','B','C','E'],['S','F','C','S'],['A','D','E','E']], word = 'ABCB'",output:"false"}],constraints:["m == board.length","n = board[i].length","1 <= m, n <= 6","1 <= word.length <= 15","board and word consists of only lowercase and uppercase English letters."],tags:["Array","Backtracking","Matrix"]},{id:16,title:"Word Ladder",difficulty:"Hard",description:`A transformation sequence from word beginWord to word endWord using a dictionary wordList is a sequence of words beginWord -> s1 -> s2 -> ... -> sk such that:

- Every adjacent pair of words differs by a single letter.
- Every si for 1 <= i <= k is in wordList. Note that beginWord does not need to be in wordList.
- sk == endWord

Given two words, beginWord and endWord, and a dictionary wordList, return the number of words in the shortest transformation sequence from beginWord to endWord, or 0 if no such sequence exists.`,examples:[{input:'beginWord = "hit", endWord = "cog", wordList = ["hot","dot","dog","lot","log","cog"]',output:"5",explanation:'One shortest transformation sequence is "hit" -> "hot" -> "dot" -> "dog" -> "cog", which is 5 words long.'},{input:'beginWord = "hit", endWord = "cog", wordList = ["hot","dot","dog","lot","log"]',output:"0",explanation:'The endWord "cog" is not in wordList, therefore there is no valid transformation sequence.'}],constraints:["1 <= beginWord.length <= 10","endWord.length == beginWord.length","1 <= wordList.length <= 5000","wordList[i].length == beginWord.length","beginWord, endWord, and wordList[i] consist of lowercase English letters.","beginWord != endWord","All the words in wordList are unique."],tags:["Breadth-First Search","Hash Table","String"]},{id:17,title:"Serialize and Deserialize Binary Tree",difficulty:"Hard",description:`Serialization is the process of converting a data structure or object into a sequence of bits so that it can be stored in a file or memory buffer, or transmitted across a network connection link to be reconstructed later in the same or another computer environment.

Design an algorithm to serialize and deserialize a binary tree. There is no restriction on how your serialization/deserialization algorithm should work. You just need to ensure that a binary tree can be serialized to a string and this string can be deserialized to the original tree structure.`,examples:[{input:"root = [1,2,3,null,null,4,5]",output:"[1,2,3,null,null,4,5]",explanation:"The serialized format follows level order traversal, where 'null' signifies a path terminator where no node exists below."}],constraints:["The number of nodes in the tree is in the range [0, 10^4].","-1000 <= Node.val <= 1000"],tags:["Tree","Depth-First Search","Breadth-First Search","Design","String","Binary Tree"]},{id:18,title:"LRU Cache",difficulty:"Medium",description:`Design a data structure that follows the constraints of a Least Recently Used (LRU) cache.

Implement the LRUCache class:

- LRUCache(int capacity) Initialize the LRU cache with positive size capacity.
- int get(int key) Return the value of the key if the key exists, otherwise return -1.
- void put(int key, int value) Update the value of the key if the key exists. Otherwise, add the key-value pair to the cache. If the number of keys exceeds the capacity from this operation, evict the least recently used key.`,examples:[{input:`Input
["LRUCache", "put", "put", "get", "put", "get", "put", "get", "get", "get"]
[[2], [1, 1], [2, 2], [1], [3, 3], [2], [4, 4], [1], [3], [4]]`,output:`Output
[null, null, null, 1, null, -1, null, -1, 3, 4]`,explanation:`LRUCache lRUCache = new LRUCache(2);
lRUCache.put(1, 1); // cache is {1=1}
lRUCache.put(2, 2); // cache is {1=1, 2=2}
lRUCache.get(1);    // return 1
lRUCache.put(3, 3); // LRU key was 2, evicts key 2, cache is {1=1, 3=3}
lRUCache.get(2);    // returns -1 (not found)
lRUCache.put(4, 4); // LRU key was 1, evicts key 1, cache is {4=4, 3=3}
lRUCache.get(1);    // return -1 (not found)
lRUCache.get(3);    // return 3
lRUCache.get(4);    // return 4`}],constraints:["1 <= capacity <= 3000","0 <= key <= 10^4","0 <= value <= 10^5","At most 2 * 10^5 calls will be made to get and put."],tags:["Hash Table","Linked List","Design","Doubly-Linked List"]},{id:19,title:"Reverse Linked List",difficulty:"Easy",description:"Given the head of a singly linked list, reverse the list, and return the reversed list.",examples:[{input:"head = [1,2,3,4,5]",output:"[5,4,3,2,1]"},{input:"head = [1,2]",output:"[2,1]"},{input:"head = []",output:"[]"}],constraints:["The number of nodes in the list is the range [0, 5000].","-5000 <= Node.val <= 5000"],tags:["Linked List","Recursion"]},{id:20,title:"Best Time to Buy and Sell Stock",difficulty:"Easy",description:`You are given an array prices where prices[i] is the price of a given stock on the ith day.

You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock.

Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0.`,examples:[{input:"prices = [7,1,5,3,6,4]",output:"5",explanation:"Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5. Note that buying on day 2 and selling on day 1 is not allowed because you must buy before you sell."},{input:"prices = [7,6,4,3,1]",output:"0",explanation:"In this case, no transactions are done and the max profit = 0."}],constraints:["1 <= prices.length <= 10^5","0 <= prices[i] <= 10^4"],tags:["Array","Dynamic Programming"]},{id:21,title:"Rotate Image",difficulty:"Medium",description:`You are given an n x n 2D matrix representing an image, rotate the image by 90 degrees (clockwise).

You have to rotate the image in-place, which means you have to modify the input 2D matrix directly. DO NOT allocate another 2D matrix and do the rotation.`,examples:[{input:"matrix = [[1,2,3],[4,5,6],[7,8,9]]",output:"[[7,4,1],[8,5,2],[9,6,3]]"},{input:"matrix = [[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]",output:"[[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]"}],constraints:["n == matrix.length == matrix[i].length","1 <= n <= 20","-1000 <= matrix[i][j] <= 1000"],tags:["Array","Math","Matrix"]},{id:22,title:"Group Anagrams",difficulty:"Medium",description:`Given an array of strings strs, group the anagrams together. You can return the answer in any order.

An Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.`,examples:[{input:'strs = ["eat","tea","tan","ate","nat","bat"]',output:'[["bat"],["nat","tan"],["ate","eat","tea"]]'},{input:'strs = [""]',output:'[[""]]'},{input:'strs = ["a"]',output:'[["a"]]'}],constraints:["1 <= strs.length <= 10^4","0 <= strs[i].length <= 100","strs[i] consists of lowercase English letters."],tags:["Array","Hash Table","String","Sorting"]},{id:23,title:"Jump Game",difficulty:"Medium",description:`You are given an integer array nums. You are initially positioned at the array's first index, and each element in the array represents your maximum jump length at that position.

Return true if you can reach the last index, or false otherwise.`,examples:[{input:"nums = [2,3,1,1,4]",output:"true",explanation:"Jump 1 step from index 0 to 1, then 3 steps to the last index."},{input:"nums = [3,2,1,0,4]",output:"false",explanation:"You will always arrive at index 3 no matter what. Its maximum jump length is 0, which makes it impossible to reach the last index."}],constraints:["1 <= nums.length <= 10^4","0 <= nums[i] <= 10^5"],tags:["Array","Dynamic Programming","Greedy"]},{id:24,title:"Find First and Last Position of Element in Sorted Array",difficulty:"Medium",description:`Given an array of integers nums sorted in non-decreasing order, find the starting and ending position of a given target value.

If target is not found in the array, return [-1, -1].

You must write an algorithm with O(log n) runtime complexity.`,examples:[{input:"nums = [5,7,7,8,8,10], target = 8",output:"[3,4]"},{input:"nums = [5,7,7,8,8,10], target = 6",output:"[-1,-1]"},{input:"nums = [], target = 0",output:"[-1,-1]"}],constraints:["0 <= nums.length <= 10^5","-10^9 <= nums[i] <= 10^9","nums is a non-decreasing array.","-10^9 <= target <= 10^9"],tags:["Array","Binary Search"]},{id:25,title:"Unique Paths",difficulty:"Medium",description:`A robot is located at the top-left corner of a m x n grid (marked 'Start' in the diagram below).

The robot can only move either down or right at any point in time. The robot is trying to reach the bottom-right corner of the grid (marked 'Finish' in the diagram below).

How many possible unique paths are there?`,examples:[{input:"m = 3, n = 7",output:"28"},{input:"m = 3, n = 2",output:"3",explanation:`From the top-left corner, there are a total of 3 ways to reach the bottom-right corner:
1. Right -> Down -> Down
2. Down -> Right -> Down
3. Down -> Down -> Right`}],constraints:["1 <= m, n <= 100","It's guaranteed that the answer will be less than or equal to 2 * 10^9."],tags:["Math","Dynamic Programming","Combinatorics"]},{id:26,title:"Permutations",difficulty:"Medium",description:"Given an array nums of distinct integers, return all the possible permutations. You can return the answer in any order.",examples:[{input:"nums = [1,2,3]",output:"[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]"},{input:"nums = [0,1]",output:"[[0,1],[1,0]]"},{input:"nums = [1]",output:"[[1]]"}],constraints:["1 <= nums.length <= 6","-10 <= nums[i] <= 10","All the integers of nums are unique."],tags:["Array","Backtracking"]},{id:27,title:"Minimum Path Sum",difficulty:"Medium",description:`Given a m x n grid filled with non-negative numbers, find a path from top left to bottom right, which minimizes the sum of all numbers along its path.

Note: You can only move either down or right at any point in time.`,examples:[{input:"grid = [[1,3,1],[1,5,1],[4,2,1]]",output:"7",explanation:"Because the path 1  3  1  1  1 minimizes the sum."},{input:"grid = [[1,2,3],[4,5,6]]",output:"12"}],constraints:["m == grid.length","n == grid[i].length","1 <= m, n <= 200","0 <= grid[i][j] <= 100"],tags:["Array","Dynamic Programming","Matrix"]},{id:28,title:"Palindrome Partitioning",difficulty:"Medium",description:"Given a string s, partition s such that every substring of the partition is a palindrome. Return all possible palindrome partitioning of s.",examples:[{input:'s = "aab"',output:'[["a","a","b"],["aa","b"]]'},{input:'s = "a"',output:'[["a"]]'}],constraints:["1 <= s.length <= 16","s contains only lowercase English letters."],tags:["String","Dynamic Programming","Backtracking"]},{id:29,title:"Merge Intervals",difficulty:"Medium",description:"Given an array of intervals where intervals[i] = [starti, endi], merge all overlapping intervals, and return an array of the non-overlapping intervals that cover all the intervals in the input.",examples:[{input:"intervals = [[1,3],[2,6],[8,10],[15,18]]",output:"[[1,6],[8,10],[15,18]]",explanation:"Since intervals [1,3] and [2,6] overlap, merge them into [1,6]."},{input:"intervals = [[1,4],[4,5]]",output:"[[1,5]]",explanation:"Intervals [1,4] and [4,5] are considered overlapping."}],constraints:["1 <= intervals.length <= 10^4","intervals[i].length == 2","0 <= starti <= endi <= 10^4"],tags:["Array","Sorting"]},{id:30,title:"N-Queens",difficulty:"Hard",description:`The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.

Given an integer n, return all distinct solutions to the n-queens puzzle. You may return the answer in any order.

Each solution contains a distinct board configuration of the n-queens placement, where 'Q' and '.' both indicate a queen and an empty space, respectively.`,examples:[{input:"n = 4",output:'[[".","Q",".","."],[".",".",".","Q"],["Q",".",".","."],[".",".","Q","."]]',explanation:"There exist two distinct solutions to the 4-queens puzzle as shown above."},{input:"n = 1",output:'[["Q"]]'}],constraints:["1 <= n <= 9"],tags:["Array","Backtracking"]}],d_={twoSum:{javascript:`/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
function twoSum(nums, target) {
  // Your solution here
};`,python:`class Solution:
    def twoSum(self, nums: list[int], target: int) -> list[int]:
        # Your solution here
        pass`,java:`class Solution {
    public int[] twoSum(int[] nums, int target) {
        // Your solution here
    }
}`,c:`/*
Note: The returned array must be malloced, assume caller calls free().
*/
int* twoSum(int* nums, int numsSize, int target, int* returnSize) {
    // Your solution here
}`,cpp:`class Solution {
public:
    vector<int> twoSum(vector<int>& nums, int target) {
        // Your solution here
    }
};`},validParentheses:{javascript:`/**
 * @param {string} s
 * @return {boolean}
 */
function isValid(s) {
    // Your solution here
};`,python:`class Solution:
    def isValid(self, s: str) -> bool:
        # Your solution here
        pass`,java:`class Solution {
    public boolean isValid(String s) {
        // Your solution here
    }
}`,c:`bool isValid(char s) {
    // Your solution here
}`,cpp:`class Solution {
public:
    bool isValid(string s) {
        // Your solution here
    }
};`},default:{javascript:`/**
 * Your solution here
 */
function solve(input) {
    // Write your code here
};`,python:`class Solution:
    def solve(self, input):
        # Write your code here
        pass`,java:`class Solution {
    public void solve(String input) {
        // Write your code here
    }
}`,c:`void solve(char input) {
    // Write your code here
}`,cpp:`class Solution {
public:
    void solve(string input) {
        // Write your code here
    }
};`}},om=(t,e)=>{const r={1:"twoSum",2:"validParentheses"}[e]||"default";return d_[r][t]||d_.default[t]},f9=t=>$t.find(e=>e.id===t),lm={scale:[1,1.2,1],opacity:[.3,.5,.3],transition:{duration:8,repeat:1/0,ease:"easeInOut"}},m9=()=>{const t=Qs(),{currentUser:e}=Bn(),[n,r]=A.useState(""),[s,i]=A.useState([]),[a,l]=A.useState(1),[c,d]=A.useState([]),h=10;A.useEffect(()=>{(async()=>{if(e){const{data:D}=await on(e.uid);D&&d(D.solvedProblems||[])}})()},[e]);const f=$t.filter(S=>{const D=S.title.toLowerCase().includes(n.toLowerCase())||S.tags.some(_=>_.toLowerCase().includes(n.toLowerCase())),C=s.length===0||s.includes(S.difficulty);return D&&C}),p=a*h,x=p-h,b=f.slice(x,p),E=Math.ceil(f.length/h);A.useEffect(()=>{a>E&&E>0&&l(1)},[f,a,E]);const j=S=>{s.includes(S)?i(s.filter(D=>D!==S)):i([...s,S]),l(1)},T=S=>{S>0&&S<=E&&l(S)},v=S=>{t(`/code/${S}`)},g=S=>{switch(S){case"Easy":return"text-green-400";case"Medium":return"text-yellow-400";case"Hard":return"text-red-400";default:return"text-[var(--text)]"}};return o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsxs("main",{className:"flex-grow py-16 relative overflow-hidden",children:[o.jsxs(M.div,{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[o.jsx(M.div,{className:"absolute top-1/4 right-1/4 w-[500px] h-[500px] rounded-full bg-[var(--accent)] filter blur-[180px] opacity-5",animate:lm}),o.jsx(M.div,{className:"absolute bottom-1/3 left-1/4 w-[400px] h-[400px] rounded-full bg-[var(--accent-secondary)] filter blur-[150px] opacity-5",animate:{...lm,transition:{...lm.transition,delay:2}}})]}),o.jsx("div",{className:"container-custom relative z-10",children:o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx(M.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-4xl font-bold mb-8 bg-clip-text text-transparent bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",whileInView:{textShadow:["0 0 0px rgba(244, 91, 105, 0)","0 0 10px rgba(244, 91, 105, 0.3)","0 0 0px rgba(244, 91, 105, 0)"]},viewport:{once:!0},transition:{textShadow:{duration:3,repeat:1/0,repeatType:"reverse"}},children:"Coding Challenges"}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-8",children:[o.jsxs(M.div,{className:"relative flex-grow",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[o.jsx(aN,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)]",size:20}),o.jsx(M.input,{type:"text",placeholder:"Search problems by name or tag...",value:n,onChange:S=>{r(S.target.value),l(1)},className:"w-full py-3 pl-12 pr-4 bg-[var(--primary)] rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--accent)] text-base",whileFocus:{boxShadow:"0 0 0 3px rgba(244, 91, 105, 0.3)"}})]}),o.jsxs(M.div,{className:"flex items-center space-x-4 shrink-0",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[o.jsx(DU,{size:20,className:"text-[var(--text-secondary)]"}),o.jsx("div",{className:"flex space-x-3",children:["Easy","Medium","Hard"].map(S=>o.jsx(M.button,{onClick:()=>j(S),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s.includes(S)?g(S)+" bg-opacity-20 bg-white":"text-[var(--text-secondary)] hover:text-[var(--text)] hover:bg-[var(--primary)]"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:S},S))})]})]}),o.jsxs(M.div,{className:"bg-[var(--primary)] bg-opacity-60 rounded-xl p-4 mb-4 flex flex-wrap justify-between items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},whileHover:{y:-3},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(M.div,{whileHover:{rotate:360},transition:{duration:.8},children:o.jsx(_r,{size:18,className:"text-[var(--accent)] mr-2"})}),o.jsxs("span",{className:"text-sm",children:["Total Problems: ",o.jsx("span",{className:"font-semibold",children:f.length})]})]}),o.jsxs("div",{className:"flex space-x-4 text-sm",children:[o.jsxs(M.div,{className:"flex items-center",whileHover:{scale:1.05},children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 mr-2"}),o.jsxs("span",{children:["Easy: ",f.filter(S=>S.difficulty==="Easy").length]})]}),o.jsxs(M.div,{className:"flex items-center",whileHover:{scale:1.05},children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400 mr-2"}),o.jsxs("span",{children:["Medium: ",f.filter(S=>S.difficulty==="Medium").length]})]}),o.jsxs(M.div,{className:"flex items-center",whileHover:{scale:1.05},children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400 mr-2"}),o.jsxs("span",{children:["Hard: ",f.filter(S=>S.difficulty==="Hard").length]})]})]}),E>0&&o.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:["Page ",a," of ",E]})]}),o.jsxs(M.div,{className:"bg-[var(--secondary)] bg-opacity-80 backdrop-blur-sm border border-white/5 rounded-xl shadow-lg p-6 mb-8 overflow-hidden",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Title"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Difficulty"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Tags"})]})}),o.jsx("tbody",{className:"bg-transparent divide-y divide-gray-700",children:b.length>0?b.map((S,D)=>o.jsxs(M.tr,{className:"hover:bg-[var(--primary)] hover:bg-opacity-50 transition-colors cursor-pointer",onClick:()=>v(S.id),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:D*.05+.5},whileHover:{backgroundColor:"rgba(30, 30, 46, 0.8)",transition:{duration:.2}},children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(M.div,{className:`w-3 h-3 rounded-full ${c.includes(S.id)?"bg-green-400":"bg-gray-600"}`,whileHover:{scale:1.5},transition:{duration:.2}})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"font-medium text-[var(--accent)] hover:text-[var(--accent-hover)] group flex items-center",children:[S.title,o.jsx(M.div,{className:"ml-2 opacity-0 group-hover:opacity-100 transform translate-x-0 group-hover:translate-x-1",transition:{duration:.3},children:o.jsx(gv,{size:16})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(M.span,{className:`${g(S.difficulty)}`,whileHover:{scale:1.05},children:S.difficulty})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:S.tags.map((C,_)=>o.jsx(M.span,{className:"bg-[var(--primary)] text-xs px-2 py-1 rounded",whileHover:{scale:1.05,backgroundColor:"rgba(30, 30, 60, 0.8)"},children:C},_))})})]},S.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-[var(--text-secondary)]",children:"No problems found matching your search criteria."})})})]})}),f.length>0&&o.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 px-6 py-4 mt-4",children:[o.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:["Showing ",o.jsx("span",{className:"font-medium",children:x+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(p,f.length)})," ","of ",o.jsx("span",{className:"font-medium",children:f.length})," problems"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(M.button,{onClick:()=>T(a-1),disabled:a===1,className:`p-2 rounded-full ${a===1?"text-gray-500 cursor-not-allowed":"text-[var(--text)] hover:bg-[var(--primary)]"}`,whileHover:a!==1?{scale:1.1}:{},whileTap:a!==1?{scale:.9}:{},children:o.jsx(jU,{size:20})}),Array.from({length:Math.min(5,E)},(S,D)=>{let C;return E<=5||a<=3?C=D+1:a>=E-2?C=E-4+D:C=a-2+D,o.jsx(M.button,{onClick:()=>T(C),className:`w-8 h-8 rounded-full flex items-center justify-center ${a===C?"bg-[var(--accent)] text-white":"text-[var(--text)] hover:bg-[var(--primary)]"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:C},C)}),o.jsx(M.button,{onClick:()=>T(a+1),disabled:a===E,className:`p-2 rounded-full ${a===E?"text-gray-500 cursor-not-allowed":"text-[var(--text)] hover:bg-[var(--primary)]"}`,whileHover:a!==E?{scale:1.1}:{},whileTap:a!==E?{scale:.9}:{},children:o.jsx(Gd,{size:20})})]})]})]})]})})]}),o.jsx(en,{})]})})};var lN={},p9=mn&&mn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pt=mn&&mn.__assign||function(){return pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},pt.apply(this,arguments)},g9=mn&&mn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),y9=mn&&mn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),v9=mn&&mn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&g9(e,t,n);return y9(e,t),e},x9=mn&&mn.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};Object.defineProperty(lN,"__esModule",{value:!0});var Do=v9(A),w9=13,_9=9,b9=8,T9=89,gu=90,k9=77,h_=57,f_=219,m_=222,p_=192,E9=27,g_=100,S9=3e3,N9=typeof window<"u"&&"navigator"in window&&/Win/i.test(navigator.platform),cm=typeof window<"u"&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),zu="npm__react-simple-code-editor__textarea",I9=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`.concat(zu,`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`).concat(zu,` {
    color: transparent !important;
  }

  .`).concat(zu,`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`),j9=function(t){p9(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={capture:!0},n._recordCurrentState=function(){var r=n._input;if(r){var s=r.value,i=r.selectionStart,a=r.selectionEnd;n._recordChange({value:s,selectionStart:i,selectionEnd:a})}},n._getLines=function(r,s){return r.substring(0,s).split(`
`)},n._recordChange=function(r,s){var i,a,l;s===void 0&&(s=!1);var c=n._history,d=c.stack,h=c.offset;if(d.length&&h>-1){n._history.stack=d.slice(0,h+1);var f=n._history.stack.length;if(f>g_){var p=f-g_;n._history.stack=d.slice(p,f),n._history.offset=Math.max(n._history.offset-p,0)}}var x=Date.now();if(s){var b=n._history.stack[n._history.offset];if(b&&x-b.timestamp<S9){var E=/[^a-z0-9]([a-z0-9]+)$/i,j=(i=n._getLines(b.value,b.selectionStart).pop())===null||i===void 0?void 0:i.match(E),T=(a=n._getLines(r.value,r.selectionStart).pop())===null||a===void 0?void 0:a.match(E);if(j!=null&&j[1]&&(!((l=T==null?void 0:T[1])===null||l===void 0)&&l.startsWith(j[1]))){n._history.stack[n._history.offset]=pt(pt({},r),{timestamp:x});return}}}n._history.stack.push(pt(pt({},r),{timestamp:x})),n._history.offset++},n._updateInput=function(r){var s=n._input;s&&(s.value=r.value,s.selectionStart=r.selectionStart,s.selectionEnd=r.selectionEnd,n.props.onValueChange(r.value))},n._applyEdits=function(r){var s=n._input,i=n._history.stack[n._history.offset];i&&s&&(n._history.stack[n._history.offset]=pt(pt({},i),{selectionStart:s.selectionStart,selectionEnd:s.selectionEnd})),n._recordChange(r),n._updateInput(r)},n._undoEdit=function(){var r=n._history,s=r.stack,i=r.offset,a=s[i-1];a&&(n._updateInput(a),n._history.offset=Math.max(i-1,0))},n._redoEdit=function(){var r=n._history,s=r.stack,i=r.offset,a=s[i+1];a&&(n._updateInput(a),n._history.offset=Math.min(i+1,s.length-1))},n._handleKeyDown=function(r){var s=n.props,i=s.tabSize,a=s.insertSpaces,l=s.ignoreTabKey,c=s.onKeyDown;if(!(c&&(c(r),r.defaultPrevented))){r.keyCode===E9&&r.currentTarget.blur();var d=r.currentTarget,h=d.value,f=d.selectionStart,p=d.selectionEnd,x=(a?" ":"	").repeat(i);if(r.keyCode===_9&&!l&&n.state.capture)if(r.preventDefault(),r.shiftKey){var b=n._getLines(h,f),E=b.length-1,j=n._getLines(h,p).length-1,T=h.split(`
`).map(function(R,N){return N>=E&&N<=j&&R.startsWith(x)?R.substring(x.length):R}).join(`
`);if(h!==T){var v=b[E];n._applyEdits({value:T,selectionStart:v!=null&&v.startsWith(x)?f-x.length:f,selectionEnd:p-(h.length-T.length)})}}else if(f!==p){var b=n._getLines(h,f),g=b.length-1,S=n._getLines(h,p).length-1,v=b[g];n._applyEdits({value:h.split(`
`).map(function(re,ee){return ee>=g&&ee<=S?x+re:re}).join(`
`),selectionStart:v&&/\S/.test(v)?f+x.length:f,selectionEnd:p+x.length*(S-g+1)})}else{var D=f+x.length;n._applyEdits({value:h.substring(0,f)+x+h.substring(p),selectionStart:D,selectionEnd:D})}else if(r.keyCode===b9){var C=f!==p,_=h.substring(0,f);if(_.endsWith(x)&&!C){r.preventDefault();var D=f-x.length;n._applyEdits({value:h.substring(0,f-x.length)+h.substring(p),selectionStart:D,selectionEnd:D})}}else if(r.keyCode===w9){if(f===p){var w=n._getLines(h,f).pop(),k=w==null?void 0:w.match(/^\s+/);if(k!=null&&k[0]){r.preventDefault();var P=`
`+k[0],D=f+P.length;n._applyEdits({value:h.substring(0,f)+P+h.substring(p),selectionStart:D,selectionEnd:D})}}}else if(r.keyCode===h_||r.keyCode===f_||r.keyCode===m_||r.keyCode===p_){var L=void 0;r.keyCode===h_&&r.shiftKey?L=["(",")"]:r.keyCode===f_?r.shiftKey?L=["{","}"]:L=["[","]"]:r.keyCode===m_?r.shiftKey?L=['"','"']:L=["'","'"]:r.keyCode===p_&&!r.shiftKey&&(L=["`","`"]),f!==p&&L&&(r.preventDefault(),n._applyEdits({value:h.substring(0,f)+L[0]+h.substring(f,p)+L[1]+h.substring(p),selectionStart:f,selectionEnd:p+2}))}else(cm?r.metaKey&&r.keyCode===gu:r.ctrlKey&&r.keyCode===gu)&&!r.shiftKey&&!r.altKey?(r.preventDefault(),n._undoEdit()):(cm?r.metaKey&&r.keyCode===gu&&r.shiftKey:N9?r.ctrlKey&&r.keyCode===T9:r.ctrlKey&&r.keyCode===gu&&r.shiftKey)&&!r.altKey?(r.preventDefault(),n._redoEdit()):r.keyCode===k9&&r.ctrlKey&&(!cm||r.shiftKey)&&(r.preventDefault(),n.setState(function(R){return{capture:!R.capture}}))}},n._handleChange=function(r){var s=r.currentTarget,i=s.value,a=s.selectionStart,l=s.selectionEnd;n._recordChange({value:i,selectionStart:a,selectionEnd:l},!0),n.props.onValueChange(i)},n._history={stack:[],offset:-1},n._input=null,n}return e.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(e.prototype,"session",{get:function(){return{history:this._history}},set:function(n){this._history=n.history},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this,r=this.props,s=r.value,i=r.style,a=r.padding,l=r.highlight,c=r.textareaId,d=r.textareaClassName,h=r.autoFocus,f=r.disabled,p=r.form,x=r.maxLength,b=r.minLength,E=r.name,j=r.placeholder,T=r.readOnly,v=r.required,g=r.onClick,S=r.onFocus,D=r.onBlur,C=r.onKeyUp;r.onKeyDown,r.onValueChange,r.tabSize,r.insertSpaces,r.ignoreTabKey;var _=r.preClassName,w=x9(r,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),k={paddingTop:typeof a=="object"?a.top:a,paddingRight:typeof a=="object"?a.right:a,paddingBottom:typeof a=="object"?a.bottom:a,paddingLeft:typeof a=="object"?a.left:a},P=l(s);return Do.createElement("div",pt({},w,{style:pt(pt({},Lo.container),i)}),Do.createElement("pre",pt({className:_,"aria-hidden":"true",style:pt(pt(pt({},Lo.editor),Lo.highlight),k)},typeof P=="string"?{dangerouslySetInnerHTML:{__html:P+"<br />"}}:{children:P})),Do.createElement("textarea",{ref:function(L){return n._input=L},style:pt(pt(pt({},Lo.editor),Lo.textarea),k),className:zu+(d?" ".concat(d):""),id:c,value:s,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:g,onKeyUp:C,onFocus:S,onBlur:D,disabled:f,form:p,maxLength:x,minLength:b,name:E,placeholder:j,readOnly:T,required:v,autoFocus:h,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),Do.createElement("style",{dangerouslySetInnerHTML:{__html:I9}}))},e.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},e}(Do.Component),A9=lN.default=j9,Lo={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}},cN={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,a={},l={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function v(g){return g instanceof c?new c(g.type,v(g.content),g.alias):Array.isArray(g)?g.map(v):g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(v){return Object.prototype.toString.call(v).slice(8,-1)},objId:function(v){return v.__id||Object.defineProperty(v,"__id",{value:++i}),v.__id},clone:function v(g,S){S=S||{};var D,C;switch(l.util.type(g)){case"Object":if(C=l.util.objId(g),S[C])return S[C];D={},S[C]=D;for(var _ in g)g.hasOwnProperty(_)&&(D[_]=v(g[_],S));return D;case"Array":return C=l.util.objId(g),S[C]?S[C]:(D=[],S[C]=D,g.forEach(function(w,k){D[k]=v(w,S)}),D);default:return g}},getLanguage:function(v){for(;v;){var g=s.exec(v.className);if(g)return g[1].toLowerCase();v=v.parentElement}return"none"},setLanguage:function(v,g){v.className=v.className.replace(RegExp(s,"gi"),""),v.classList.add("language-"+g)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(D){var v=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(D.stack)||[])[1];if(v){var g=document.getElementsByTagName("script");for(var S in g)if(g[S].src==v)return g[S]}return null}},isActive:function(v,g,S){for(var D="no-"+g;v;){var C=v.classList;if(C.contains(g))return!0;if(C.contains(D))return!1;v=v.parentElement}return!!S}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(v,g){var S=l.util.clone(l.languages[v]);for(var D in g)S[D]=g[D];return S},insertBefore:function(v,g,S,D){D=D||l.languages;var C=D[v],_={};for(var w in C)if(C.hasOwnProperty(w)){if(w==g)for(var k in S)S.hasOwnProperty(k)&&(_[k]=S[k]);S.hasOwnProperty(w)||(_[w]=C[w])}var P=D[v];return D[v]=_,l.languages.DFS(l.languages,function(L,R){R===P&&L!=v&&(this[L]=_)}),_},DFS:function v(g,S,D,C){C=C||{};var _=l.util.objId;for(var w in g)if(g.hasOwnProperty(w)){S.call(g,w,g[w],D||w);var k=g[w],P=l.util.type(k);P==="Object"&&!C[_(k)]?(C[_(k)]=!0,v(k,S,null,C)):P==="Array"&&!C[_(k)]&&(C[_(k)]=!0,v(k,S,w,C))}}},plugins:{},highlightAll:function(v,g){l.highlightAllUnder(document,v,g)},highlightAllUnder:function(v,g,S){var D={callback:S,container:v,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",D),D.elements=Array.prototype.slice.apply(D.container.querySelectorAll(D.selector)),l.hooks.run("before-all-elements-highlight",D);for(var C=0,_;_=D.elements[C++];)l.highlightElement(_,g===!0,D.callback)},highlightElement:function(v,g,S){var D=l.util.getLanguage(v),C=l.languages[D];l.util.setLanguage(v,D);var _=v.parentElement;_&&_.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(_,D);var w=v.textContent,k={element:v,language:D,grammar:C,code:w};function P(R){k.highlightedCode=R,l.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,l.hooks.run("after-highlight",k),l.hooks.run("complete",k),S&&S.call(k.element)}if(l.hooks.run("before-sanity-check",k),_=k.element.parentElement,_&&_.nodeName.toLowerCase()==="pre"&&!_.hasAttribute("tabindex")&&_.setAttribute("tabindex","0"),!k.code){l.hooks.run("complete",k),S&&S.call(k.element);return}if(l.hooks.run("before-highlight",k),!k.grammar){P(l.util.encode(k.code));return}if(g&&r.Worker){var L=new Worker(l.filename);L.onmessage=function(R){P(R.data)},L.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else P(l.highlight(k.code,k.grammar,k.language))},highlight:function(v,g,S){var D={code:v,grammar:g,language:S};if(l.hooks.run("before-tokenize",D),!D.grammar)throw new Error('The language "'+D.language+'" has no grammar.');return D.tokens=l.tokenize(D.code,D.grammar),l.hooks.run("after-tokenize",D),c.stringify(l.util.encode(D.tokens),D.language)},tokenize:function(v,g){var S=g.rest;if(S){for(var D in S)g[D]=S[D];delete g.rest}var C=new f;return p(C,C.head,v),h(v,C,g,C.head,0),b(C)},hooks:{all:{},add:function(v,g){var S=l.hooks.all;S[v]=S[v]||[],S[v].push(g)},run:function(v,g){var S=l.hooks.all[v];if(!(!S||!S.length))for(var D=0,C;C=S[D++];)C(g)}},Token:c};r.Prism=l;function c(v,g,S,D){this.type=v,this.content=g,this.alias=S,this.length=(D||"").length|0}c.stringify=function v(g,S){if(typeof g=="string")return g;if(Array.isArray(g)){var D="";return g.forEach(function(P){D+=v(P,S)}),D}var C={type:g.type,content:v(g.content,S),tag:"span",classes:["token",g.type],attributes:{},language:S},_=g.alias;_&&(Array.isArray(_)?Array.prototype.push.apply(C.classes,_):C.classes.push(_)),l.hooks.run("wrap",C);var w="";for(var k in C.attributes)w+=" "+k+'="'+(C.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+C.tag+' class="'+C.classes.join(" ")+'"'+w+">"+C.content+"</"+C.tag+">"};function d(v,g,S,D){v.lastIndex=g;var C=v.exec(S);if(C&&D&&C[1]){var _=C[1].length;C.index+=_,C[0]=C[0].slice(_)}return C}function h(v,g,S,D,C,_){for(var w in S)if(!(!S.hasOwnProperty(w)||!S[w])){var k=S[w];k=Array.isArray(k)?k:[k];for(var P=0;P<k.length;++P){if(_&&_.cause==w+","+P)return;var L=k[P],R=L.inside,N=!!L.lookbehind,re=!!L.greedy,ee=L.alias;if(re&&!L.pattern.global){var H=L.pattern.toString().match(/[imsuy]*$/)[0];L.pattern=RegExp(L.pattern.source,H+"g")}for(var G=L.pattern||L,V=D.next,W=C;V!==g.tail&&!(_&&W>=_.reach);W+=V.value.length,V=V.next){var Z=V.value;if(g.length>v.length)return;if(!(Z instanceof c)){var ie=1,le;if(re){if(le=d(G,W,v,N),!le||le.index>=v.length)break;var B=le.index,we=le.index+le[0].length,Re=W;for(Re+=V.value.length;B>=Re;)V=V.next,Re+=V.value.length;if(Re-=V.value.length,W=Re,V.value instanceof c)continue;for(var Me=V;Me!==g.tail&&(Re<we||typeof Me.value=="string");Me=Me.next)ie++,Re+=Me.value.length;ie--,Z=v.slice(W,Re),le.index-=W}else if(le=d(G,0,Z,N),!le)continue;var B=le.index,X=le[0],Ie=Z.slice(0,B),me=Z.slice(B+X.length),je=W+Z.length;_&&je>_.reach&&(_.reach=je);var be=V.prev;Ie&&(be=p(g,be,Ie),W+=Ie.length),x(g,be,ie);var dt=new c(w,R?l.tokenize(X,R):X,ee,X);if(V=p(g,be,dt),me&&p(g,V,me),ie>1){var $e={cause:w+","+P,reach:je};h(v,g,S,V.prev,W,$e),_&&$e.reach>_.reach&&(_.reach=$e.reach)}}}}}}function f(){var v={value:null,prev:null,next:null},g={value:null,prev:v,next:null};v.next=g,this.head=v,this.tail=g,this.length=0}function p(v,g,S){var D=g.next,C={value:S,prev:g,next:D};return g.next=C,D.prev=C,v.length++,C}function x(v,g,S){for(var D=g.next,C=0;C<S&&D!==v.tail;C++)D=D.next;g.next=D,D.prev=g,v.length-=C}function b(v){for(var g=[],S=v.head.next;S!==v.tail;)g.push(S.value),S=S.next;return g}if(!r.document)return r.addEventListener&&(l.disableWorkerMessageHandler||r.addEventListener("message",function(v){var g=JSON.parse(v.data),S=g.language,D=g.code,C=g.immediateClose;r.postMessage(l.highlight(D,l.languages[S],S)),C&&r.close()},!1)),l;var E=l.util.currentScript();E&&(l.filename=E.src,E.hasAttribute("data-manual")&&(l.manual=!0));function j(){l.manual||l.highlightAll()}if(!l.manual){var T=document.readyState;T==="loading"||T==="interactive"&&E&&E.defer?document.addEventListener("DOMContentLoaded",j):window.requestAnimationFrame?window.requestAnimationFrame(j):window.setTimeout(j,16)}return l}(e);t.exports&&(t.exports=n),typeof mn<"u"&&(mn.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(s,i){var a={};a["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[i]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};l["language-"+i]={pattern:/[\s\S]+/,inside:n.languages[i]};var c={};c[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:l},n.languages.insertBefore("markup","cdata",c)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,s){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:n.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var i=r.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading",s=function(E,j){return" Error "+E+" while fetching file: "+j},i=" Error: File does not exist or is empty",a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",c="loading",d="loaded",h="failed",f="pre[data-src]:not(["+l+'="'+d+'"]):not(['+l+'="'+c+'"])';function p(E,j,T){var v=new XMLHttpRequest;v.open("GET",E,!0),v.onreadystatechange=function(){v.readyState==4&&(v.status<400&&v.responseText?j(v.responseText):v.status>=400?T(s(v.status,v.statusText)):T(i))},v.send(null)}function x(E){var j=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(E||"");if(j){var T=Number(j[1]),v=j[2],g=j[3];return v?g?[T,Number(g)]:[T,void 0]:[T,T]}}n.hooks.add("before-highlightall",function(E){E.selector+=", "+f}),n.hooks.add("before-sanity-check",function(E){var j=E.element;if(j.matches(f)){E.code="",j.setAttribute(l,c);var T=j.appendChild(document.createElement("CODE"));T.textContent=r;var v=j.getAttribute("data-src"),g=E.language;if(g==="none"){var S=(/\.(\w+)$/.exec(v)||[,"none"])[1];g=a[S]||S}n.util.setLanguage(T,g),n.util.setLanguage(j,g);var D=n.plugins.autoloader;D&&D.loadLanguages(g),p(v,function(C){j.setAttribute(l,d);var _=x(j.getAttribute("data-range"));if(_){var w=C.split(/\r\n?|\n/g),k=_[0],P=_[1]==null?w.length:_[1];k<0&&(k+=w.length),k=Math.max(0,Math.min(k-1,w.length)),P<0&&(P+=w.length),P=Math.max(0,Math.min(P,w.length)),C=w.slice(k,P).join(`
`),j.hasAttribute("data-start")||j.setAttribute("data-start",String(k+1))}T.textContent=C,n.highlightElement(T)},function(C){j.setAttribute(l,h),T.textContent=C})}}),n.plugins.fileHighlight={highlight:function(j){for(var T=(j||document).querySelectorAll(f),v=0,g;g=T[v++];)n.highlightElement(g)}};var b=!1;n.fileHighlight=function(){b||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),b=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(cN);var um=cN.exports;Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(Prism);const y_={javascript:63,python:71,java:62,c:50,cpp:54},Kt={ACCEPTED:3,WRONG_ANSWER:4,TIME_LIMIT_EXCEEDED:5,COMPILATION_ERROR:6,RUNTIME_ERROR:11,INTERNAL_ERROR:12},uN="https://judge0-ce.p.rapidapi.com",dN="fcccbf1d85mshbdcfd814744f498p183721jsnb7d57b77228d",hN="judge0-ce.p.rapidapi.com",yv=t=>new Promise(e=>setTimeout(e,t)),fN=async(t,e,n,r,s=3,i=1e3)=>{try{const a=y_[e]||y_.javascript,l={source_code:t,language_id:a};n&&(l.stdin=n),r&&(l.expected_output=r);const c=await fetch(`${uN}/submissions?base64_encoded=false&wait=false`,{method:"POST",headers:{"Content-Type":"application/json","X-RapidAPI-Key":dN,"X-RapidAPI-Host":hN},body:JSON.stringify(l)});if(c.status===429&&s>0)return console.log(`Rate limited, retrying after ${i}ms...`),await yv(i),fN(t,e,n,r,s-1,i*2);if(!c.ok)throw new Error(`Failed to submit code: ${c.status} ${c.statusText}`);return(await c.json()).token}catch(a){throw console.error("Error submitting code:",a),a}},mN=async(t,e=3,n=1e3)=>{try{const r=await fetch(`${uN}/submissions/${t}?base64_encoded=false`,{method:"GET",headers:{"X-RapidAPI-Key":dN,"X-RapidAPI-Host":hN}});if(r.status===429&&e>0)return console.log(`Rate limited, retrying after ${n}ms...`),await yv(n),mN(t,e-1,n*2);if(!r.ok)throw new Error(`Failed to get submission result: ${r.status} ${r.statusText}`);return await r.json()}catch(r){throw console.error("Error getting submission result:",r),r}},C9=async(t,e=10,n=2e3)=>{let r=0;for(;r<e;){const s=await mN(t);if(s.status.id!==1&&s.status.id!==2)return s;await new Promise(i=>setTimeout(i,n)),r++}throw new Error("Submission processing timed out")},P9=async(t,e,n)=>{const r=await fN(t,e,n.input,n.expectedOutput);return await C9(r)},R9=async(t,e,n)=>{try{const r=[];for(const s of n){r.length>0&&await yv(1e3);const i=await P9(t,e,s);r.push(i)}return r}catch(r){throw console.error("Error evaluating code:",r),r}},M9=({result:t,testCaseIndex:e,isHidden:n})=>{const r=()=>{switch(t.status.id){case Kt.ACCEPTED:return"text-green-400";case Kt.WRONG_ANSWER:return"text-red-400";case Kt.TIME_LIMIT_EXCEEDED:return"text-yellow-400";case Kt.COMPILATION_ERROR:case Kt.RUNTIME_ERROR:return"text-red-400";default:return"text-[var(--text-secondary)]"}},s=()=>{switch(t.status.id){case Kt.ACCEPTED:return o.jsx(ur,{className:"text-green-400",size:20});case Kt.WRONG_ANSWER:return o.jsx(Rn,{className:"text-red-400",size:20});case Kt.TIME_LIMIT_EXCEEDED:return o.jsx(Wh,{className:"text-yellow-400",size:20});case Kt.COMPILATION_ERROR:case Kt.RUNTIME_ERROR:return o.jsx(EU,{className:"text-red-400",size:20});default:return o.jsx(t9,{className:"text-[var(--text-secondary)]",size:20})}};return o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center",children:[s(),o.jsxs("span",{className:`ml-2 font-medium ${r()}`,children:["Test Case ",e+1," ",n?"(Hidden)":"",": ",t.status.description]})]}),t.time&&o.jsxs("span",{className:"text-[var(--text-secondary)] text-sm",children:["Time: ",parseFloat(t.time).toFixed(2),"s"]})]}),(!n||t.status.id!==Kt.ACCEPTED)&&o.jsxs("div",{className:"mt-2 space-y-2",children:[t.compile_output&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Compile Output:"}),o.jsx("pre",{className:"bg-[var(--secondary)] p-2 rounded text-sm overflow-x-auto whitespace-pre-wrap text-red-400",children:t.compile_output})]}),t.stderr&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Error:"}),o.jsx("pre",{className:"bg-[var(--secondary)] p-2 rounded text-sm overflow-x-auto whitespace-pre-wrap text-red-400",children:t.stderr})]}),t.stdout&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Your Output:"}),o.jsx("pre",{className:"bg-[var(--secondary)] p-2 rounded text-sm overflow-x-auto whitespace-pre-wrap",children:t.stdout})]})]})]})},D9=()=>{const t=Math.floor(Math.random()*$t.length);return $t[t].id},L9=async t=>{try{console.log("Joining matchmaking for user:",t);const e=zs(it,"matchQueue"),n=qt(e,Oe("userId","==",t));if(!(await Yn(n)).empty)return console.log("User is already in queue"),"waiting";const s=zs(it,"matches"),i=qt(s,Oe("player1","==",t),Oe("status","in",["matched","in_progress"])),a=qt(s,Oe("player2","==",t),Oe("status","in",["matched","in_progress"])),[l,c]=await Promise.all([Yn(i),Yn(a)]);if(!l.empty||!c.empty){const T=l.empty?c.docs[0]:l.docs[0];return console.log("User is already in match:",T.id),T.id}const d=qt(e,Oe("status","==","waiting")),h=await Yn(d);if(console.log("Found waiting players:",h.size),h.empty){console.log("No waiting players, adding to queue");const T={userId:t,timestamp:Date.now(),status:"waiting"},v=await im(e,T);return console.log("Added to queue with ID:",v.id),"waiting"}let f=null;for(const T of h.docs)if(T.data().userId!==t){f=T;break}if(!f){console.log("No valid opponent, adding to queue");const T={userId:t,timestamp:Date.now(),status:"waiting"},v=await im(e,T);return console.log("Added to queue with ID:",v.id),"waiting"}const x=f.data().userId;console.log("Found opponent:",x),await ti(f.ref,{status:"matched"}),console.log("Updated opponent status to matched");const b=D9();console.log("Selected problem:",b);const E={player1:x,player2:t,problemId:b,startTime:Date.now(),status:"matched",submissions:{},pointsAwarded:!1},j=await im(s,E);return console.log("Created match with ID:",j.id),await QS(f.ref),console.log("Removed opponent from queue"),j.id}catch(e){throw console.error("Error joining matchmaking:",e),new Error(`Matchmaking error: ${e.message}`)}},v_=(t,e,n)=>{console.log("Setting up match listeners for user:",t);const r=[];try{const s=zs(it,"matches"),i=qt(s,Oe("player1","==",t),Oe("status","in",["matched","in_progress"])),a=hu(i,x=>{console.log("Player1 query snapshot size:",x.size),x.docChanges().forEach(b=>{if(b.type==="added"||b.type==="modified"){const E={id:b.doc.id,...b.doc.data()};console.log("Found match as player1:",E),E.status==="matched"?e(E):n(E)}})},x=>{console.error("Error in player1 listener:",x)});r.push(a);const l=qt(s,Oe("player2","==",t),Oe("status","in",["matched","in_progress"])),c=hu(l,x=>{console.log("Player2 query snapshot size:",x.size),x.docChanges().forEach(b=>{if(b.type==="added"||b.type==="modified"){const E={id:b.doc.id,...b.doc.data()};console.log("Found match as player2:",E),E.status==="matched"?e(E):n(E)}})},x=>{console.error("Error in player2 listener:",x)});r.push(c);const d=qt(s,Oe("player1","==",t),Oe("status","==","completed")),h=hu(d,x=>{x.docChanges().forEach(b=>{if(b.type==="added"||b.type==="modified"){const E={id:b.doc.id,...b.doc.data()};E.winner&&(console.log("Detected completed match as player1:",E),n(E))}})},x=>{console.error("Error in player1 completed matches listener:",x)});r.push(h);const f=qt(s,Oe("player2","==",t),Oe("status","==","completed")),p=hu(f,x=>{x.docChanges().forEach(b=>{if(b.type==="added"||b.type==="modified"){const E={id:b.doc.id,...b.doc.data()};E.winner&&(console.log("Detected completed match as player2:",E),n(E))}})},x=>{console.error("Error in player2 completed matches listener:",x)});r.push(p)}catch(s){console.error("Error setting up match listeners:",s)}return()=>{console.log("Unsubscribing from all match listeners"),r.forEach(s=>s())}},x_=async t=>{try{const e=Sn(it,"matches",t),n=await Yi(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){return console.error("Error getting match:",e),null}},O9=async(t,e,n,r,s,i)=>{try{console.log("Submitting solution for match:",t,"user:",e);const a=Sn(it,"matches",t),l={code:n,language:r,submissionTime:Date.now(),testCasesPassed:s,totalTestCases:i},c=await Yi(a);if(!c.exists())return console.error("Match not found"),!1;const d=c.data();if(d.player1!==e&&d.player2!==e)return console.error("User is not part of this match"),!1;const h={...d.submissions,[e]:l},f=h[d.player1]!==void 0,p=h[d.player2]!==void 0;let x=d.status;d.status!=="completed"&&(x="in_progress");let b;if(f&&p){x="completed";const E=h[d.player1],j=h[d.player2];E.testCasesPassed>j.testCasesPassed?b=d.player1:j.testCasesPassed>E.testCasesPassed?b=d.player2:b=E.submissionTime<j.submissionTime?d.player1:d.player2,console.log("Match completed, winner:",b)}return await ti(a,{submissions:h,status:x,...b&&{winner:b},pointsAwarded:d.pointsAwarded||!1}),!0}catch(a){return console.error("Error submitting solution:",a),!1}},V9=async t=>{try{console.log("Canceling matchmaking for user:",t);const e=zs(it,"matchQueue"),n=qt(e,Oe("userId","==",t)),r=await Yn(n);if(!r.empty){for(const s of r.docs)await QS(s.ref),console.log("Deleted queue entry:",s.id);return!0}return console.log("No queue entries found for user"),!0}catch(e){return console.error("Error canceling matchmaking:",e),!1}},F9=async(t,e=5)=>{try{const n=zs(it,"matches"),r=qt(n,Oe("player1","==",t),Oe("status","==","completed")),s=qt(n,Oe("player2","==",t),Oe("status","==","completed")),[i,a]=await Promise.all([Yn(r),Yn(s)]),l=[];return i.forEach(c=>{l.push({id:c.id,...c.data()})}),a.forEach(c=>{l.push({id:c.id,...c.data()})}),l.sort((c,d)=>d.startTime-c.startTime),l.slice(0,e)}catch(n){return console.error("Error getting user matches:",n),[]}},U9=[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"c",label:"C"},{value:"cpp",label:"C++"}],B9=()=>{var rn,si,kc,Zr,lo,co;const{id:t}=FT(),e=Qs(),n=Ks(),{matchId:r,isRankedMatch:s,opponent:i}=n.state||{},a=t?parseInt(t,10):0,[l,c]=A.useState(null),[d,h]=A.useState("javascript"),[f,p]=A.useState(""),[x,b]=A.useState(0),[E,j]=A.useState(!1),[T,v]=A.useState(!1),{currentUser:g}=Bn(),[S]=A.useState(Date.now()),[D,C]=A.useState(!1),[_,w]=A.useState([]),[k,P]=A.useState(null),[L,R]=A.useState(!1),[N,re]=A.useState(600),[ee,H]=A.useState("waiting"),[G,V]=A.useState(null),[W,Z]=A.useState(i||"Opponent"),[ie,le]=A.useState(null),[we,Re]=A.useState(null),[Me,B]=A.useState(null),[X,Ie]=A.useState(!1),[me,je]=A.useState(!1),[be,dt]=A.useState(null),[$e,Xe]=A.useState(null),[zn,$n]=A.useState(null);A.useEffect(()=>{if(t){const Q=f9(a);Q&&(c(Q),p(om(d,a)))}},[t,a]),A.useEffect(()=>()=>{zn&&clearInterval(zn)},[zn]),A.useEffect(()=>{(async()=>{if(i&&g)try{const{data:ue}=await on(i);ue&&Z(ue.name||ue.coderName||i.substring(0,8))}catch(ue){console.error("Failed to load opponent profile:",ue)}})()},[i,g]),A.useEffect(()=>{s&&r&&g&&(async()=>{if(s&&r)try{const ue=await x_(r);if(ue){if(V(ue),H("in_progress"),ue.submissions&&ue.submissions[(g==null?void 0:g.uid)||""]&&(R(!0),H("completed")),ue.status==="completed"&&ue.winner){const Ee=ue.winner,Rt=Ee===ue.player1?ue.player2:ue.player1;Re(Ee),B(Rt),Ie(!0);try{const{data:tt}=await on(Ee),{data:Mt}=await on(Rt);tt&&dt(tt),Mt&&Xe(Mt)}catch(tt){console.error("Failed to load winner/loser profiles:",tt)}}const _t=setInterval(async()=>{try{const Ee=await x_(r);if(Ee&&Ee.submissions){const Rt=Ee.player1===(g==null?void 0:g.uid)?Ee.player2:Ee.player1;if(Ee.submissions[Rt]){const tt=new Date(Ee.submissions[Rt].submissionTime).toLocaleTimeString();if(le(`${W} submitted their solution at ${tt}.`),Ee.status==="completed"&&Ee.winner){const Mt=Ee.winner,ii=Mt===Ee.player1?Ee.player2:Ee.player1;Re(Mt),B(ii),Ie(!0),H("completed");try{const{data:es}=await on(Mt),{data:sr}=await on(ii);if(es&&dt(es),sr&&Xe(sr),!me&&g&&!Ee.pointsAwarded)try{const ir=await _U(Mt,ii);ir.success?(ir.alreadyProcessed?console.log("Points were already awarded for this match"):console.log("Match results updated successfully"),je(!0)):(console.error("Match results update failed:",ir.error),P(`Failed to update match results: ${ir.error}`))}catch(ir){console.error("Error updating match results:",ir),P(`Error updating match results: ${ir.message}`)}}catch(es){console.error("Failed to load winner/loser profiles:",es)}}}}}catch(Ee){console.error("Error checking for match updates:",Ee)}},3e3);$n(_t)}}catch(ue){console.error("Failed to load match details:",ue),P("Failed to load match details. Please try again.")}})()},[s,r,g,W,me]),A.useEffect(()=>{a&&p(om(d,a))},[d,a]),A.useEffect(()=>{let Q=null;return E?Q=setInterval(()=>{b(ue=>ue+1)},1e3):Q&&clearInterval(Q),()=>{Q&&clearInterval(Q)}},[E]),A.useEffect(()=>{if(s&&ee==="in_progress"){const Q=setInterval(()=>{re(ue=>ue<=0?(clearInterval(Q),ri(),0):ue-1)},1e3);return()=>clearInterval(Q)}},[s,ee]);const qn=Q=>{p(Q),T||(v(!0),j(!0))},Yr=Q=>{const ue=Math.floor(Q/3600),_t=Math.floor(Q%3600/60),Ee=Q%60;return`${ue.toString().padStart(2,"0")}:${_t.toString().padStart(2,"0")}:${Ee.toString().padStart(2,"0")}`},ni=Q=>{const ue=Math.floor(Q/60),_t=Q%60;return`${ue}:${_t.toString().padStart(2,"0")}`},Jr=Q=>{h(Q.target.value)},Xr=A.useCallback(()=>l&&l.testCases&&l.testCases.length>0?l.testCases:l&&l.examples&&l.examples.length>0?l.examples.map((Q,ue)=>{const _t=Q.input.replace(/^.*=\s*/,"").replace(/\[|\]|\"|\'/g,"").trim(),Ee=Q.output.replace(/\[|\]|\"|\'/g,"").trim();return{input:_t,expectedOutput:Ee,isHidden:!1}}):[],[l]),ri=async()=>{if(ee!=="completed")try{j(!1),C(!0),P(null),w([]),R(!0);const Q=Xr().slice(0,3);if(Q.length===0){P("No test cases available for this problem.");return}const ue=await R9(f,d,Q);w(ue);const _t=ue.every(Rt=>Rt.status.id===Kt.ACCEPTED),Ee=ue.filter(Rt=>Rt.status.id===Kt.ACCEPTED).length;if(g){const Rt=Math.round((Date.now()-S)/1e3);if(s&&r){console.log("Submitting ranked match solution:",r);try{await O9(r,g.uid,f,d,Ee,Q.length)?H("completed"):P("Failed to submit your solution for the match. Please try again.")}catch(tt){P(`Match submission error: ${tt.message}`),console.error("Match submission error:",tt)}}else if(_t){console.log("All tests passed! Updating problem status.");try{const tt=await wU(g.uid,a,Rt);tt.success||console.error("Failed to update problem status:",tt.error)}catch(tt){console.error("Error updating problem status:",tt)}}}}catch(Q){P(Q.message||"An error occurred during submission"),console.error("Submission error:",Q)}finally{C(!1)}},Tr=()=>{s?window.confirm("Are you sure you want to leave the ranked match?")&&e("/ranked-match"):e("/code")},$=()=>{e("/leaderboard")},Y=()=>{navigator.clipboard.writeText(f).then(()=>{alert("Code copied to clipboard!")}).catch(Q=>{console.error("Failed to copy: ",Q)})},oe=()=>{const Q=document.createElement("a"),ue=new Blob([f],{type:"text/plain"});Q.href=URL.createObjectURL(ue),Q.download=`${(l==null?void 0:l.title.replace(/\s+/g,"_").toLowerCase())||"solution"}.${d}`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},ge=()=>{window.confirm("Are you sure you want to reset your code to the initial template?")&&p(om(d,a))},Ae=()=>{e("/ranked-match")};if(!l)return o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl",children:"Problem not found"}),o.jsxs("button",{onClick:Tr,className:"mt-4 flex items-center text-[var(--accent)] hover:underline",children:[o.jsx(Ta,{size:16,className:"mr-1"}),"Back to problems"]})]})}),o.jsx(en,{})]})});if(X&&we&&Me){const Q=g&&we===g.uid,ue=Q?be:$e,_t=Q?$e:be;return o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow flex items-center justify-center p-6",children:o.jsxs(M.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"card max-w-2xl w-full mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(Ms,{className:"text-yellow-400 mx-auto mb-4",size:64}),o.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Match ",Q?"Won!":"Completed"]}),o.jsx("p",{className:"text-[var(--text-secondary)]",children:Q?"Congratulations! You won the ranked match.":`${W} won the match.`})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:`p-6 rounded-lg ${Q?"bg-green-500 bg-opacity-20":"bg-[var(--primary)]"}`,children:[o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Your Results"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Tests Passed:"}),o.jsxs("span",{className:"font-medium",children:[((rn=G==null?void 0:G.submissions[(g==null?void 0:g.uid)||""])==null?void 0:rn.testCasesPassed)||0,"/",((si=G==null?void 0:G.submissions[(g==null?void 0:g.uid)||""])==null?void 0:si.totalTestCases)||0]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Submission Time:"}),o.jsx("span",{className:"font-medium",children:G!=null&&G.submissions[(g==null?void 0:g.uid)||""]?Yr(Math.floor((G.submissions[g.uid].submissionTime-G.startTime)/1e3)):"00:00:00"})]}),Q&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Points Earned:"}),o.jsx("span",{className:"font-medium text-green-400",children:"+1 Rank Point"})]}),ue&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Current Rank:"}),o.jsx("span",{className:"font-medium",children:((kc=ue.stats)==null?void 0:kc.rank)||"Unranked"})]})]})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-6 rounded-lg",children:[o.jsxs("h3",{className:"font-bold text-lg mb-2",children:[W,"'s Results"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Tests Passed:"}),o.jsxs("span",{className:"font-medium",children:[((Zr=G==null?void 0:G.submissions[i])==null?void 0:Zr.testCasesPassed)||0,"/",((lo=G==null?void 0:G.submissions[i])==null?void 0:lo.totalTestCases)||0]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Submission Time:"}),o.jsx("span",{className:"font-medium",children:G!=null&&G.submissions[i]?Yr(Math.floor((G.submissions[i].submissionTime-G.startTime)/1e3)):"00:00:00"})]}),!Q&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Points Earned:"}),o.jsx("span",{className:"font-medium text-green-400",children:"+1 Rank Point"})]}),_t&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Current Rank:"}),o.jsx("span",{className:"font-medium",children:((co=_t.stats)==null?void 0:co.rank)||"Unranked"})]})]})]})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg mb-6",children:[o.jsx("h3",{className:"font-bold mb-2",children:"Match Summary"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Problem:"}),o.jsx("span",{className:"font-medium",children:l.title})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Difficulty:"}),o.jsx("span",{className:`font-medium ${l.difficulty==="Easy"?"text-green-400":l.difficulty==="Medium"?"text-yellow-400":"text-red-400"}`,children:l.difficulty})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Winner:"}),o.jsx("span",{className:"font-medium text-yellow-400",children:Q?"You":W})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Reason:"}),o.jsx("span",{className:"font-medium",children:(()=>{var tt,Mt;const Ee=((tt=G==null?void 0:G.submissions[(g==null?void 0:g.uid)||""])==null?void 0:tt.testCasesPassed)||0,Rt=((Mt=G==null?void 0:G.submissions[i])==null?void 0:Mt.testCasesPassed)||0;return Ee!==Rt?Q?"More test cases passed":"Opponent passed more test cases":Q?"Faster submission time":"Opponent had faster submission time"})()})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("button",{onClick:$,className:"btn-secondary flex-1 flex items-center justify-center",children:[o.jsx(Ms,{size:18,className:"mr-2"}),"View Leaderboard"]}),o.jsxs("button",{onClick:Ae,className:"btn-primary flex-1 flex items-center justify-center",children:[o.jsx(Ln,{size:18,className:"mr-2"}),"Find New Match"]})]})]})})]})})}return o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsxs("main",{className:"flex-grow flex flex-col md:flex-row",children:[o.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"w-full md:w-1/2 bg-[var(--secondary)] overflow-y-auto h-screen md:h-[calc(100vh-64px)]",children:[s&&o.jsxs("div",{className:"bg-[var(--accent)] bg-opacity-20 p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ln,{className:"text-[var(--accent)] mr-2",size:20}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Ranked Match"}),o.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:["vs. ",W]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`text-xl font-bold ${N<60?"text-red-400 animate-pulse":""}`,children:ni(N)}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Time Remaining"})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:l.title}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx("span",{className:`text-sm font-medium ${l.difficulty==="Easy"?"text-green-400":l.difficulty==="Medium"?"text-yellow-400":"text-red-400"}`,children:l.difficulty}),o.jsx("span",{className:"mx-2 text-[var(--text-secondary)]",children:""}),o.jsx("div",{className:"flex space-x-1",children:l.tags.map((Q,ue)=>o.jsx("span",{className:"bg-[var(--primary)] text-xs px-2 py-0.5 rounded",children:Q},ue))})]})]}),o.jsx("button",{onClick:Tr,className:"text-[var(--text-secondary)] hover:text-[var(--accent)]",children:o.jsx(Ta,{size:20})})]}),o.jsxs("div",{className:"prose prose-invert max-w-none",children:[o.jsx("div",{className:"whitespace-pre-line",children:l.description}),l.examples&&l.examples.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Examples"}),o.jsx("div",{className:"space-y-4",children:l.examples.map((Q,ue)=>o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Input:"})," ",Q.input]}),o.jsxs("div",{className:"mt-1",children:[o.jsx("span",{className:"font-medium",children:"Output:"})," ",Q.output]}),Q.explanation&&o.jsxs("div",{className:"mt-1",children:[o.jsx("span",{className:"font-medium",children:"Explanation:"})," ",Q.explanation]})]},ue))})]}),l.constraints&&l.constraints.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Constraints"}),o.jsx("ul",{className:"list-disc pl-5 space-y-1",children:l.constraints.map((Q,ue)=>o.jsx("li",{children:Q},ue))})]})]}),ie&&o.jsx("div",{className:"mt-6 bg-blue-500 bg-opacity-20 text-blue-400 p-4 rounded-lg",children:o.jsx("p",{children:ie})}),L&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Submission Results"}),k&&o.jsxs("div",{className:"bg-red-500 bg-opacity-20 text-red-400 p-4 rounded-lg mb-4 flex items-center",children:[o.jsx(Ma,{size:20,className:"mr-2"}),o.jsx("span",{children:k})]}),D?o.jsxs("div",{className:"flex items-center justify-center p-6",children:[o.jsx(c_,{className:"animate-spin text-[var(--accent)] mr-3",size:24}),o.jsx("span",{children:"Running tests..."})]}):o.jsx(o.Fragment,{children:_.length>0&&o.jsxs("div",{children:[_.map((Q,ue)=>{var _t;return o.jsx(M9,{result:Q,testCaseIndex:ue,isHidden:((_t=Xr()[ue])==null?void 0:_t.isHidden)||!1},ue)}),o.jsx("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:o.jsx("div",{className:"flex items-center",children:_.every(Q=>Q.status.id===Kt.ACCEPTED)?o.jsxs(o.Fragment,{children:[o.jsx(ur,{className:"text-green-400 mr-2",size:24}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-green-400",children:"All Tests Passed!"}),o.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:["Your solution passed all ",_.length," test cases."]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rn,{className:"text-red-400 mr-2",size:24}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-red-400",children:"Tests Failed"}),o.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:["Your solution passed ",_.filter(Q=>Q.status.id===Kt.ACCEPTED).length," out of ",_.length," test cases."]})]})]})})})]})})]})]})]}),o.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"w-full md:w-1/2 bg-[var(--primary)] h-screen md:h-[calc(100vh-64px)] flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center bg-[var(--secondary)] p-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("select",{value:d,onChange:Jr,className:"bg-[var(--primary)] px-3 py-1 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-[var(--accent)]",children:U9.map(Q=>o.jsx("option",{value:Q.value,children:Q.label},Q.value))}),o.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:[o.jsx("span",{className:"mr-1",children:"Time:"}),o.jsx("span",{className:"font-mono",children:Yr(x)})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{className:"p-2 rounded-full hover:bg-[var(--primary)] text-[var(--text-secondary)] hover:text-[var(--text)]",onClick:ge,title:"Reset code",children:o.jsx(XU,{size:18})}),o.jsx("button",{className:"p-2 rounded-full hover:bg-[var(--primary)] text-[var(--text-secondary)] hover:text-[var(--text)]",onClick:Y,title:"Copy code",children:o.jsx(AU,{size:18})}),o.jsx("button",{className:"p-2 rounded-full hover:bg-[var(--primary)] text-[var(--text-secondary)] hover:text-[var(--text)]",onClick:oe,title:"Download code",children:o.jsx(CU,{size:18})})]})]}),o.jsx("div",{className:"flex-grow overflow-y-auto",style:{position:"relative"},children:o.jsx("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"auto"},children:o.jsx(A9,{value:f,onValueChange:qn,highlight:Q=>um.highlight(Q,um.languages[d]||um.languages.javascript,d||"javascript"),padding:16,style:{fontFamily:'"Fira Code", "Menlo", monospace',fontSize:14,backgroundColor:"#1a1a2e",minHeight:"100%",height:"auto",width:"100%",overflow:"visible"},className:"w-full",textareaClassName:"w-full overflow-y-auto"})})}),o.jsxs("div",{className:"bg-[var(--secondary)] p-3 flex justify-between items-center",children:[o.jsx("button",{onClick:()=>j(!E),className:"px-3 py-1 rounded-md text-sm text-[var(--text-secondary)] hover:text-[var(--text)]",children:E?"Pause Timer":"Resume Timer"}),o.jsx("button",{onClick:ri,disabled:D||ee==="completed",className:`flex items-center bg-[var(--accent)] hover:bg-opacity-90 text-white px-4 py-2 rounded-md ${D||ee==="completed"?"opacity-70 cursor-not-allowed":""}`,children:D?o.jsxs(o.Fragment,{children:[o.jsx(c_,{size:16,className:"mr-2 animate-spin"}),"Submitting..."]}):ee==="completed"?o.jsxs(o.Fragment,{children:[o.jsx(ur,{size:16,className:"mr-1"}),"Submitted"]}):o.jsxs(o.Fragment,{children:[o.jsx(JU,{size:16,className:"mr-1"}),"Submit"]})})]})]})]})]})})},z9=()=>{const t=new Date,n=(t.getFullYear()*1e4+(t.getMonth()+1)*100+t.getDate())%$t.length;return $t[n]||$t[0]},$9=[{name:"Alex Chen",time:"05:42",rank:1},{name:"Maria Rodriguez",time:"06:13",rank:2},{name:"Jordan Lee",time:"07:01",rank:3}],q9=({isVisible:t})=>t?o.jsx("div",{className:"fixed inset-0 z-50 pointer-events-none",children:Array.from({length:100}).map((e,n)=>o.jsx(M.div,{className:"absolute w-2 h-2 rounded-full",initial:{top:"-10%",left:`${Math.random()*100}%`,backgroundColor:["#f45b69","#00d4ff","#FFD700","#FF69B4","#00FF00","#1E90FF","#FF4500","#9370DB","#00FFFF"][Math.floor(Math.random()*9)]},animate:{top:"110%",left:[`${Math.random()*100}%`,`${Math.random()*100}%`,`${Math.random()*100}%`],rotate:Math.random()*360},transition:{duration:2.5+Math.random()*2.5,ease:"easeOut"},style:{width:`${Math.random()*8+2}px`,height:`${Math.random()*8+2}px`}},n))}):null,H9=()=>{Bn();const[t,e]=A.useState(z9()),[n,r]=A.useState(!1),[s,i]=A.useState(!1),[a,l]=A.useState(0),[c,d]=A.useState({hours:0,minutes:0,seconds:0}),[h,f]=A.useState(!1),[p,x]=A.useState(0),[b,E]=A.useState([]),[j,T]=A.useState(0),[v,g]=A.useState(!1),[S,D]=A.useState(!1),[C,_]=A.useState(!1),w=A.useRef(null),k=R=>{switch(R){case"Easy":return"text-green-400";case"Medium":return"text-yellow-400";case"Hard":return"text-red-400";default:return"text-[var(--text)]"}};A.useEffect(()=>{const R=()=>{const re=new Date,ee=new Date(re);ee.setDate(ee.getDate()+1),ee.setHours(0,0,0,0);const H=ee.getTime()-re.getTime(),G=Math.floor(H/(1e3*60*60)),V=Math.floor(H%(1e3*60*60)/(1e3*60)),W=Math.floor(H%(1e3*60)/1e3);d({hours:G,minutes:V,seconds:W})};R();const N=setInterval(R,1e3);return()=>clearInterval(N)},[]),A.useEffect(()=>{const R=Array.from({length:30}).map(()=>({x:Math.random()*100,y:Math.random()*100,size:Math.random()*4+2,color:["#f45b69","#00d4ff","#FFD700"][Math.floor(Math.random()*3)],speed:Math.random()*2+.5}));E(R)},[]);const P=R=>{if(!n){if(x(N=>N+1),w.current){const N=w.current.getBoundingClientRect(),re=(R.clientX-N.left)/N.width*100,ee=(R.clientY-N.top)/N.height*100,H=[...b];for(let G=0;G<5;G++)H.push({x:re,y:ee,size:Math.random()*6+3,color:["#f45b69","#00d4ff","#FFD700"][Math.floor(Math.random()*3)],speed:Math.random()*3+1});E(H)}if(i(!0),setTimeout(()=>{i(!1)},700),T(N=>N+(Math.random()*10-5)),a<100){const N=Math.min(25,100-a);l(re=>re+N)}a>=50&&(g(!0),setTimeout(()=>g(!1),800)),a>=75&&setTimeout(()=>{r(!0),f(!0),setTimeout(()=>{f(!1),D(!0)},3e3)},500)}},L=()=>{_(!0),setTimeout(()=>{D(!1)},1e3)};return t?o.jsxs(wt,{children:[o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(M.div,{whileHover:{rotate:360},transition:{duration:.8},children:o.jsx(Ql,{className:"text-[var(--accent)] mr-3",size:28})}),o.jsx("h1",{className:"text-3xl font-bold",children:"Question of the Day"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsx("div",{className:"md:col-span-2 space-y-6",children:o.jsx(M.div,{className:"card relative overflow-hidden",whileHover:{scale:1.01},transition:{duration:.3},children:o.jsx(an,{mode:"wait",children:n?S&&!C?o.jsxs(M.div,{className:"flex flex-col items-center justify-center py-12",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.5,type:"spring",stiffness:200,damping:20},children:[o.jsx(M.div,{className:"w-32 h-32 rounded-full bg-gradient-to-br from-yellow-400 to-amber-600 flex items-center justify-center mb-6",animate:{scale:[1,1.1,1],rotate:[0,10,-10,10,0],boxShadow:["0 0 20px rgba(251, 191, 36, 0.3)","0 0 40px rgba(251, 191, 36, 0.6)","0 0 20px rgba(251, 191, 36, 0.3)"]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:o.jsx(OU,{size:64,className:"text-white"})}),o.jsx(M.h2,{className:"text-2xl font-bold mb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:"Daily Reward Unlocked!"}),o.jsx(M.p,{className:"text-[var(--text-secondary)] mb-6 text-center max-w-md",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"You've opened today's challenge. Solve this problem to earn even more rewards!"}),o.jsxs(M.button,{className:"btn-primary flex items-center",onClick:L,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(Tc,{size:18,className:"mr-2"}),"Collect Reward"]})]},"reward"):o.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[o.jsx("div",{className:"flex justify-between items-start mb-4",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(oN,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h2",{className:"text-2xl font-bold",children:t.title})]}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx("span",{className:`text-sm font-medium ${k(t.difficulty)}`,children:t.difficulty}),o.jsx("span",{className:"text-[var(--text-secondary)] mx-2",children:""}),o.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})}),o.jsxs("div",{className:"prose prose-invert max-w-none",children:[o.jsx("div",{className:"whitespace-pre-line",children:t.description}),t.examples.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Examples"}),o.jsx("div",{className:"space-y-4",children:t.examples.map((R,N)=>o.jsxs(M.div,{className:"bg-[var(--primary)] p-4 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+N*.1},children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Input:"})," ",R.input]}),o.jsxs("div",{className:"mt-1",children:[o.jsx("span",{className:"font-medium",children:"Output:"})," ",R.output]}),R.explanation&&o.jsxs("div",{className:"mt-1",children:[o.jsx("span",{className:"font-medium",children:"Explanation:"})," ",R.explanation]})]},N))})]}),t.constraints.length>0&&o.jsxs(M.div,{className:"mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[o.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Constraints"}),o.jsx("ul",{className:"list-disc pl-5 space-y-1",children:t.constraints.map((R,N)=>o.jsx("li",{children:R},N))})]})]}),o.jsx(M.div,{className:"mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:o.jsxs(Pe,{to:`/code/${t.id}`,className:"btn-primary flex items-center justify-center w-full py-3 group",children:["Take on the Challenge",o.jsx(Gd,{size:18,className:"ml-1 group-hover:translate-x-1 transition-transform"})]})})]},"question"):o.jsxs(M.div,{className:"flex flex-col items-center justify-center py-10",initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[o.jsxs(M.div,{className:"relative mb-8 cursor-pointer",onClick:P,ref:w,children:[o.jsxs(M.div,{className:"w-48 h-48 bg-gradient-to-br from-[var(--accent)] to-[var(--accent-secondary)] rounded-xl shadow-xl flex items-center justify-center relative overflow-hidden",animate:{rotate:j,boxShadow:v?"0 0 30px rgba(244, 91, 105, 0.6)":"0 0 15px rgba(244, 91, 105, 0.3)"},transition:{duration:.5},children:[o.jsx(M.div,{animate:s?{x:[0,-10,10,-10,10,0],y:[0,-5,5,-5,5,0],transition:{duration:.7}}:{},children:o.jsx(QU,{size:80,className:"text-white"})}),b.map((R,N)=>o.jsx(M.div,{className:"absolute rounded-full",animate:{x:[`${R.x}%`,`${R.x+(Math.random()*40-20)}%`],y:[`${R.y}%`,`${R.y+(Math.random()*40-20)}%`],opacity:[.7,0]},transition:{duration:R.speed,ease:"linear",repeat:1/0,repeatType:"reverse"},style:{width:R.size,height:R.size,backgroundColor:R.color}},N)),a>0&&o.jsx(M.div,{className:"absolute top-0 left-0 right-0 bottom-0 bg-white/10 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:a/200},transition:{duration:.5}})]}),o.jsx(M.div,{className:"absolute -inset-2 bg-[var(--accent)] rounded-xl opacity-30 blur-lg",animate:{opacity:v?[.3,.6,.3]:.3,scale:v?[1,1.1,1]:1},transition:{duration:.8}})]}),o.jsx(M.h2,{className:"text-2xl font-bold mb-4",animate:{scale:p%5===0&&p>0?[1,1.1,1]:1},transition:{duration:.5},children:"Today's Coding Challenge"}),o.jsx("div",{className:"w-full max-w-md bg-[var(--primary)] h-4 rounded-full overflow-hidden",children:o.jsx(M.div,{className:"h-full bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5}})}),o.jsx(M.p,{className:"mt-4 text-[var(--text-secondary)]",animate:{opacity:[.7,1,.7],y:[0,-2,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:a===0?"Click the box to reveal today's challenge!":a<50?"Keep clicking to open the box!":a<100?"Almost there!":"Revealing challenge..."})]},"unopened-box")})})}),o.jsxs("div",{className:"md:col-span-1 space-y-6",children:[o.jsxs(M.div,{className:"card",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5},whileHover:{scale:1.02},children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Wh,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold",children:"Time Remaining"})]}),o.jsxs("div",{className:"bg-[var(--primary)] rounded-lg p-4 text-center",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[o.jsxs(M.div,{className:"relative overflow-hidden",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:15},children:[o.jsx("div",{className:"text-3xl font-bold text-[var(--accent)]",children:c.hours.toString().padStart(2,"0")}),o.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:"Hours"})]},c.hours),o.jsxs(M.div,{className:"relative overflow-hidden",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:15,delay:.1},children:[o.jsx("div",{className:"text-3xl font-bold text-[var(--accent)]",children:c.minutes.toString().padStart(2,"0")}),o.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:"Minutes"})]},c.minutes),o.jsxs(M.div,{className:"relative overflow-hidden",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:15,delay:.2},children:[o.jsx("div",{className:"text-3xl font-bold text-[var(--accent)]",children:c.seconds.toString().padStart(2,"0")}),o.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:"Seconds"})]},c.seconds)]}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:"Until the next question of the day"})]})]}),o.jsxs(M.div,{className:"card",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Ni,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold",children:"Yesterday's Winners"})]}),o.jsx("div",{className:"space-y-3",children:$9.map((R,N)=>o.jsxs(M.div,{className:"flex items-center p-3 bg-[var(--primary)] rounded-lg",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3+N*.1},whileHover:{x:5,backgroundColor:"rgba(30, 30, 60, 0.8)",transition:{duration:.2}},children:[o.jsx(M.div,{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 ${N===0?"bg-yellow-500 bg-opacity-20 text-yellow-500":N===1?"bg-gray-400 bg-opacity-20 text-gray-400":N===2?"bg-amber-700 bg-opacity-20 text-amber-700":"bg-gray-700"}`,whileHover:{scale:1.1,rotate:10},children:N+1}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("div",{className:"font-medium",children:R.name}),o.jsxs("div",{className:"text-xs text-[var(--text-secondary)]",children:["Solved in ",R.time]})]})]},N))})]}),o.jsxs(M.div,{className:"card text-center",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},whileHover:{scale:1.02},children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Your QotD Streak"}),o.jsx(M.div,{className:"text-5xl font-bold text-[var(--accent)] mb-2",animate:{scale:[1,1.1,1],textShadow:["0 0 0px rgba(244, 91, 105, 0)","0 0 10px rgba(244, 91, 105, 0.5)","0 0 0px rgba(244, 91, 105, 0)"]},transition:{duration:2,repeat:1/0},children:"0"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Solve today's question to start your streak!"}),o.jsxs(M.div,{className:"mt-4 pt-4 border-t border-gray-700",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Next Reward:"}),o.jsxs("span",{className:"flex items-center text-yellow-400",children:[o.jsx(o9,{size:16,className:"mr-1"}),"+50 XP"]})]}),o.jsx("div",{className:"w-full bg-[var(--primary)] h-2 rounded-full mt-2 overflow-hidden",children:o.jsx(M.div,{className:"h-full bg-yellow-400",initial:{width:"0%"},animate:{width:"10%"},transition:{duration:1}})}),o.jsx("p",{className:"mt-2 text-xs text-[var(--text-secondary)]",children:"3 days streak: unlock special badge"})]})]})]})]})]})})}),o.jsx(en,{})]}),o.jsx(q9,{isVisible:h}),o.jsx(an,{children:n&&C&&o.jsx(M.div,{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:o.jsxs(M.div,{className:"bg-gradient-to-br from-[var(--secondary)] to-[#1a1a3e] rounded-xl p-6 max-w-sm w-full text-center relative overflow-hidden",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3,type:"spring",stiffness:300,damping:25},children:[o.jsx(M.div,{className:"absolute inset-0 pointer-events-none z-0",animate:{background:["radial-gradient(circle at 50% 50%, rgba(244, 91, 105, 0.1) 0%, rgba(26, 26, 46, 0) 70%)","radial-gradient(circle at 50% 50%, rgba(244, 91, 105, 0.2) 0%, rgba(26, 26, 46, 0) 70%)","radial-gradient(circle at 50% 50%, rgba(244, 91, 105, 0.1) 0%, rgba(26, 26, 46, 0) 70%)"]},transition:{duration:3,repeat:1/0}}),o.jsx("button",{onClick:()=>_(!1),className:"absolute top-4 right-4 text-[var(--text-secondary)] hover:text-white z-10",children:o.jsx(Rn,{size:20})}),o.jsx(M.div,{className:"mb-4 relative z-10",initial:{scale:0},animate:{scale:1,rotate:[0,10,-10,0]},transition:{type:"spring",stiffness:300,damping:10,delay:.2},children:o.jsx(gi,{size:64,className:"mx-auto text-green-500"})}),o.jsx(M.h2,{className:"text-2xl font-bold mb-2 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:"Reward Collected!"}),o.jsxs(M.p,{className:"text-[var(--text-secondary)] mb-6 relative z-10",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:["You've opened today's challenge.",o.jsx("br",{}),"Solve the problem to earn even more rewards!"]}),o.jsx(M.div,{className:"relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:o.jsxs(Pe,{to:`/code/${t.id}`,className:"btn-primary w-full flex items-center justify-center group",children:[o.jsx(gv,{size:18,className:"mr-2 group-hover:translate-x-1 transition-transform"}),"Start Coding Now"]})})]})})})]}):o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl",children:"No question available for today"}),o.jsxs(Pe,{to:"/code",className:"mt-4 flex items-center text-[var(--accent)] hover:underline justify-center",children:[o.jsx("span",{children:"Browse all problems"}),o.jsx(Gd,{size:16,className:"ml-1"})]})]})}),o.jsx(en,{})]})})},W9=({userId:t})=>{const{currentUser:e}=Bn(),[n,r]=A.useState(!0),[s,i]=A.useState(null),a=t||(e==null?void 0:e.uid);A.useEffect(()=>{(async()=>{if(!a){r(!1);return}try{r(!0);const{data:E,error:j}=await on(a);if(j){console.error("Error fetching user stats:",j);return}E&&(console.log("Retrieved user stats:",E.stats),i(E.stats))}catch(E){console.error("Failed to fetch user stats:",E)}finally{r(!1)}})()},[a]);const l=b=>{switch(b){case"Diamond":return{icon:"",color:"from-blue-500 to-purple-500",progress:100};case"Platinum":return{icon:"",color:"from-cyan-400 to-blue-400",progress:80};case"Gold":return{icon:"",color:"from-yellow-600 to-yellow-400",progress:60};case"Silver":return{icon:"",color:"from-gray-400 to-gray-300",progress:30};case"Bronze":return{icon:"",color:"from-amber-700 to-amber-500",progress:0};default:return{icon:"",color:"from-blue-600 to-blue-400",progress:0}}},c=b=>b>=100?{nextRank:"Master",currentProgress:100,required:100}:b>=80?{nextRank:"Diamond",currentProgress:b-80,required:20}:b>=60?{nextRank:"Platinum",currentProgress:b-60,required:20}:b>=30?{nextRank:"Gold",currentProgress:b-30,required:30}:b>0?{nextRank:"Silver",currentProgress:b,required:30}:{nextRank:"Bronze",currentProgress:0,required:1};if(n)return o.jsxs("div",{className:"card text-center p-6",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-[var(--accent)] border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-3 text-sm text-[var(--text-secondary)]",children:"Loading rank information..."})]});if(!s)return o.jsx("div",{className:"card text-center p-6",children:o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"No rank information available"})});const d=s.totalRankPoints||0;let h=s.rank||"Unranked";h==="Unranked"&&d>0&&(d>=100?h="Diamond":d>=80?h="Platinum":d>=60?h="Gold":d>=30?h="Silver":h="Bronze");const f=l(h),p=c(d),x=Math.min(100,Math.round(p.currentProgress/p.required*100));return o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Current Rank"}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:`w-24 h-24 rounded-full mx-auto flex items-center justify-center mb-3 bg-gradient-to-br ${f.color}`,children:o.jsx("span",{className:"text-4xl",children:f.icon})}),o.jsx("p",{className:"text-xl font-bold",children:h}),o.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:[d," Rank Points"]})]}),h!=="Diamond"&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsxs("span",{children:[x,"% to ",p.nextRank]}),o.jsxs("span",{children:[p.currentProgress,"/",p.required," points"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)] h-2 rounded-full",style:{width:`${x}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[o.jsxs("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-[var(--accent)]",children:s.rankWins||0}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:"Matches Won"})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:[o.jsxs("p",{className:"text-2xl font-bold text-[var(--accent)]",children:[s.rankMatches>0?Math.round(s.rankWins/s.rankMatches*100):0,"%"]}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:"Win Rate"})]})]})]})},G9=({match:t,currentUserId:e})=>{const[n,r]=A.useState("Opponent"),[s,i]=A.useState(!0),a=t.winner===e,l=h=>{const f=new Date(h);return f.toLocaleDateString()+" "+f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};A.useEffect(()=>{(async()=>{try{const f=t.player1===e?t.player2:t.player1,{data:p}=await on(f);p&&r(p.name||p.coderName||f.substring(0,8))}catch(f){console.error("Failed to load opponent details:",f)}finally{i(!1)}})()},[t,e]);const d=(()=>{const h=t.submissions[e],f=t.player1===e?t.player2:t.player1,p=t.submissions[f];return!h||!p?{userTestsPassed:0,userTotal:0,opponentTestsPassed:0,opponentTotal:0}:{userTestsPassed:h.testCasesPassed,userTotal:h.totalTestCases,opponentTestsPassed:p.testCasesPassed,opponentTotal:p.totalTestCases}})();return o.jsx("div",{className:`p-4 rounded-lg ${a?"bg-green-500 bg-opacity-10 border border-green-500":"bg-[var(--primary)]"}`,children:s?o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-[var(--accent)] rounded-full border-t-transparent"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ln,{size:16,className:"text-[var(--accent)] mr-2"}),o.jsxs("span",{className:"text-sm font-medium",children:["Match vs. ",n]})]}),o.jsxs("div",{className:"flex items-center",children:[a?o.jsx(ur,{size:16,className:"text-green-400 mr-1"}):o.jsx(Rn,{size:16,className:"text-red-400 mr-1"}),o.jsx("span",{className:`text-xs ${a?"text-green-400":"text-red-400"}`,children:a?"Victory":"Defeat"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Your Score:"}),o.jsxs("span",{className:"ml-1 font-medium",children:[d.userTestsPassed,"/",d.userTotal]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Opponent:"}),o.jsxs("span",{className:"ml-1 font-medium",children:[d.opponentTestsPassed,"/",d.opponentTotal]})]})]}),o.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:l(t.startTime)}),a&&o.jsx("div",{className:"mt-1 text-xs text-green-400",children:"+1 Rank Point"})]})})},K9=()=>{const{currentUser:t}=Bn(),e=Qs(),[n,r]=A.useState(!1),[s,i]=A.useState("idle"),[a,l]=A.useState(0),[c,d]=A.useState(null),[h,f]=A.useState(null),[p,x]=A.useState([]),[b,E]=A.useState(!0),[j,T]=A.useState(null),[v,g]=A.useState("boy1"),[S,D]=A.useState(null),[C,_]=A.useState(null),[w,k]=A.useState(["Player 1","Player 2","Player 3"]),[P,L]=A.useState(!1);A.useEffect(()=>()=>{C&&(console.log("Cleaning up match listener on unmount"),C())},[C]),A.useEffect(()=>{t&&on(t.uid).then(({data:H})=>{H&&(T(H.stats),g(H.selectedAvatar||"boy1"))})},[t]),A.useEffect(()=>{t&&(E(!0),F9(t.uid).then(H=>{x(H),E(!1)}))},[t]),A.useEffect(()=>{let H=null;if(s==="searching"){H=setInterval(()=>{l(V=>V+1)},1e3);const G=setInterval(()=>{L(!1),setTimeout(()=>{k(V=>{const W=[...V],Z=W.shift();return Z&&W.push(Z),W}),L(!0)},500)},3e3);return()=>{H&&clearInterval(H),clearInterval(G)}}else H&&clearInterval(H);return()=>{H&&clearInterval(H)}},[s]);const R=H=>{console.log("Match found!",H),i("found"),d(H.id);const G=H.player1===(t==null?void 0:t.uid)?H.player2:H.player1;D(G),setTimeout(()=>{e(`/code/${H.problemId}`,{state:{matchId:H.id,isRankedMatch:!0,opponent:G}})},1e3)},N=async()=>{if(!t){f("You must be logged in to join ranked matches");return}try{r(!0),f(null),C&&(C(),_(null));const H=await L9(t.uid);if(H==="waiting"){i("searching");const G=v_(t.uid,R,V=>{console.log("Match updated:",V)});_(()=>G)}else{const G=await fetch(`/api/matches/${H}`).then(V=>V.json()).catch(()=>null);if(G)R(G);else{i("searching");const V=v_(t.uid,R,W=>{console.log("Match updated:",W)});_(()=>V)}}}catch(H){console.error("Error joining matchmaking:",H),f(H.message||"Failed to join matchmaking"),i("idle")}finally{r(!1)}},re=async()=>{if(t)try{await V9(t.uid),i("idle"),l(0),C&&(C(),_(null))}catch(H){console.error("Error canceling matchmaking:",H),f(H.message||"Failed to cancel matchmaking")}},ee=H=>{const G=Math.floor(H/60),V=H%60;return`${G}:${V.toString().padStart(2,"0")}`};return t?o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(Ln,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Ranked Matches"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsxs("div",{className:"lg:col-span-9 space-y-8",children:[o.jsx(M.div,{className:"card overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:s==="idle"?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Challenge another coder"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"Compete in a 1v1 coding challenge against another player. Solve problems faster and more accurately to win the match and increase your rank."}),o.jsx("div",{className:"bg-[var(--primary)] p-6 rounded-lg mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[o.jsxs("div",{className:"mb-4 sm:mb-0",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[o.jsx(Ms,{className:"text-[var(--accent)] mr-2",size:20}),"Ranked Match Rules"]}),o.jsxs("ul",{className:"mt-3 text-sm text-[var(--text-secondary)] space-y-2 list-disc pl-5",children:[o.jsx("li",{children:"Both players receive the same problem to solve"}),o.jsx("li",{children:"The winner is determined by test cases passed and submission time"}),o.jsx("li",{children:"Win to earn rank points and climb the leaderboard"}),o.jsx("li",{children:"You have 10 minutes to solve the problem"})]})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-2",children:"Win Reward"}),o.jsxs("div",{className:"flex items-center gap-2 bg-[var(--secondary)] px-3 py-1 rounded-lg",children:[o.jsx(Ms,{className:"text-yellow-400",size:16}),o.jsx("span",{className:"text-yellow-400 font-medium",children:"+1 Rank Point"})]})]})]})}),h&&o.jsxs("div",{className:"bg-red-500 bg-opacity-20 text-red-400 p-4 rounded-lg mb-6 flex items-center",children:[o.jsx(Ma,{size:20,className:"mr-2"}),o.jsx("span",{children:h})]}),o.jsx(M.button,{className:"btn-primary w-full py-4 text-lg font-bold flex items-center justify-center",onClick:N,disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},children:n?o.jsxs(o.Fragment,{children:[o.jsx(M.div,{className:"h-5 w-5 border-2 border-t-transparent rounded-full mr-3",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"Joining Queue..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ln,{size:20,className:"mr-2"}),"Find Match Now"]})})]}):s==="searching"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Searching for opponent..."}),o.jsx(M.div,{className:"text-xl font-bold text-[var(--accent)]",animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},children:ee(a)})]}),o.jsxs(M.div,{className:"relative h-40 my-8 bg-[var(--primary)] rounded-lg overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:[...Array(20)].map((H,G)=>o.jsx(M.div,{className:"absolute rounded-full bg-[var(--accent)]",style:{width:Math.random()*6+2,height:Math.random()*6+2,opacity:Math.random()*.5+.1,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`},animate:{top:[`${Math.random()*100}%`,`${Math.random()*100}%`,`${Math.random()*100}%`],left:[`${Math.random()*100}%`,`${Math.random()*100}%`,`${Math.random()*100}%`]},transition:{duration:10+Math.random()*20,repeat:1/0,ease:"linear"}},G))}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx(Da,{type:v,size:80,interval:1e3}),o.jsx(M.div,{className:"absolute w-36 h-36 rounded-full border-2 border-dashed border-[var(--accent)]",animate:{rotate:360},transition:{duration:16,repeat:1/0,ease:"linear"}}),o.jsx(M.div,{className:"absolute w-48 h-48 rounded-full border-2 border-dashed border-[var(--accent-secondary)]",animate:{rotate:-360},transition:{duration:25,repeat:1/0,ease:"linear"}}),o.jsx(an,{mode:"wait",children:P&&o.jsx(M.div,{className:"absolute -top-20 bg-[var(--secondary)] px-4 py-2 rounded-full shadow-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:o.jsxs("span",{className:"text-sm",children:["Checking ",w[0],"..."]})},"searching-players")})]})})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("p",{className:"text-[var(--text-secondary)] mb-4",children:"We're finding the best match for your skill level. This might take a moment..."}),o.jsx(M.div,{className:"h-2 bg-[var(--primary)] rounded-full overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:o.jsx(M.div,{className:"h-full bg-[var(--accent)]",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:15,repeat:1/0}})})]}),o.jsxs(M.button,{className:"btn-secondary w-full py-4 text-lg font-bold flex items-center justify-center",onClick:re,whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(s9,{size:20,className:"mr-2"}),"Cancel Search"]})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:"mb-6",children:o.jsx(Ln,{size:60,className:"mx-auto text-[var(--accent)]"})}),o.jsx(M.h2,{className:"text-3xl font-bold mb-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:"Match Found!"}),o.jsx(M.p,{className:"text-[var(--text-secondary)] mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"Preparing your coding challenge..."}),o.jsx(M.div,{className:"h-2 bg-[var(--primary)] rounded-full overflow-hidden max-w-md mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:o.jsx(M.div,{className:"h-full bg-[var(--accent)]",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2}})})]})})}),o.jsxs(M.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Recent Matches"}),o.jsx("button",{className:"text-sm text-[var(--accent)] hover:text-[var(--accent-hover)]",children:"View All"})]}),b?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(M.div,{className:"w-10 h-10 border-2 border-[var(--accent)] border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):p.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:p.map(H=>o.jsx(G9,{match:H,currentUserId:(t==null?void 0:t.uid)||""},H.id))}):o.jsxs("div",{className:"bg-[var(--primary)] p-6 rounded-lg text-center",children:[o.jsx("p",{className:"text-[var(--text-secondary)]",children:"No recent matches"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-2",children:"Complete your first ranked match to see your history."})]})]})]}),o.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[o.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:o.jsx(W9,{})}),o.jsxs(M.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Stats"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Matches"}),o.jsx("span",{className:"font-medium",children:(j==null?void 0:j.rankMatches)||0})]})}),o.jsx("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Wins"}),o.jsx("span",{className:"font-medium",children:(j==null?void 0:j.rankWins)||0})]})}),o.jsx("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Win Rate"}),o.jsxs("span",{className:"font-medium",children:[(j==null?void 0:j.rankMatches)>0?Math.round(j.rankWins/j.rankMatches*100):0,"%"]})]})}),o.jsx("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Rank Points"}),o.jsx("span",{className:"font-medium text-[var(--accent)]",children:(j==null?void 0:j.totalRankPoints)||0})]})})]})]}),o.jsxs(M.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Tips"}),o.jsxs("div",{className:"space-y-3 text-sm text-[var(--text-secondary)]",children:[o.jsx("p",{children:" Speed matters! Ties are broken by submission time."}),o.jsx("p",{children:" Make sure your solution passes all test cases."}),o.jsx("p",{children:" Consistent wins will help you climb ranks faster."}),o.jsx("p",{children:" Reach Diamond rank to join exclusive tournaments."})]})]})]})]})]})})}),o.jsx(en,{})]})}):o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs("div",{className:"card text-center p-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sign in to play ranked matches"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"You need to be logged in to participate in ranked matches and earn rank points."}),o.jsx("a",{href:"/login",className:"btn-primary",children:"Sign in"})]})})}),o.jsx(en,{})]})})},Q9={id:"arrays",title:"Arrays",icon:"Code",description:"Learn about arrays, sorting, searching, and manipulation techniques.",difficulty:"Beginner",estimatedTime:"3 hours",problems:24,introduction:"Arrays are one of the most fundamental data structures in computer science. They store elements of the same type in contiguous memory locations, allowing for constant-time access to any element using its index. This topic covers array manipulation, searching, sorting, and common array-based algorithms.",sections:[{title:"Introduction to Arrays",content:`Arrays provide a way to store multiple values of the same type under a single variable name. They are indexed, meaning each element can be accessed directly using its position number. Arrays are fixed in size in many languages, though dynamic arrays (like ArrayList in Java or vector in C++) can grow as needed.

Key characteristics of arrays include:

- Constant-time access (O(1))
- Elements stored in contiguous memory
- Fixed size in many languages
- Efficient iteration
- Can be single or multi-dimensional`,examples:[{language:"JavaScript",code:`// Declaring and initializing an array
const numbers = [1, 2, 3, 4, 5];

// Accessing elements
const firstElement = numbers[0]; // 1
const thirdElement = numbers[2]; // 3

// Modifying elements
numbers[4] = 10; // [1, 2, 3, 4, 10]

// Array length
const length = numbers.length; // 5`}]},{title:"Array Operations",content:`Common operations on arrays include insertion, deletion, searching, and traversal. The time complexity of these operations varies depending on the specific requirements.

- Accessing: O(1)
- Insertion at the end (amortized): O(1)
- Insertion at a specific position: O(n)
- Deletion at the end: O(1)
- Deletion at a specific position: O(n)
- Searching (unsorted array): O(n)
- Searching (sorted array): O(log n) using binary search`,examples:[{language:"JavaScript",code:`// Insertion at the end
numbers.push(6); // [1, 2, 3, 4, 10, 6]

// Insertion at a specific position
numbers.splice(2, 0, 7); // [1, 2, 7, 3, 4, 10, 6]

// Deletion at the end
numbers.pop(); // [1, 2, 7, 3, 4, 10]

// Deletion at a specific position
numbers.splice(3, 1); // [1, 2, 7, 4, 10]

// Searching
const index = numbers.indexOf(7); // 2`}]},{title:"Array Traversal",content:`Traversing an array means visiting each element exactly once. There are several ways to traverse an array:

1. Using a for loop with an index
2. Using a for-of loop (in languages that support it)
3. Using forEach or map methods (in languages with functional programming features)
4. Using iterators`,examples:[{language:"JavaScript",code:`// Using a for loop
for (let i = 0; i < numbers.length; i++) {
  console.log(numbers[i]);
}

// Using for-of loop
for (const num of numbers) {
  console.log(num);
}

// Using forEach
numbers.forEach(num => {
  console.log(num);
});

// Using map to transform each element
const doubled = numbers.map(num => num * 2);`}]},{title:"Common Array Problems",content:`Arrays are used in many classic algorithms and interview problems. Some common array-based problems include:

1. Finding the maximum/minimum element
2. Finding the second largest element
3. Checking if an array is sorted
4. Removing duplicates
5. Finding pairs with a given sum (Two Sum problem)
6. Rotating an array
7. Finding the majority element
8. Kadane's algorithm for maximum subarray sum`,examples:[{language:"JavaScript",code:`// Finding the maximum element
function findMax(arr) {
  let max = arr[0];
  for (let i = 1; i < arr.length; i++) {
    if (arr[i] > max) {
      max = arr[i];
    }
  }
  return max;
}

// Two Sum problem
function twoSum(nums, target) {
  const map = new Map();
  for (let i = 0; i < nums.length; i++) {
    const complement = target - nums[i];
    if (map.has(complement)) {
      return [map.get(complement), i];
    }
    map.set(nums[i], i);
  }
  return [];
}`}]}],practiceProblems:[{id:1,title:"Two Sum",difficulty:"Easy"},{id:11,title:"Maximum Subarray",difficulty:"Easy"},{id:20,title:"Best Time to Buy and Sell Stock",difficulty:"Easy"},{id:13,title:"3Sum",difficulty:"Medium"},{id:6,title:"Container With Most Water",difficulty:"Medium"},{id:21,title:"Rotate Image",difficulty:"Medium"},{id:24,title:"Find First and Last Position of Element in Sorted Array",difficulty:"Medium"},{id:8,title:"Trapping Rain Water",difficulty:"Hard"}]},Y9={id:"binary-trees",title:"Binary Trees",icon:"Layers",description:"Tree traversals, balancing, and common tree operations.",difficulty:"Intermediate",estimatedTime:"6 hours",problems:16,introduction:"Binary trees are hierarchical data structures where each node has at most two children, referred to as the left child and right child. They are used in various applications, including search algorithms, expression parsing, and hierarchical data representation.",sections:[{title:"Binary Tree Fundamentals",content:`A binary tree is composed of nodes, where each node contains a value and references to its left and right children. The topmost node is called the root. Nodes without children are called leaves.

Important terms in binary trees:

- Root: The topmost node
- Parent/Child: Relationship between connected nodes
- Leaf: Node with no children
- Height: Maximum distance from root to any leaf
- Depth: Distance from a node to the root
- Balanced tree: Heights of left and right subtrees differ by at most one`,examples:[{language:"JavaScript",code:`// Binary Tree Node definition
class TreeNode {
  constructor(val) {
    this.val = val;
    this.left = null;
    this.right = null;
  }
}

// Creating a simple binary tree
const root = new TreeNode(1);
root.left = new TreeNode(2);
root.right = new TreeNode(3);
root.left.left = new TreeNode(4);
root.left.right = new TreeNode(5);`}]},{title:"Tree Traversals",content:`Tree traversals are algorithms to visit all nodes in a tree. There are several traversal methods:

1. Depth-First Traversals:
   - Pre-order: Visit root, then left subtree, then right subtree (Root-Left-Right)
   - In-order: Visit left subtree, then root, then right subtree (Left-Root-Right)
   - Post-order: Visit left subtree, then right subtree, then root (Left-Right-Root)

2. Breadth-First Traversal (Level Order):
   - Visit all nodes at the same level before moving to the next level`,examples:[{language:"JavaScript",code:`// Pre-order traversal (Root-Left-Right)
function preorderTraversal(root) {
  if (!root) return [];
  const result = [];
  
  function dfs(node) {
    if (!node) return;
    
    // Root
    result.push(node.val);
    
    // Left
    dfs(node.left);
    
    // Right
    dfs(node.right);
  }
  
  dfs(root);
  return result;
}

// In-order traversal (Left-Root-Right)
function inorderTraversal(root) {
  if (!root) return [];
  const result = [];
  
  function dfs(node) {
    if (!node) return;
    
    // Left
    dfs(node.left);
    
    // Root
    result.push(node.val);
    
    // Right
    dfs(node.right);
  }
  
  dfs(root);
  return result;
}

// Level order traversal (BFS)
function levelOrderTraversal(root) {
  if (!root) return [];
  
  const result = [];
  const queue = [root];
  
  while (queue.length > 0) {
    const level = [];
    const levelSize = queue.length;
    
    for (let i = 0; i < levelSize; i++) {
      const node = queue.shift();
      level.push(node.val);
      
      if (node.left) queue.push(node.left);
      if (node.right) queue.push(node.right);
    }
    
    result.push(level);
  }
  
  return result;
}`}]},{title:"Binary Search Trees (BST)",content:`A Binary Search Tree is a special type of binary tree where:

- The left subtree of a node contains only nodes with keys less than the node's key
- The right subtree of a node contains only nodes with keys greater than the node's key
- Both the left and right subtrees must also be binary search trees

BSTs provide efficient operations for search, insertion, and deletion with an average time complexity of O(log n) when the tree is balanced.`,examples:[{language:"JavaScript",code:`// BST Node definition (same as regular TreeNode)
class TreeNode {
  constructor(val) {
    this.val = val;
    this.left = null;
    this.right = null;
  }
}

// BST Search operation
function search(root, key) {
  // Base cases: root is null or key is present at root
  if (root === null || root.val === key)
    return root;
    
  // Key is greater than root's key
  if (root.val < key)
    return search(root.right, key);
    
  // Key is smaller than root's key
  return search(root.left, key);
}

// BST Insert operation
function insert(root, key) {
  // If the tree is empty, return a new node
  if (root === null) {
    return new TreeNode(key);
  }
  
  // Otherwise, recur down the tree
  if (key < root.val)
    root.left = insert(root.left, key);
  else if (key > root.val)
    root.right = insert(root.right, key);
    
  // Return the (unchanged) node pointer
  return root;
}`}]},{title:"Tree Balancing",content:`In a balanced tree, the height of the left and right subtrees of any node differ by at most 1. This balance ensures O(log n) operations.

When trees become unbalanced, operations can degrade to O(n) time complexity in the worst case. Several self-balancing tree structures exist:

- AVL Trees: Strictly balanced, with rotations after insertion/deletion
- Red-Black Trees: Approximately balanced, used in many language libraries
- B-trees: Used in databases and file systems

Balancing operations typically involve rotations (left rotation, right rotation, or combinations) to redistribute nodes while maintaining the BST property.`,examples:[{language:"JavaScript",code:`// Function to get height of a node
function height(node) {
  if (node === null)
    return 0;
  return Math.max(height(node.left), height(node.right)) + 1;
}

// Get balance factor of a node
function getBalance(node) {
  if (node === null)
    return 0;
  return height(node.left) - height(node.right);
}

// Right rotation
function rightRotate(y) {
  const x = y.left;
  const T2 = x.right;

  // Perform rotation
  x.right = y;
  y.left = T2;

  return x;
}

// Left rotation
function leftRotate(x) {
  const y = x.right;
  const T2 = y.left;

  // Perform rotation
  y.left = x;
  x.right = T2;

  return y;
}`}]}],practiceProblems:[{id:14,title:"Binary Tree Level Order Traversal",difficulty:"Medium"},{id:101,title:"Maximum Depth of Binary Tree",difficulty:"Easy"},{id:102,title:"Symmetric Tree",difficulty:"Easy"},{id:103,title:"Binary Tree Level Order Traversal",difficulty:"Medium"},{id:104,title:"Validate Binary Search Tree",difficulty:"Medium"},{id:105,title:"Binary Tree Maximum Path Sum",difficulty:"Hard"},{id:17,title:"Serialize and Deserialize Binary Tree",difficulty:"Hard"}]},J9={id:"backtracking",title:"Backtracking",icon:"GitBranch",description:"Learn to solve complex problems using backtracking algorithms.",difficulty:"Advanced",estimatedTime:"7 hours",problems:14,introduction:"Backtracking is an algorithmic technique for solving problems recursively by trying to build a solution incrementally, one piece at a time, and abandoning a path as soon as it determines that the path cannot lead to a valid solution. It's particularly useful for constraint satisfaction problems, combinatorial optimization, and puzzles.",sections:[{title:"Introduction to Backtracking",content:`Backtracking is a systematic way to explore all potential solutions to a problem. It follows a depth-first search approach, going as deep as possible along each branch before backtracking.

Key principles of backtracking:

1. **Choose:** Select a candidate for the solution.
2. **Explore:** Recursively search deeper with this choice.
3. **Unchoose:** If the choice doesn't lead to a solution, undo it and try other choices.

Backtracking is more efficient than brute force because it eliminates many candidate solutions without fully exploring them, a technique known as pruning.`,examples:[{language:"JavaScript",code:`// General backtracking template
function backtrack(candidate, choices) {
  // Base case: solution found
  if (isValidSolution(candidate)) {
    return candidate; // or collect the solution
  }
  
  // Try each available choice
  for (const choice of choices) {
    if (isValid(candidate, choice)) {
      // Make a choice
      addToCandidate(candidate, choice);
      
      // Explore further
      const result = backtrack(candidate, remainingChoices(choices, choice));
      if (result) return result; // Solution found
      
      // Backtrack (undo the choice)
      removeFromCandidate(candidate, choice);
    }
  }
  
  // No solution found in this path
  return null;
}`}]},{title:"Classic Backtracking Problems",content:`Backtracking is the algorithm of choice for many classic problems:

1. **N-Queens Problem:** Place N queens on an NN chessboard so that no two queens threaten each other.

2. **Sudoku Solver:** Fill a 99 grid with digits so that each column, row, and 33 section contain all digits from 1 to 9.

3. **Permutations and Combinations:** Generate all possible arrangements or selections from a set.

4. **Subset Sum:** Find a subset of elements that sum to a specific target.

5. **Graph Coloring:** Assign colors to vertices so that no adjacent vertices have the same color.

These problems share the characteristic that making a single choice constrains future choices.`,examples:[{language:"JavaScript",code:`// N-Queens problem
function solveNQueens(n) {
  const result = [];
  const board = Array(n).fill().map(() => Array(n).fill('.'));
  
  function backtrack(row) {
    // Base case: All queens placed
    if (row === n) {
      const solution = board.map(row => row.join(''));
      result.push(solution);
      return;
    }
    
    // Try placing queen in each column of current row
    for (let col = 0; col < n; col++) {
      if (isValid(board, row, col, n)) {
        // Place queen
        board[row][col] = 'Q';
        
        // Move to next row
        backtrack(row + 1);
        
        // Backtrack
        board[row][col] = '.';
      }
    }
  }
  
  // Check if placing a queen at (row, col) is valid
  function isValid(board, row, col, n) {
    // Check column
    for (let i = 0; i < row; i++) {
      if (board[i][col] === 'Q') return false;
    }
    
    // Check upper-left diagonal
    for (let i = row - 1, j = col - 1; i >= 0 && j >= 0; i--, j--) {
      if (board[i][j] === 'Q') return false;
    }
    
    // Check upper-right diagonal
    for (let i = row - 1, j = col + 1; i >= 0 && j < n; i--, j++) {
      if (board[i][j] === 'Q') return false;
    }
    
    return true;
  }
  
  backtrack(0);
  return result;
}`}]},{title:"Optimization Techniques",content:`Several techniques can improve backtracking efficiency:

1. **Early Pruning:** Determine as early as possible if a partial solution cannot lead to a valid solution.

2. **Ordering Heuristics:** Try the most promising choices first based on some heuristic.

3. **Constraint Propagation:** After making a choice, deduce and apply additional constraints to reduce the search space.

4. **Symmetry Breaking:** Avoid exploring symmetric solutions that are essentially the same.

5. **Bit Manipulation:** Use bits to represent state for faster operations in certain problems.

These optimizations can dramatically reduce the effective search space.`,examples:[{language:"JavaScript",code:`// Sudoku solver with constraint propagation
function solveSudoku(board) {
  // Find empty cell
  function findEmpty() {
    for (let i = 0; i < 9; i++) {
      for (let j = 0; j < 9; j++) {
        if (board[i][j] === '.') {
          return [i, j];
        }
      }
    }
    return null; // No empty cell
  }
  
  // Check if number can be placed in cell
  function isValid(row, col, num) {
    // Check row
    for (let j = 0; j < 9; j++) {
      if (board[row][j] === num) return false;
    }
    
    // Check column
    for (let i = 0; i < 9; i++) {
      if (board[i][col] === num) return false;
    }
    
    // Check 3x3 box
    const boxRow = Math.floor(row / 3) * 3;
    const boxCol = Math.floor(col / 3) * 3;
    
    for (let i = 0; i < 3; i++) {
      for (let j = 0; j < 3; j++) {
        if (board[boxRow + i][boxCol + j] === num) return false;
      }
    }
    
    return true;
  }
  
  // Backtracking function
  function solve() {
    const empty = findEmpty();
    if (!empty) return true; // No empty cell means solved
    
    const [row, col] = empty;
    
    // Try digits 1-9
    for (let num = 1; num <= 9; num++) {
      const strNum = String(num);
      
      // Early pruning: check if valid before placing
      if (isValid(row, col, strNum)) {
        // Make a choice
        board[row][col] = strNum;
        
        // Recursively try to solve rest of board
        if (solve()) {
          return true;
        }
        
        // Backtrack
        board[row][col] = '.';
      }
    }
    
    // No solution found with current configuration
    return false;
  }
  
  solve();
  return board;
}`}]},{title:"Backtracking vs. Dynamic Programming",content:`While both backtracking and dynamic programming (DP) use recursive problem-solving, they apply to different problem types:

**Backtracking:**
- Used when we need to find all (or any) solutions to a problem
- Typically explores the entire solution space (though with pruning)
- Works well for constraint satisfaction and combinatorial problems
- Usually has exponential time complexity

**Dynamic Programming:**
- Used when we need to find an optimal solution and there are overlapping subproblems
- Stores and reuses solutions to subproblems
- Works well for optimization problems
- Usually has polynomial time complexity

Some problems can be solved with either approach, but certain characteristics make one more suitable than the other.`,examples:[{language:"JavaScript",code:`// Subset Sum problem: Backtracking approach
function subsetSumBacktracking(nums, target) {
  const result = [];
  
  function backtrack(start, sum, current) {
    // Found a valid subset
    if (sum === target) {
      result.push([...current]);
      return;
    }
    
    // Sum exceeded target or reached end of array
    if (sum > target || start >= nums.length) return;
    
    for (let i = start; i < nums.length; i++) {
      // Skip duplicates in sorted array
      if (i > start && nums[i] === nums[i-1]) continue;
      
      current.push(nums[i]);
      backtrack(i + 1, sum + nums[i], current);
      current.pop();
    }
  }
  
  nums.sort((a, b) => a - b); // Sort for duplicate handling
  backtrack(0, 0, []);
  return result;
}

// Subset Sum problem: Dynamic Programming approach
function subsetSumDP(nums, target) {
  const dp = Array(target + 1).fill(false);
  dp[0] = true; // Empty set sums to 0
  
  for (const num of nums) {
    for (let i = target; i >= num; i--) {
      dp[i] = dp[i] || dp[i - num];
    }
  }
  
  return dp[target]; // Whether a subset exists that sums to target
}`}]}],practiceProblems:[{id:15,title:"Word Search",difficulty:"Medium"},{id:26,title:"Permutations",difficulty:"Medium"},{id:28,title:"Palindrome Partitioning",difficulty:"Medium"},{id:30,title:"N-Queens",difficulty:"Hard"},{id:17,title:"Serialize and Deserialize Binary Tree",difficulty:"Hard"}]},X9={id:"dynamic-programming",title:"Dynamic Programming",icon:"BarChart2",description:"Master DP concepts like memoization, tabulation, and state transitions.",difficulty:"Advanced",estimatedTime:"8 hours",problems:20,introduction:"Dynamic Programming (DP) is a technique for solving complex problems by breaking them down into simpler subproblems. It's particularly useful when subproblems overlap and have optimal substructure, meaning the optimal solution can be constructed from optimal solutions of its subproblems.",sections:[{title:"Introduction to Dynamic Programming",content:`Dynamic Programming solves complex problems by breaking them down into simpler overlapping subproblems and storing the results to avoid redundant calculations. Two key properties are required for a problem to be solved with DP:

1. Overlapping Subproblems: The same subproblems are solved multiple times
2. Optimal Substructure: The optimal solution to the problem contains optimal solutions to subproblems

DP can significantly improve time complexity from exponential to polynomial for many problems.`,examples:[{language:"JavaScript",code:`// Example of a problem with overlapping subproblems: Fibonacci

// Recursive approach (inefficient)
function fibRecursive(n) {
  if (n <= 1) return n;
  return fibRecursive(n - 1) + fibRecursive(n - 2);
}

// DP approach with memoization
function fibMemoization(n, memo = {}) {
  if (n in memo) return memo[n];
  if (n <= 1) return n;
  
  memo[n] = fibMemoization(n - 1, memo) + fibMemoization(n - 2, memo);
  return memo[n];
}

// DP approach with tabulation
function fibTabulation(n) {
  if (n <= 1) return n;
  
  const dp = new Array(n + 1);
  dp[0] = 0;
  dp[1] = 1;
  
  for (let i = 2; i <= n; i++) {
    dp[i] = dp[i - 1] + dp[i - 2];
  }
  
  return dp[n];
}`}]},{title:"DP Approaches: Memoization vs. Tabulation",content:`There are two main approaches to implementing dynamic programming:

1. Top-down (Memoization):
   - Start with the original problem and recursively solve subproblems
   - Store results in a cache (usually a hash map or array)
   - Only compute each subproblem once
   - Natural for problems with recursion

2. Bottom-up (Tabulation):
   - Start from the smallest subproblems and work up to the original problem
   - Store results in a table (usually an array)
   - Typically more efficient with memory and eliminates recursion overhead
   - Often requires more careful thinking about the order of computation

Choosing between these approaches depends on the specific problem and constraints.`,examples:[{language:"JavaScript",code:`// Example: Calculating binomial coefficient C(n,k)

// Top-down with memoization
function binomialCoeffMemo(n, k, memo = {}) {
  // Base cases
  if (k === 0 || k === n) return 1;
  if (k > n) return 0;
  
  // Check if already computed
  const key = \`\${n},\${k}\`;
  if (key in memo) return memo[key];
  
  // Recursive calculation with memoization
  memo[key] = binomialCoeffMemo(n - 1, k - 1, memo) + binomialCoeffMemo(n - 1, k, memo);
  return memo[key];
}

// Bottom-up with tabulation
function binomialCoeffTab(n, k) {
  // Create 2D dp table
  const dp = Array(n + 1).fill().map(() => Array(k + 1).fill(0));
  
  // Fill the table in bottom-up manner
  for (let i = 0; i <= n; i++) {
    for (let j = 0; j <= Math.min(i, k); j++) {
      // Base cases
      if (j === 0 || j === i) {
        dp[i][j] = 1;
      } else {
        // Use the recursive formula
        dp[i][j] = dp[i - 1][j - 1] + dp[i - 1][j];
      }
    }
  }
  
  return dp[n][k];
}`}]},{title:"Common DP Patterns",content:`Several patterns appear frequently in DP problems:

1. Linear Sequence DP:
   - 1D array, where dp[i] represents solution for subproblem of size i
   - Examples: Fibonacci, Climbing Stairs

2. Matrix DP:
   - 2D array, where dp[i][j] typically represents solution for subproblem up to position (i,j)
   - Examples: Minimum Path Sum, Unique Paths

3. String DP:
   - Problems involving operations on strings
   - Examples: Longest Common Subsequence, Edit Distance

4. Decision Making DP:
   - Problems requiring decisions at each step
   - Examples: Buy/Sell Stock, House Robber

5. Interval DP:
   - Problems where the state involves intervals
   - Examples: Matrix Chain Multiplication, Burst Balloons`,examples:[{language:"JavaScript",code:`// Linear Sequence DP: Maximum Subarray Sum
function maxSubarraySum(nums) {
  if (nums.length === 0) return 0;
  
  let maxSoFar = nums[0];
  let maxEndingHere = nums[0];
  
  for (let i = 1; i < nums.length; i++) {
    // Either extend previous subarray or start a new one
    maxEndingHere = Math.max(nums[i], maxEndingHere + nums[i]);
    maxSoFar = Math.max(maxSoFar, maxEndingHere);
  }
  
  return maxSoFar;
}

// Matrix DP: Minimum Path Sum
function minPathSum(grid) {
  const m = grid.length;
  const n = grid[0].length;
  const dp = Array(m).fill().map(() => Array(n).fill(0));
  
  // Initialize first cell
  dp[0][0] = grid[0][0];
  
  // Initialize first row
  for (let j = 1; j < n; j++) {
    dp[0][j] = dp[0][j-1] + grid[0][j];
  }
  
  // Initialize first column
  for (let i = 1; i < m; i++) {
    dp[i][0] = dp[i-1][0] + grid[i][0];
  }
  
  // Fill dp table
  for (let i = 1; i < m; i++) {
    for (let j = 1; j < n; j++) {
      dp[i][j] = Math.min(dp[i-1][j], dp[i][j-1]) + grid[i][j];
    }
  }
  
  return dp[m-1][n-1];
}`}]},{title:"State Transition and Optimization",content:`Designing a DP solution involves:

1. Defining the state: What information do we need to represent a subproblem?
2. Establishing the recurrence relation: How do we relate a state to its subproblems?
3. Identifying the base cases: What are the smallest subproblems with known answers?
4. Determining the state transition: How do we iterate through states?
5. Optimizing space (optional): Can we reduce the memory usage?

Space optimization is often possible when the current state only depends on a few previous states.`,examples:[{language:"JavaScript",code:`// Knapsack Problem with space optimization
function knapsack(weights, values, capacity) {
  const n = weights.length;
  
  // Original 2D approach would use dp[n+1][capacity+1]
  // Space-optimized approach only uses 1D array
  const dp = Array(capacity + 1).fill(0);
  
  for (let i = 0; i < n; i++) {
    // We iterate backward to avoid using updated values
    for (let w = capacity; w >= weights[i]; w--) {
      dp[w] = Math.max(dp[w], dp[w - weights[i]] + values[i]);
    }
  }
  
  return dp[capacity];
}

// Longest Increasing Subsequence (LIS)
function lengthOfLIS(nums) {
  if (nums.length === 0) return 0;
  
  const n = nums.length;
  const dp = Array(n).fill(1); // minimum LIS length is 1
  
  for (let i = 1; i < n; i++) {
    for (let j = 0; j < i; j++) {
      if (nums[i] > nums[j]) {
        dp[i] = Math.max(dp[i], dp[j] + 1);
      }
    }
  }
  
  return Math.max(...dp);
}`}]}],practiceProblems:[{id:11,title:"Maximum Subarray",difficulty:"Easy"},{id:12,title:"Climbing Stairs",difficulty:"Easy"},{id:20,title:"Best Time to Buy and Sell Stock",difficulty:"Easy"},{id:23,title:"Jump Game",difficulty:"Medium"},{id:25,title:"Unique Paths",difficulty:"Medium"},{id:27,title:"Minimum Path Sum",difficulty:"Medium"},{id:10,title:"Regular Expression Matching",difficulty:"Hard"}]},Z9={id:"linked-lists",title:"Linked Lists",icon:"ListTree",description:"Master singly and doubly linked lists, and common operations.",difficulty:"Intermediate",estimatedTime:"4 hours",problems:18,introduction:"Linked lists are linear data structures where elements are stored in nodes, and each node points to the next node in the sequence. Unlike arrays, linked lists don't require contiguous memory allocation, making them efficient for insertions and deletions but less efficient for random access.",sections:[{title:"Introduction to Linked Lists",content:`A linked list is a collection of nodes where each node contains data and a reference (or link) to the next node in the sequence. The last node typically points to null, indicating the end of the list.

Types of linked lists:

- Singly Linked List: Each node points to the next node
- Doubly Linked List: Each node has pointers to both next and previous nodes
- Circular Linked List: The last node points back to the first node instead of null

Key characteristics:
- Dynamic size (can grow and shrink at runtime)
- Efficient insertions and deletions (O(1) when position is known)
- Inefficient random access (O(n) worst case)
- No wasted memory allocation`,examples:[{language:"JavaScript",code:`// Singly Linked List Node
class ListNode {
  constructor(val) {
    this.val = val;
    this.next = null;
  }
}

// Creating a simple linked list: 1 -> 2 -> 3 -> 4
const head = new ListNode(1);
head.next = new ListNode(2);
head.next.next = new ListNode(3);
head.next.next.next = new ListNode(4);

// Traversing a linked list
function printList(head) {
  let current = head;
  let result = '';
  
  while (current !== null) {
    result += current.val + ' -> ';
    current = current.next;
  }
  
  result += 'null';
  console.log(result);
}`}]},{title:"Linked List Operations",content:`Common operations on linked lists include:

1. Insertion:
   - At the beginning (head): O(1)
   - At the end (tail): O(1) if tail pointer is maintained, otherwise O(n)
   - At a specific position: O(n) to find position, then O(1) to insert

2. Deletion:
   - From the beginning: O(1)
   - From the end: O(n) for singly linked list, O(1) for doubly linked list with tail pointer
   - From a specific position: O(n) to find position, then O(1) to delete

3. Search: O(n) in the worst case

4. Access: O(n) in the worst case`,examples:[{language:"JavaScript",code:`// Insert at the beginning
function insertAtHead(head, val) {
  const newNode = new ListNode(val);
  newNode.next = head;
  return newNode; // New head
}

// Insert at the end
function insertAtTail(head, val) {
  const newNode = new ListNode(val);
  
  // If the list is empty
  if (head === null) {
    return newNode;
  }
  
  // Traverse to find the last node
  let current = head;
  while (current.next !== null) {
    current = current.next;
  }
  
  // Append the new node
  current.next = newNode;
  return head;
}

// Delete a node with a given value
function deleteNode(head, val) {
  // If head node itself holds the value to be deleted
  if (head !== null && head.val === val) {
    return head.next;
  }
  
  let current = head;
  let prev = null;
  
  // Search for the node to be deleted
  while (current !== null && current.val !== val) {
    prev = current;
    current = current.next;
  }
  
  // If value wasn't found
  if (current === null) return head;
  
  // Unlink the node from the list
  prev.next = current.next;
  
  return head;
}`}]},{title:"Doubly Linked Lists",content:`In a doubly linked list, each node contains references to both the next and previous nodes. This additional pointer allows for more efficient operations at the expense of extra memory:

- Advantages:
  - Bidirectional traversal
  - O(1) deletion from the end if the tail pointer is maintained
  - O(1) insertion before a known node

- Disadvantages:
  - Additional memory for the prev pointer
  - More complex implementation`,examples:[{language:"JavaScript",code:`// Doubly Linked List Node
class DoublyListNode {
  constructor(val) {
    this.val = val;
    this.next = null;
    this.prev = null;
  }
}

// Creating a doubly linked list
function createDoublyLinkedList(values) {
  if (!values.length) return null;
  
  const head = new DoublyListNode(values[0]);
  let current = head;
  
  for (let i = 1; i < values.length; i++) {
    const newNode = new DoublyListNode(values[i]);
    current.next = newNode;
    newNode.prev = current;
    current = newNode;
  }
  
  return head;
}

// Inserting a node after a given node
function insertAfter(node, val) {
  if (node === null) return new DoublyListNode(val);
  
  const newNode = new DoublyListNode(val);
  newNode.next = node.next;
  newNode.prev = node;
  
  if (node.next !== null) {
    node.next.prev = newNode;
  }
  
  node.next = newNode;
  return newNode;
}`}]},{title:"Common Linked List Problems",content:`Linked lists are frequently used in interview questions due to their versatility. Common problems include:

1. Detecting cycles in a linked list (Floyd's Cycle Detection Algorithm)
2. Finding the middle element
3. Reversing a linked list
4. Merging two sorted lists
5. Removing duplicates
6. Finding the intersection of two linked lists
7. Checking if a linked list is a palindrome`,examples:[{language:"JavaScript",code:`// Detecting a cycle using Floyd's Cycle Detection Algorithm
function hasCycle(head) {
  if (!head || !head.next) return false;
  
  let slow = head;
  let fast = head;
  
  while (fast !== null && fast.next !== null) {
    slow = slow.next;         // Move one step
    fast = fast.next.next;    // Move two steps
    
    if (slow === fast) return true;  // Cycle detected
  }
  
  return false; // No cycle
}

// Reversing a linked list
function reverseList(head) {
  let prev = null;
  let current = head;
  let next = null;
  
  while (current !== null) {
    // Store next node
    next = current.next;
    
    // Reverse the link
    current.next = prev;
    
    // Move pointers one position ahead
    prev = current;
    current = next;
  }
  
  return prev; // New head of the reversed list
}`}]}],practiceProblems:[{id:3,title:"Merge Two Sorted Lists",difficulty:"Easy"},{id:19,title:"Reverse Linked List",difficulty:"Easy"},{id:4,title:"Add Two Numbers",difficulty:"Medium"},{id:7,title:"Merge k Sorted Lists",difficulty:"Hard"},{id:18,title:"LRU Cache",difficulty:"Medium"}]},eB={id:"strings",title:"Strings",icon:"FileText",description:"String manipulation, pattern matching, and common algorithms.",difficulty:"Beginner",estimatedTime:"3 hours",problems:22,introduction:"Strings are sequences of characters and one of the most commonly used data types. String manipulation is fundamental to many programming tasks and plays a crucial role in areas like text processing, parsing, and pattern matching.",sections:[{title:"String Basics",content:`Strings are sequences of characters represented in memory. In most programming languages, strings can be enclosed in single quotes (''), double quotes (""), or backticks (\`\`). Different languages handle strings differently:

- Some languages treat strings as primitive immutable types (like Java, JavaScript)
- Others treat them as arrays of characters (like C)
- Some provide rich string-specific libraries and methods

Common string operations include:
- Concatenation (joining strings)
- Substring extraction
- Finding the length
- Comparing strings
- Searching for substrings`,examples:[{language:"JavaScript",code:`// String creation
const str1 = 'Hello';
const str2 = "World";
const name = "Alice";
const greeting = \`Hello, \${name}!\`; // Template string with interpolation

// String concatenation
const fullGreeting = str1 + ", " + str2 + "!";
console.log(fullGreeting); // "Hello, World!"

// String length
const length = str1.length; // 5

// Accessing characters
const firstChar = str1[0]; // 'H'
const lastChar = str1[str1.length - 1]; // 'o'

// Substrings
const sub1 = str1.substring(1, 4); // "ell"
const sub2 = str1.slice(1, 4); // "ell"

// Searching
const position = str1.indexOf('l'); // 2 (first occurrence)
const lastPosition = str1.lastIndexOf('l'); // 3 (last occurrence)`}]},{title:"String Manipulation",content:`String manipulation involves changing or extracting information from strings. Common manipulations include:

1. Changing case (uppercase, lowercase)
2. Trimming whitespace
3. Splitting into arrays
4. Replacing substrings
5. Regular expression operations

Many languages provide built-in methods for these operations, making string manipulation straightforward.`,examples:[{language:"JavaScript",code:`const text = "  Hello, World!  ";

// Case conversion
const upperCase = text.toUpperCase(); // "  HELLO, WORLD!  "
const lowerCase = text.toLowerCase(); // "  hello, world!  "

// Trimming whitespace
const trimmed = text.trim(); // "Hello, World!"

// Splitting
const words = trimmed.split(', '); // ["Hello", "World!"]

// Replacing
const replaced = text.replace('Hello', 'Hi'); // "  Hi, World!  "

// Regular expressions
const containsHello = /Hello/.test(text); // true
const matches = text.match(/\\w+/g); // ["Hello", "World"]

// Checking
const startsWith = text.trim().startsWith('Hello'); // true
const endsWith = text.trim().endsWith('!'); // true
const includes = text.includes('World'); // true`}]},{title:"Pattern Matching Algorithms",content:`Pattern matching involves finding occurrences of a pattern within a string. Several algorithms exist with different time complexities:

1. Naive approach: O(m*n) - check all positions for a match
2. Knuth-Morris-Pratt (KMP): O(m+n) - builds a prefix table to skip unnecessary comparisons
3. Boyer-Moore: O(n/m) in best case - shifts the pattern in larger jumps
4. Rabin-Karp: O(n+m) - uses hashing to find matches

Where m is the pattern length and n is the text length.`,examples:[{language:"JavaScript",code:`// Naive pattern matching
function naiveSearch(text, pattern) {
  const matches = [];
  const n = text.length;
  const m = pattern.length;
  
  for (let i = 0; i <= n - m; i++) {
    let j;
    for (j = 0; j < m; j++) {
      if (text[i + j] !== pattern[j]) {
        break;
      }
    }
    if (j === m) { // Found a match
      matches.push(i);
    }
  }
  
  return matches;
}

// KMP Algorithm (Knuth-Morris-Pratt)
function kmpSearch(text, pattern) {
  if (pattern === '') return [];
  
  // Build the LPS (Longest Prefix Suffix) array
  const lps = buildLPSArray(pattern);
  const matches = [];
  
  let i = 0; // index for text
  let j = 0; // index for pattern
  
  while (i < text.length) {
    if (pattern[j] === text[i]) {
      i++;
      j++;
    }
    
    if (j === pattern.length) {
      // Found a match
      matches.push(i - j);
      j = lps[j - 1]; // Look for the next match
    } else if (i < text.length && pattern[j] !== text[i]) {
      if (j !== 0) {
        j = lps[j - 1];
      } else {
        i++;
      }
    }
  }
  
  return matches;
}

// Build LPS array for KMP algorithm
function buildLPSArray(pattern) {
  const lps = new Array(pattern.length).fill(0);
  let len = 0;
  let i = 1;
  
  while (i < pattern.length) {
    if (pattern[i] === pattern[len]) {
      len++;
      lps[i] = len;
      i++;
    } else {
      if (len !== 0) {
        len = lps[len - 1];
      } else {
        lps[i] = 0;
        i++;
      }
    }
  }
  
  return lps;
}`}]},{title:"String Algorithms",content:`Several important algorithms focus on string processing:

1. String Compression: Convert a string like "AAABBC" to "3A2B1C"
2. String Rotation: Check if one string is a rotation of another
3. Palindrome Checking: Determine if a string reads the same forward and backward
4. Anagram Detection: Check if two strings contain the same characters in different orders
5. Longest Common Substring: Find the longest string that is a substring of two strings
6. Edit Distance (Levenshtein Distance): Minimum operations to transform one string to another`,examples:[{language:"JavaScript",code:`// Check if a string is a palindrome
function isPalindrome(str) {
  const cleanStr = str.toLowerCase().replace(/[^a-z0-9]/g, '');
  let left = 0;
  let right = cleanStr.length - 1;
  
  while (left < right) {
    if (cleanStr[left] !== cleanStr[right]) {
      return false;
    }
    left++;
    right--;
  }
  
  return true;
}

// Check if two strings are anagrams
function areAnagrams(str1, str2) {
  // Remove spaces and convert to lowercase
  const normalize = str => str.toLowerCase().replace(/\\s/g, '');
  const s1 = normalize(str1);
  const s2 = normalize(str2);
  
  // Quick check on length
  if (s1.length !== s2.length) return false;
  
  // Count each character
  const charCount = {};
  
  for (const char of s1) {
    charCount[char] = (charCount[char] || 0) + 1;
  }
  
  for (const char of s2) {
    if (!charCount[char]) return false;
    charCount[char]--;
  }
  
  return true;
}

// Check if one string is a rotation of another
function isRotation(s1, s2) {
  if (s1.length !== s2.length || s1.length === 0) {
    return false;
  }
  
  // Concatenate s1 with itself
  const s1s1 = s1 + s1;
  
  // Check if s2 is a substring of s1s1
  return s1s1.includes(s2);
}`}]}],practiceProblems:[{id:2,title:"Valid Parentheses",difficulty:"Easy"},{id:5,title:"Longest Substring Without Repeating Characters",difficulty:"Medium"},{id:10,title:"Regular Expression Matching",difficulty:"Hard"},{id:22,title:"Group Anagrams",difficulty:"Medium"},{id:28,title:"Palindrome Partitioning",difficulty:"Medium"}]},tB={id:"recursion",title:"Recursion",icon:"GitBranch",description:"Recursive problem-solving approaches and optimization techniques.",difficulty:"Intermediate",estimatedTime:"5 hours",problems:15,introduction:"Recursion is a programming technique where a function calls itself to solve a problem. It's particularly useful for problems that can be broken down into simpler versions of the same problem. Understanding recursion is essential for tackling complex algorithms and data structures.",sections:[{title:"Understanding Recursion",content:`Recursion is a powerful problem-solving technique based on breaking a problem into smaller instances of the same problem. Every recursive solution has two key components:

1. Base Case(s): The simplest scenario(s) where the answer can be directly provided without further recursion
2. Recursive Case(s): Where the function calls itself with a simpler version of the problem

Without proper base cases, recursion would continue indefinitely, causing a stack overflow. Recursion is particularly elegant for problems with a recursive structure, such as tree traversals, permutations, and divide-and-conquer algorithms.`,examples:[{language:"JavaScript",code:`// Simple example: Computing factorial
function factorial(n) {
  // Base case
  if (n <= 1) return 1;
  
  // Recursive case
  return n * factorial(n - 1);
}

// Example usage
console.log(factorial(5)); // 120 (5 * 4 * 3 * 2 * 1)

// Simple example: Computing Fibonacci numbers
function fibonacci(n) {
  // Base cases
  if (n <= 0) return 0;
  if (n === 1) return 1;
  
  // Recursive case
  return fibonacci(n - 1) + fibonacci(n - 2);
}

// Example usage
console.log(fibonacci(6)); // 8 (fibonacci sequence: 0, 1, 1, 2, 3, 5, 8, ...)`}]},{title:"Recursion Patterns",content:`Several common patterns appear in recursive algorithms:

1. Linear Recursion:
   - The function makes a single recursive call at each step
   - Examples: Factorial, Linear Search

2. Binary Recursion:
   - The function makes two recursive calls at each step
   - Examples: Fibonacci, Binary Tree traversal

3. Multiple Recursion:
   - The function makes multiple recursive calls
   - Examples: Permutations, Combinations

4. Mutual Recursion:
   - Two or more functions call each other
   - Examples: Even/Odd checkers, Tree traversals with different node types

5. Tail Recursion:
   - Recursive call is the last operation in the function
   - Can be optimized by compilers into iteration`,examples:[{language:"JavaScript",code:`// Linear Recursion: Sum of array elements
function sum(arr, index = 0) {
  // Base case
  if (index >= arr.length) return 0;
  
  // Recursive case (linear - one call)
  return arr[index] + sum(arr, index + 1);
}

// Binary Recursion: Merge Sort
function mergeSort(arr) {
  // Base case
  if (arr.length <= 1) return arr;
  
  // Divide array in half
  const mid = Math.floor(arr.length / 2);
  const left = arr.slice(0, mid);
  const right = arr.slice(mid);
  
  // Recursive case (binary - two calls)
  return merge(mergeSort(left), mergeSort(right));
}

function merge(left, right) {
  const result = [];
  let leftIndex = 0;
  let rightIndex = 0;
  
  while (leftIndex < left.length && rightIndex < right.length) {
    if (left[leftIndex] < right[rightIndex]) {
      result.push(left[leftIndex]);
      leftIndex++;
    } else {
      result.push(right[rightIndex]);
      rightIndex++;
    }
  }
  
  return result.concat(left.slice(leftIndex)).concat(right.slice(rightIndex));
}

// Tail Recursion: Factorial with accumulator
function factorialTail(n, accumulator = 1) {
  // Base case
  if (n <= 1) return accumulator;
  
  // Tail recursive case
  return factorialTail(n - 1, n * accumulator);
}`}]},{title:"Recursion vs. Iteration",content:`Both recursion and iteration can solve the same problems, but each has advantages:

**Recursion Advantages:**
- More elegant and concise for certain problems
- Directly mirrors the problem's recursive structure
- Simplifies handling recursive data structures like trees

**Recursion Disadvantages:**
- Function call overhead
- Risk of stack overflow for deep recursion
- Often less efficient in time and space

**When to Choose Recursion:**
- When the problem has a recursive structure
- When code clarity is more important than performance
- When dealing with recursive data structures
- When iterative solution would be complex`,examples:[{language:"JavaScript",code:`// Factorial: Recursion vs. Iteration

// Recursive approach
function factorialRecursive(n) {
  if (n <= 1) return 1;
  return n * factorialRecursive(n - 1);
}

// Iterative approach
function factorialIterative(n) {
  let result = 1;
  for (let i = 2; i <= n; i++) {
    result *= i;
  }
  return result;
}

// Tree traversal: Recursion vs. Iteration

// Recursive in-order traversal
function inOrderRecursive(root, result = []) {
  if (!root) return result;
  
  inOrderRecursive(root.left, result);
  result.push(root.val);
  inOrderRecursive(root.right, result);
  
  return result;
}

// Iterative in-order traversal
function inOrderIterative(root) {
  const result = [];
  const stack = [];
  let current = root;
  
  while (current || stack.length > 0) {
    while (current) {
      stack.push(current);
      current = current.left;
    }
    current = stack.pop();
    result.push(current.val);
    current = current.right;
  }
  
  return result;
}`}]},{title:"Recursion Optimization Techniques",content:`Recursion can be optimized using several techniques:

1. Memoization:
   - Store results of expensive function calls and return the cached result when the same inputs occur again
   - Particularly useful for problems with overlapping subproblems (see Dynamic Programming)

2. Tail Call Optimization (TCO):
   - Convert recursive functions to tail recursive form, which some languages optimize
   - Not all languages support TCO (JavaScript in strict mode does in some environments)

3. Recurrence Relations:
   - Mathematically analyze the recursive algorithm and convert to iteration
   - Useful for straightforward recursions like factorial or Fibonacci

4. Segmenting/Pruning:
   - Add conditions to avoid unnecessary recursive calls
   - Particularly useful for search algorithms`,examples:[{language:"JavaScript",code:`// Memoization: Fibonacci optimization
function fibonacciMemo(n, memo = {}) {
  // Check if we've already calculated this value
  if (n in memo) return memo[n];
  
  // Base cases
  if (n <= 0) return 0;
  if (n === 1) return 1;
  
  // Save result in memo object
  memo[n] = fibonacciMemo(n - 1, memo) + fibonacciMemo(n - 2, memo);
  return memo[n];
}

// Without memoization - exponential time complexity O(2^n)
console.time('Without memo');
console.log(fibonacci(30));
console.timeEnd('Without memo');

// With memoization - linear time complexity O(n)
console.time('With memo');
console.log(fibonacciMemo(30));
console.timeEnd('With memo');

// Tail recursion: Factorial
function factorial(n, accumulator = 1) {
  'use strict'; // Enable TCO in supported environments
  
  if (n <= 1) return accumulator;
  
  // Last operation is the recursive call (tail recursion)
  return factorial(n - 1, n * accumulator);
}`}]}],practiceProblems:[{id:3,title:"Merge Two Sorted Lists",difficulty:"Easy"},{id:12,title:"Climbing Stairs",difficulty:"Easy"},{id:19,title:"Reverse Linked List",difficulty:"Easy"},{id:14,title:"Binary Tree Level Order Traversal",difficulty:"Medium"},{id:26,title:"Permutations",difficulty:"Medium"},{id:7,title:"Merge k Sorted Lists",difficulty:"Hard"},{id:10,title:"Regular Expression Matching",difficulty:"Hard"}]},nB={id:"permutation-problems",title:"Permutation Problems",icon:"Network",description:"Generate permutations and solve permutation-based problems.",difficulty:"Intermediate",estimatedTime:"4 hours",problems:12,introduction:"Permutation problems involve generating or analyzing different arrangements of a set of elements. These problems are fundamental in combinatorics and have applications in optimization, cryptography, and algorithm design. Many permutation problems use backtracking or dynamic programming approaches.",sections:[{title:"Understanding Permutations",content:`A permutation is an arrangement of distinct objects in a specific order. For n distinct objects, there are n! (n factorial) different permutations.

Key concepts in permutation problems:

1. **Generation:** Creating all possible permutations of a set
2. **Counting:** Determining the number of permutations with specific properties
3. **Ranking:** Assigning a unique index to each permutation
4. **Unranking:** Finding a permutation given its rank
5. **Next/Previous:** Generating the lexicographically next or previous permutation

Permutations are distinct from combinations, which don't consider the order of elements.`,examples:[{language:"JavaScript",code:`// Calculate the number of permutations: n!
function factorial(n) {
  if (n <= 1) return 1;
  return n * factorial(n - 1);
}

// Example: Number of permutations of [1, 2, 3, 4, 5]
const n = 5;
console.log(\`Number of permutations of \${n} elements: \${factorial(n)}\`); // 120

// Finding the next lexicographical permutation
function nextPermutation(nums) {
  // Find the first element that is smaller than the element to its right
  let i = nums.length - 2;
  while (i >= 0 && nums[i] >= nums[i + 1]) {
    i--;
  }
  
  if (i >= 0) {
    // Find the smallest element to the right that is larger than nums[i]
    let j = nums.length - 1;
    while (nums[j] <= nums[i]) {
      j--;
    }
    
    // Swap nums[i] and nums[j]
    [nums[i], nums[j]] = [nums[j], nums[i]];
  }
  
  // Reverse the subarray starting from i+1
  let left = i + 1;
  let right = nums.length - 1;
  while (left < right) {
    [nums[left], nums[right]] = [nums[right], nums[left]];
    left++;
    right--;
  }
  
  return nums;
}`}]},{title:"Generating All Permutations",content:`Generating all permutations is a common task in many algorithms. Two main approaches are:

1. **Backtracking:** The most flexible approach, using recursion to build permutations element by element.

2. **Heap's Algorithm:** An efficient algorithm that generates all permutations by swapping elements.

These algorithms can be modified to handle special cases like:
- Sets with duplicate elements
- Generating only permutations that satisfy specific constraints
- Partial permutations (k elements from n elements)`,examples:[{language:"JavaScript",code:`// Generate all permutations using backtracking
function permute(nums) {
  const result = [];
  
  function backtrack(current, remaining) {
    // Base case: no more elements to add
    if (remaining.length === 0) {
      result.push([...current]);
      return;
    }
    
    // Try each remaining element
    for (let i = 0; i < remaining.length; i++) {
      // Add current element to the permutation
      current.push(remaining[i]);
      
      // Create new remaining array without the used element
      const newRemaining = [...remaining.slice(0, i), ...remaining.slice(i + 1)];
      
      // Recursively generate permutations with the updated arrays
      backtrack(current, newRemaining);
      
      // Backtrack by removing the last added element
      current.pop();
    }
  }
  
  backtrack([], nums);
  return result;
}

// Heap's Algorithm for generating permutations
function heapPermute(arr) {
  const result = [];
  const n = arr.length;
  
  function generate(k, A) {
    if (k === 1) {
      result.push([...A]);
      return;
    }
    
    // Generate permutations with kth unaltered
    generate(k - 1, A);
    
    // Generate permutations for kth swapped with each k-1 initial
    for (let i = 0; i < k - 1; i++) {
      // Swap elements
      if (k % 2 === 0) {
        [A[i], A[k - 1]] = [A[k - 1], A[i]];
      } else {
        [A[0], A[k - 1]] = [A[k - 1], A[0]];
      }
      
      generate(k - 1, A);
    }
  }
  
  generate(n, arr);
  return result;
}`}]},{title:"Permutations with Duplicates",content:`When dealing with sets that contain duplicate elements, we need to modify our permutation algorithms to avoid generating the same permutation multiple times. Common approaches include:

1. **Sorting and Skipping:** Sort the input array and skip elements that are the same as their predecessors.

2. **Frequency Counting:** Use a map to track the frequency of each element and decrement counts as elements are used.

3. **Set-based Deduplication:** Generate all permutations and filter using a set, though this is less efficient.

The first two approaches are more efficient as they avoid generating duplicate permutations in the first place.`,examples:[{language:"JavaScript",code:`// Generate permutations with duplicates
function permuteUnique(nums) {
  const result = [];
  nums.sort((a, b) => a - b); // Sort the array
  
  function backtrack(current, used) {
    // Base case: permutation complete
    if (current.length === nums.length) {
      result.push([...current]);
      return;
    }
    
    for (let i = 0; i < nums.length; i++) {
      // Skip used elements
      if (used[i]) continue;
      
      // Skip duplicates
      if (i > 0 && nums[i] === nums[i-1] && !used[i-1]) continue;
      
      // Choose element
      used[i] = true;
      current.push(nums[i]);
      
      // Explore
      backtrack(current, used);
      
      // Unchoose
      used[i] = false;
      current.pop();
    }
  }
  
  backtrack([], Array(nums.length).fill(false));
  return result;
}

// Using frequency counting
function permuteUniqueFreq(nums) {
  const result = [];
  
  // Count frequencies
  const counter = new Map();
  for (const num of nums) {
    counter.set(num, (counter.get(num) || 0) + 1);
  }
  
  function backtrack(current) {
    if (current.length === nums.length) {
      result.push([...current]);
      return;
    }
    
    for (const [num, freq] of counter.entries()) {
      if (freq === 0) continue;
      
      // Use the number
      counter.set(num, freq - 1);
      current.push(num);
      
      backtrack(current);
      
      // Backtrack
      counter.set(num, freq);
      current.pop();
    }
  }
  
  backtrack([]);
  return result;
}`}]},{title:"Applications of Permutations",content:`Permutation algorithms are used in various problem domains:

1. **Combinatorial Optimization:** Problems like the Traveling Salesman Problem and Job Scheduling.

2. **Puzzle Solving:** 15-puzzle, Rubik's cube, and other permutation-based puzzles.

3. **Cryptography:** Permutation ciphers and cryptographic algorithms.

4. **Computer Science:** Token sorting, sequence alignment, and pattern matching.

5. **Statistics:** Permutation tests and randomization methods.

Many of these applications require either generating all permutations or finding a specific permutation that optimizes some objective function.`,examples:[{language:"JavaScript",code:`// Traveling Salesman Problem (naive approach using permutations)
function tsp(distances) {
  const n = distances.length;
  const cities = Array.from({ length: n - 1 }, (_, i) => i + 1); // Cities 1 to n-1
  
  // Generate all permutations of cities (excluding the starting city 0)
  const allRoutes = permute(cities);
  
  let minDistance = Infinity;
  let bestRoute = null;
  
  // Evaluate each route
  for (const route of allRoutes) {
    const fullRoute = [0, ...route, 0]; // Start and end at city 0
    let distance = 0;
    
    // Calculate the total distance of this route
    for (let i = 0; i < fullRoute.length - 1; i++) {
      distance += distances[fullRoute[i]][fullRoute[i + 1]];
    }
    
    if (distance < minDistance) {
      minDistance = distance;
      bestRoute = fullRoute;
    }
  }
  
  return { route: bestRoute, distance: minDistance };
}

// Example distance matrix for 4 cities
const distances = [
  [0, 10, 15, 20],
  [10, 0, 35, 25],
  [15, 35, 0, 30],
  [20, 25, 30, 0]
];

const solution = tsp(distances);
console.log(\`Best route: \${solution.route.join(' -> ')}\`);
console.log(\`Total distance: \${solution.distance}\`);`}]}],practiceProblems:[{id:26,title:"Permutations",difficulty:"Medium"},{id:22,title:"Group Anagrams",difficulty:"Medium"},{id:21,title:"Rotate Image",difficulty:"Medium"},{id:15,title:"Word Search",difficulty:"Medium"},{id:23,title:"Jump Game",difficulty:"Medium"},{id:30,title:"N-Queens",difficulty:"Hard"}]},pN={arrays:Q9,"binary-trees":Y9,backtracking:J9,"dynamic-programming":X9,"linked-lists":Z9,strings:eB,recursion:tB,"permutation-problems":nB},rB=Object.values(pN),sB=t=>pN[t],iB=t=>{switch(t){case"Beginner":return"bg-green-500 text-white";case"Intermediate":return"bg-yellow-500 text-white";case"Advanced":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},aB=(t,e=32)=>({Code:o.jsx(_r,{size:e}),ListTree:o.jsx(BU,{size:e}),FileText:o.jsx(MU,{size:e}),BarChart2:o.jsx(Ja,{size:e}),Network:o.jsx(iN,{size:e}),Layers:o.jsx(rN,{size:e}),GitBranch:o.jsx(nN,{size:e})})[t]||o.jsx($s,{size:e}),oB=()=>o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx($s,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Study Materials"})]}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-8 max-w-3xl",children:"Master algorithms and data structures with our comprehensive study materials. Each topic includes detailed explanations, code examples, and practice problems."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:rB.map((t,e)=>o.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:e*.1},children:o.jsxs(Pe,{to:`/study/${t.id}`,className:"card block hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--accent)] bg-opacity-20 flex items-center justify-center text-[var(--accent)]",children:aB(t.icon)}),o.jsxs("div",{className:"ml-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:t.title}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${iB(t.difficulty)}`,children:t.difficulty})]})]}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:t.description}),o.jsxs("div",{className:"flex justify-between text-sm text-[var(--text-secondary)]",children:[o.jsxs("span",{children:[" ",t.estimatedTime]}),o.jsxs("span",{children:[" ",t.problems," problems"]})]})]})},t.id))}),o.jsxs("div",{className:"mt-12",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Learning Paths"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"Interview Preparation",description:"A comprehensive learning path designed to prepare you for technical interviews at top tech companies.",topics:["Arrays","Linked Lists","Trees","Dynamic Programming"],duration:"8 weeks",level:"Intermediate to Advanced"},{title:"Competitive Programming",description:"Master algorithms and optimization techniques used in competitive programming contests.",topics:["Advanced Data Structures","Graph Algorithms","Dynamic Programming","Number Theory"],duration:"12 weeks",level:"Advanced"}].map((t,e)=>o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:t.title}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-4",children:t.description}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Includes topics:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:t.topics.map((n,r)=>o.jsx("span",{className:"bg-[var(--primary)] text-xs px-2 py-1 rounded",children:n},r))})]}),o.jsxs("div",{className:"flex justify-between text-sm text-[var(--text-secondary)]",children:[o.jsxs("span",{children:[" ",t.duration]}),o.jsxs("span",{children:[" ",t.level]})]}),o.jsx("button",{className:"btn-secondary w-full mt-4",children:"View Path"})]},e))})]}),o.jsxs("div",{className:"mt-12 mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Resource Center"}),o.jsx("div",{className:"card p-6 bg-gradient-to-r from-[var(--secondary)] to-[#2a3a64]",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Books & References"}),o.jsxs("ul",{className:"space-y-2 text-[var(--text-secondary)]",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Introduction to Algorithms"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Cracking the Coding Interview"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Algorithm Design Manual"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"View all resources"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Video Lectures"}),o.jsxs("ul",{className:"space-y-2 text-[var(--text-secondary)]",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Algorithms Specialization"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Advanced Data Structures"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Dynamic Programming Masterclass"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"View all videos"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Practice Sets"}),o.jsxs("ul",{className:"space-y-2 text-[var(--text-secondary)]",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"FAANG Interview Questions"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Top 100 Coding Problems"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Weekly Coding Challenges"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"View all practice sets"})]})]})]})]})})]})]})})}),o.jsx(en,{})]})}),lB=t=>{switch(t){case"Easy":return"text-green-400";case"Medium":return"text-yellow-400";case"Hard":return"text-red-400";default:return"text-[var(--text)]"}},cB=(t,e=28)=>({Code:o.jsx(_r,{size:e}),ListTree:o.jsx(zU,{size:e}),FileText:o.jsx(tN,{size:e}),BarChart2:o.jsx(Ja,{size:e}),Network:o.jsx(iN,{size:e}),Layers:o.jsx(rN,{size:e}),GitBranch:o.jsx(nN,{size:e})})[t]||o.jsx($s,{size:e}),uB=()=>o.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:Array.from({length:6}).map((t,e)=>o.jsx(M.div,{className:"absolute w-2 h-2 rounded-full bg-[var(--accent)] opacity-10",initial:{x:`${Math.random()*100}%`,y:`${Math.random()*100}%`},animate:{x:[`${Math.random()*100}%`,`${Math.random()*100}%`],y:[`${Math.random()*100}%`,`${Math.random()*100}%`]},transition:{duration:10+Math.random()*10,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},e))}),dB=({isVisible:t})=>t?o.jsx("div",{className:"fixed inset-0 z-50 pointer-events-none",children:Array.from({length:50}).map((e,n)=>o.jsx(M.div,{className:"absolute w-2 h-2 rounded-full",initial:{top:"-10%",left:`${Math.random()*100}%`,backgroundColor:["#f45b69","#00d4ff","#FFD700","#FF69B4","#00FF00","#1E90FF","#FF4500","#9370DB","#00FFFF"][Math.floor(Math.random()*9)]},animate:{top:"110%",left:[`${Math.random()*100}%`,`${Math.random()*100}%`],rotate:Math.random()*360},transition:{duration:2.5+Math.random()*2.5,ease:"easeOut"},style:{width:`${Math.random()*8+2}px`,height:`${Math.random()*8+2}px`}},n))}):null,hB=({achievement:t,onClose:e})=>o.jsx(M.div,{className:"fixed top-20 right-0 z-50 max-w-xs",initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},transition:{type:"spring",stiffness:100,damping:15},children:o.jsx("div",{className:"bg-gradient-to-r from-[var(--secondary)] to-[#1a1a3e] p-4 rounded-l-lg shadow-xl border-l-4 border-[var(--accent)] m-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-[var(--accent)] bg-opacity-20 rounded-full p-2 mr-3",children:o.jsx(Tc,{className:"text-[var(--accent)]",size:20})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-sm mb-1",children:"Achievement Unlocked!"}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:t})]}),o.jsx("button",{onClick:e,className:"text-[var(--text-secondary)] hover:text-white",children:o.jsx(Rn,{size:16})})]})})}),fB=({progress:t,milestones:e})=>o.jsxs("div",{className:"relative h-1 bg-gray-700 rounded mb-6",children:[o.jsx(M.div,{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",initial:{width:0},animate:{width:`${t}%`},transition:{duration:1,ease:"easeOut"}}),e.map((n,r)=>{const s=r/(e.length-1)*100,i=t>=s;return o.jsx(M.div,{className:`absolute top-1/2 -translate-y-1/2 h-3 w-3 rounded-full ${i?"bg-[var(--accent)]":"bg-gray-600"}`,style:{left:`${s}%`},initial:{scale:0},animate:{scale:1},transition:{delay:r*.1,duration:.5}},r)})]}),mB=()=>{var Yr,ni,Jr,Xr,ri,Tr;const{topic:t}=FT(),e=t?sB(t):null,n=Qs();Bn();const r=A.useRef(null),[s,i]=A.useState(0),[a,l]=A.useState(0),[c,d]=A.useState([]),[h,f]=A.useState(!1),[p,x]=A.useState([]),[b,E]=A.useState(0),[j,T]=A.useState(!1),[v,g]=A.useState(!1),[S,D]=A.useState(!1),[C,_]=A.useState(!1),[w,k]=A.useState(null),[P,L]=A.useState(""),[R,N]=A.useState(null),[re,ee]=A.useState(null),[H,G]=A.useState(!1),[V,W]=A.useState([]),[Z,ie]=A.useState(0),[le,we]=A.useState(!1),[Re,Me]=A.useState(null),[B,X]=A.useState(!1),Ie=$=>{if(!e)return[];const Y=e.sections[$];return Y?[{id:1,question:`Which of the following best describes the main focus of "${Y.title}"?`,options:[`Understanding core concepts of ${Y.title}`,`Advanced applications of ${Y.title}`,`Historical development of ${Y.title}`,`Comparing ${Y.title} with other approaches`],correctAnswer:0},{id:2,question:`According to the material, what is one key characteristic of ${Y.title.toLowerCase()}?`,options:["It has O(n) complexity in most cases","It can only be applied to sorted data structures","It requires recursive implementation","It helps solve problems by breaking them into smaller parts"],correctAnswer:3},{id:3,question:"Which of these would be a typical use case for techniques described in this section?",options:["Database indexing","Natural language processing","Problem solving with optimal solutions","Hardware acceleration"],correctAnswer:2}]:[]};A.useEffect(()=>{if(!e)return;const $=[];e.sections.forEach((oe,ge)=>{$.push({id:ge*2,title:oe.title,type:"section",completed:!1,locked:ge>0,sectionIndex:ge}),$.push({id:ge*2+1,title:`Practice: ${oe.title}`,type:"practice",completed:!1,locked:!0,problemIds:me(ge,3),requiredProblems:1,solvedProblems:[]})});const Y=localStorage.getItem(`study-progress-${t}`);if(Y)try{const oe=JSON.parse(Y),ge=Math.min(oe.milestoneIndex||0,$.length-1);for(let Ae=0;Ae<=ge;Ae++)$[Ae].completed=!0,Ae+1<$.length&&($[Ae+1].locked=!1);l(ge),E(Math.ceil((ge+1)/$.length*100))}catch(oe){console.error("Error parsing saved progress:",oe)}else E(Math.ceil(1/$.length*100));d($)},[e,t]);const me=($,Y)=>{if(!e)return[];const oe=e.practiceProblems.length,ge=Math.max(1,Math.floor(oe/e.sections.length)),Ae=$*ge,rn=Math.min(Ae+Y,oe);return e.practiceProblems.slice(Ae,rn).map(si=>si.id)},je=()=>{if(!e)return;const $=c[a];if($.type!=="section"||$.completed)return;const Y=Ie($.sectionIndex||0);if(W(Y),ie(0),f(!0),$.sectionIndex!==void 0){const ge=me($.sectionIndex,3).map(Ae=>$t.find(rn=>rn.id===Ae)).filter(Boolean);x(ge)}N(Date.now())},be=()=>V.every($=>$.userAnswer===$.correctAnswer),dt=()=>{if(!e)return;const $=c[a];if($.type!=="practice"||$.completed)return;if(!B){we(!0);return}_(!0),k(`Completed ${$.title}!`),setTimeout(()=>_(!1),3e3);const Y=[...c];Y[a].completed=!0,a+1<Y.length?(Y[a+1].locked=!1,Me(a+1),setTimeout(()=>Me(null),3e3),l(a+1)):T(!0),d(Y);const oe=Math.ceil((a+2)/Y.length*100);E(Math.min(oe,100)),$e(a+1),f(!1),X(!1)},$e=$=>{localStorage.setItem(`study-progress-${t}`,JSON.stringify({milestoneIndex:$,lastUpdated:new Date().toISOString()}))},Xe=$=>{const Y=c[$];if(!Y.locked){if(l($),Y.type==="section"&&Y.sectionIndex!==void 0&&i(Y.sectionIndex),Y.type==="practice"&&!Y.completed&&(f(!0),Y.problemIds)){const oe=Y.problemIds.map(ge=>$t.find(Ae=>Ae.id===ge)).filter(Boolean);x(oe)}r.current&&r.current.scrollIntoView({behavior:"smooth",block:"start"})}},zn=($,Y)=>{const oe=[...V];oe[$].userAnswer=Y,W(oe);const ge=Date.now()-(R||Date.now());ee(Math.floor(ge/1e3)),$===V.length-1?setTimeout(()=>{const Ae=be();if(D(Ae),g(!0),Ae){const rn=[...c];rn[a].completed=!0,a+1<rn.length&&(rn[a+1].locked=!1),d(rn),$e(a)}},500):setTimeout(()=>{ie(Ae=>Ae+1)},500)},$n=()=>{var oe;const $=c[a];if($.type!=="practice")return;const Y=[...c];Y[a].solvedProblems||(Y[a].solvedProblems=[]),$.problemIds&&$.problemIds.length>0&&((oe=Y[a].solvedProblems)==null||oe.push($.problemIds[0])),d(Y),X(!0),k("Problem Solver: You completed a coding challenge!"),setTimeout(()=>{k(null)},3e3)},qn=$=>a===$;return e?o.jsxs(wt,{children:[o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},ref:r,children:[o.jsxs("div",{className:"flex justify-between items-center mb-8 relative z-10",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"mr-3 text-[var(--accent)]",children:cB(e.icon)}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:e.title}),o.jsxs("div",{className:"flex items-center text-sm text-[var(--text-secondary)]",children:[o.jsx(qU,{size:14,className:"mr-1"}),o.jsx("span",{children:"Learning Journey"}),o.jsx("span",{className:"mx-2",children:""}),o.jsxs("span",{children:[b,"% Complete"]})]})]})]}),o.jsxs(Pe,{to:"/study",className:"flex items-center text-[var(--text-secondary)] hover:text-[var(--accent)]",children:[o.jsx(Ta,{size:20,className:"mr-1"}),"Back to topics"]})]}),o.jsxs("div",{className:"card p-6 mb-8 relative overflow-hidden",children:[o.jsx(uB,{}),o.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(NU,{className:"text-[var(--accent)] mr-2",size:22}),o.jsx("h2",{className:"text-xl font-bold",children:"Your Learning Journey"})]}),o.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:[b,"% completed"]})]}),o.jsx("div",{className:"relative h-8 bg-[var(--primary)] rounded-lg mb-8 overflow-hidden",children:o.jsx(M.div,{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",initial:{width:0},animate:{width:`${b}%`},transition:{duration:1.5,ease:"easeOut"}})}),o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{className:"absolute top-10 left-0 right-0 h-1 bg-gray-700 z-0",children:o.jsx(M.div,{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",initial:{width:"0%"},animate:{width:`${Math.min(100,a/(c.length-1)*100)}%`},transition:{duration:1,delay:.5}})}),o.jsx("div",{className:"flex justify-between relative",children:c.map(($,Y)=>o.jsxs("div",{className:`relative flex flex-col items-center ${$.locked?"opacity-50":"cursor-pointer hover:scale-105 transition-transform"}`,onClick:()=>!$.locked&&Xe(Y),children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center z-10 ${$.completed?"bg-green-500 text-white":qn(Y)?"bg-[var(--accent)] text-white ring-4 ring-[var(--accent)] ring-opacity-30":"bg-[var(--primary)] text-[var(--text-secondary)]"}`,children:$.locked?o.jsx(Hp,{size:18}):$.completed?o.jsx(ur,{size:18}):$.type==="section"?o.jsx($s,{size:18}):o.jsx(_r,{size:18})}),o.jsxs("div",{className:`absolute mt-14 text-xs text-center w-24 ${qn(Y)?"text-[var(--accent)] font-medium":"text-[var(--text-secondary)]"}`,children:[$.type==="section"?"Learn":"Practice",o.jsx("span",{className:"block font-semibold",children:$.type==="section"?`Section ${($.sectionIndex||0)+1}`:`Checkpoint ${Math.floor(Y/2)+1}`})]})]},Y))})]}),o.jsx(fB,{progress:b,milestones:c})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 relative",children:[o.jsx("div",{className:"absolute -top-10 -right-20 w-64 h-64 bg-[var(--accent)] rounded-full filter blur-[120px] opacity-10 z-0"}),o.jsx("div",{className:"lg:col-span-3 relative z-10",children:o.jsxs("div",{className:"card sticky top-24 z-10",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(sN,{className:"text-[var(--accent)] mr-2",size:18}),o.jsx("h2",{className:"text-lg font-semibold",children:"Journey Milestones"})]}),o.jsx("ul",{className:"space-y-2",children:c.map(($,Y)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>!$.locked&&Xe(Y),disabled:$.locked,className:`text-left w-full py-2 px-3 rounded-lg text-sm transition-colors flex items-center ${$.locked?"opacity-50 cursor-not-allowed":qn(Y)?"bg-[var(--accent)] bg-opacity-20 text-[var(--accent)]":"hover:bg-[var(--primary)]"}`,children:[$.locked?o.jsx(Hp,{size:16,className:"mr-2 flex-shrink-0"}):$.completed?o.jsx(gi,{size:16,className:"mr-2 flex-shrink-0 text-green-500"}):o.jsx("div",{className:`w-4 h-4 rounded-full mr-2 flex-shrink-0 ${qn(Y)?"bg-[var(--accent)]":"bg-[var(--primary)]"}`}),o.jsx("span",{className:"line-clamp-1",children:$.type==="section"?`Learn: ${$.title}`:`Practice: Checkpoint ${Math.floor(Y/2)+1}`})]})},Y))}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[o.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Your Progress"}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-secondary)]",children:[o.jsxs("span",{children:[b,"% complete"]}),o.jsxs("span",{children:[c.filter($=>$.completed).length,"/",c.length," milestones"]})]}),o.jsx("div",{className:"w-full bg-[var(--primary)] h-2 rounded-full mt-2 overflow-hidden",children:o.jsx(M.div,{className:"h-full bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",initial:{width:0},animate:{width:`${b}%`},transition:{duration:1}})})]})]})}),o.jsxs("div",{className:"lg:col-span-9 space-y-6 relative z-10",children:[((Yr=c[a])==null?void 0:Yr.type)==="section"&&((ni=c[a])==null?void 0:ni.sectionIndex)!==void 0&&o.jsx(an,{mode:"wait",children:o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"space-y-6",children:[o.jsxs("div",{className:"card relative overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-1",children:e.sections[s].title}),o.jsxs("div",{className:"text-sm text-[var(--text-secondary)] mb-4",children:[o.jsxs("span",{children:["Section ",s+1," of ",e.sections.length]}),o.jsx("span",{className:"mx-2",children:""}),o.jsxs("span",{children:["Milestone ",a+1," of ",c.length]})]})]}),o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${c[a].completed?"bg-green-500 bg-opacity-20 text-green-500":"bg-[var(--accent)] bg-opacity-20 text-[var(--accent)]"}`,children:c[a].completed?"Completed":"In Progress"})]}),o.jsx("div",{className:"prose prose-invert max-w-none",children:o.jsx("p",{className:"whitespace-pre-line",children:e.sections[s].content})})]}),e.sections[s].examples&&e.sections[s].examples.length>0&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Examples"}),e.sections[s].examples.map(($,Y)=>o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center mb-2 text-sm text-[var(--text-secondary)]",children:[o.jsx(tN,{size:16,className:"mr-1"}),$.language]}),o.jsx("div",{className:"bg-[var(--primary)] p-4 rounded-lg overflow-x-auto",children:o.jsx("pre",{className:"text-sm font-mono",children:$.code})})]},Y))]}),!c[a].completed&&o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:je,className:"btn-primary flex items-center",children:[o.jsx(gi,{size:18,className:"mr-2"}),"Complete and Take Quiz"]})})]},s)}),((Jr=c[a])==null?void 0:Jr.type)==="practice"&&o.jsx(an,{mode:"wait",children:o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"card relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full bg-purple-500 filter blur-[80px] opacity-10 z-0"}),o.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(l_,{className:"text-[var(--accent)] mr-2",size:22}),o.jsxs("h2",{className:"text-2xl font-bold mb-1",children:["Practice: Checkpoint ",Math.floor(a/2)+1]})]}),o.jsx("p",{className:"text-[var(--text-secondary)]",children:"Apply what you've learned by solving these problems"})]}),o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${c[a].completed?"bg-green-500 bg-opacity-20 text-green-500":"bg-[var(--accent)] bg-opacity-20 text-[var(--accent)]"}`,children:c[a].completed?"Completed":"In Progress"})]}),o.jsx("div",{className:"bg-[var(--primary)] p-4 rounded-lg mb-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(LU,{size:24,className:"text-[var(--accent)] mr-3 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-1",children:"Checkpoint Challenge"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Complete at least one practice problem to apply what you've learned in the previous section. Solving these problems will reinforce your understanding and help you build problem-solving skills."}),B&&o.jsxs("p",{className:"mt-2 text-sm text-green-400 flex items-center",children:[o.jsx(gi,{size:16,className:"mr-1"}),"You've completed a problem! You can now proceed."]}),le&&!B&&o.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[o.jsx(Ma,{size:16,className:"mr-1"}),"Please solve at least one problem to proceed."]})]})]})}),o.jsx("div",{className:"space-y-4 mb-6",children:(Xr=c[a].problemIds)==null?void 0:Xr.map(($,Y)=>{var ge;const oe=$t.find(Ae=>Ae.id===$);return oe?o.jsx("div",{className:"group",children:o.jsxs(Pe,{to:`/code/${oe.id}`,className:"flex items-center justify-between p-4 bg-[var(--primary)] rounded-lg hover:bg-opacity-80 transition-colors",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-[var(--secondary)] rounded-full flex items-center justify-center mr-4 text-[var(--accent)]",children:o.jsx(_r,{size:18})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:oe.title}),o.jsxs("div",{className:"flex items-center text-xs mt-1",children:[o.jsx("span",{className:lB(oe.difficulty),children:oe.difficulty}),o.jsx("span",{className:"mx-2 text-[var(--text-secondary)]",children:""}),o.jsx("span",{className:"text-[var(--text-secondary)]",children:oe.tags.slice(0,2).join(", ")})]})]})]}),o.jsxs("div",{className:"flex items-center",children:[((ge=c[a].solvedProblems)==null?void 0:ge.includes($))&&o.jsxs("span",{className:"mr-3 text-green-400 flex items-center",children:[o.jsx(gi,{size:16,className:"mr-1"}),o.jsx("span",{className:"text-xs",children:"Solved"})]}),o.jsx(Gd,{size:20,className:"text-[var(--text-secondary)] group-hover:translate-x-1 transition-transform"})]})]})},Y):null})}),o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg mb-6",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Demo: Mark Problem as Solved"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"In a real implementation, this would be automatically detected when you submit a correct solution to a problem. For demonstration purposes, click the button below to simulate solving a problem."}),o.jsxs("button",{onClick:$n,className:"btn-secondary flex items-center text-sm",disabled:B,children:[o.jsx(gi,{size:16,className:"mr-2"}),"Simulate Problem Solved"]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:dt,className:`btn-primary flex items-center ${B?"":"opacity-70"}`,children:B?o.jsxs(o.Fragment,{children:[o.jsx(gv,{size:18,className:"mr-2"}),"Continue Journey"]}):o.jsxs(o.Fragment,{children:[o.jsx(Ma,{size:18,className:"mr-2"}),"Complete a Problem to Continue"]})})})]},`practice-${a}`)}),o.jsxs("div",{className:"flex justify-between pt-4",children:[o.jsxs("button",{onClick:()=>{const $=c.findIndex((Y,oe)=>oe<a&&!Y.locked);$>=0&&Xe($)},className:`btn-secondary flex items-center ${c.some(($,Y)=>Y<a&&!$.locked)?"":"opacity-50 cursor-not-allowed"}`,disabled:!c.some(($,Y)=>Y<a&&!$.locked),children:[o.jsx(Ta,{size:16,className:"mr-2"}),"Previous"]}),o.jsxs("button",{onClick:()=>{const $=c.findIndex((Y,oe)=>oe>a&&!Y.locked);$>=0&&Xe($)},className:`btn-primary flex items-center ${c.some(($,Y)=>Y>a&&!$.locked)?"":"opacity-50 cursor-not-allowed"}`,disabled:!c.some(($,Y)=>Y>a&&!$.locked),children:["Next",o.jsx(Ta,{size:16,className:"ml-2 rotate-180"})]})]})]})]})]})})}),o.jsx(en,{})]}),h&&o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75 p-4",children:o.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,type:"spring",stiffness:200,damping:20},className:"bg-[var(--secondary)] rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto relative",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full bg-[var(--accent)] filter blur-[80px] opacity-10 z-0"}),o.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(l_,{className:"text-[var(--accent)] mr-2",size:24}),o.jsxs("h2",{className:"text-2xl font-bold",children:["Knowledge Check: ",e.sections[Math.floor(a/2)].title]})]}),o.jsx("button",{onClick:()=>f(!1),className:"text-[var(--text-secondary)] hover:text-white",children:o.jsx(Rn,{size:24})})]}),o.jsxs("p",{className:"text-[var(--text-secondary)] mb-6 relative z-10",children:["This quiz will test your understanding of ",e.sections[Math.floor(a/2)].title,". Answer all questions correctly to proceed to the practice problems."]}),v?o.jsx("div",{className:"text-center py-8 relative z-10",children:S?o.jsxs("div",{className:"space-y-4",children:[o.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,type:"spring",stiffness:200},children:o.jsx(gi,{size:64,className:"mx-auto text-green-500"})}),o.jsx("h3",{className:"text-2xl font-bold text-green-500",children:"Quiz Passed!"}),o.jsxs("p",{className:"text-[var(--text-secondary)] max-w-md mx-auto",children:["Congratulations! You've successfully completed this knowledge check. You answered all questions correctly in ",re," seconds. You can now proceed to the practice problems."]}),o.jsx("button",{onClick:()=>{f(!1);const $=a+1;$<c.length&&!c[$].locked&&Xe($)},className:"btn-primary mt-4",children:"Continue to Practice Problems"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},children:o.jsx(Ma,{size:64,className:"mx-auto text-red-500"})}),o.jsx("h3",{className:"text-2xl font-bold text-red-500",children:"Quiz Failed"}),o.jsx("p",{className:"text-[var(--text-secondary)] max-w-md mx-auto",children:"You didn't pass all the required questions. Review the material and try again."}),o.jsx("button",{onClick:()=>{g(!1),ie(0),W($=>$.map(Y=>({...Y,userAnswer:void 0})))},className:"btn-secondary mt-4",children:"Try Again"})]})}):o.jsxs("div",{className:"space-y-6 relative z-10",children:[o.jsx(an,{mode:"wait",children:o.jsxs(M.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:[o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("h3",{className:"font-semibold",children:["Question ",Z+1," of ",V.length]}),o.jsxs("div",{className:"flex items-center text-[var(--text-secondary)] text-xs",children:[o.jsx(Wh,{size:14,className:"mr-1"}),R?o.jsxs("span",{children:["Started ",Math.floor((Date.now()-R)/1e3),"s ago"]}):o.jsx("span",{children:"Timer starts when you select an answer"})]})]}),o.jsx("p",{className:"font-medium mb-4",children:(ri=V[Z])==null?void 0:ri.question}),o.jsx("div",{className:"space-y-3",children:(Tr=V[Z])==null?void 0:Tr.options.map(($,Y)=>{var oe,ge,Ae;return o.jsx("button",{className:`w-full text-left p-3 rounded-lg border ${((oe=V[Z])==null?void 0:oe.userAnswer)===Y?"bg-[var(--accent)] bg-opacity-20 border-[var(--accent)]":"bg-[var(--secondary)] border-gray-700 hover:bg-[var(--secondary)] hover:bg-opacity-70"}`,onClick:()=>zn(Z,Y),children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center mr-3 ${((ge=V[Z])==null?void 0:ge.userAnswer)===Y?"border-[var(--accent)] bg-[var(--accent)] text-white":"border-gray-500"}`,children:((Ae=V[Z])==null?void 0:Ae.userAnswer)===Y&&o.jsx(ur,{size:12})}),$]})},Y)})})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:[Z+1," of ",V.length," questions"]}),o.jsx("div",{className:"w-32 h-2 bg-[var(--primary)] rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-[var(--accent)]",style:{width:`${(Z+1)/V.length*100}%`}})})]})]},`question-${Z}`)}),o.jsx(an,{children:H&&o.jsx(M.div,{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 z-20 rounded-xl",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:o.jsx(M.div,{className:"text-2xl font-bold text-white",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:.5},children:P})})})]})]})}),j&&o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75 p-4",children:o.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-[var(--secondary)] rounded-xl p-8 max-w-md w-full text-center relative overflow-hidden",children:[o.jsx(M.div,{className:"w-24 h-24 rounded-full bg-[var(--accent)] bg-opacity-20 mx-auto flex items-center justify-center mb-6 relative z-10",initial:{scale:0},animate:{scale:1},transition:{duration:1,type:"spring",stiffness:100},children:o.jsx(Ni,{size:48,className:"text-[var(--accent)]"})}),o.jsx("h2",{className:"text-2xl font-bold mb-4 relative z-10",children:"Topic Mastered!"}),o.jsxs("p",{className:"text-[var(--text-secondary)] mb-6 relative z-10",children:["Congratulations! You've completed all sections and practice exercises for ",e.title,". You've demonstrated a strong understanding of this topic."]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center relative z-10",children:[o.jsxs("button",{onClick:()=>n("/study"),className:"btn-secondary flex-1 flex items-center justify-center",children:[o.jsx($s,{size:18,className:"mr-2"}),"Explore More Topics"]}),o.jsxs("button",{onClick:()=>T(!1),className:"btn-primary flex-1 flex items-center justify-center",children:[o.jsx(Tc,{size:18,className:"mr-2"}),"Review This Topic"]})]})]})}),o.jsx(dB,{isVisible:C}),o.jsx(an,{children:w&&o.jsx(hB,{achievement:w,onClose:()=>k(null)})})]}):o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl",children:"Topic not found"}),o.jsxs(Pe,{to:"/study",className:"mt-4 flex items-center text-[var(--accent)] hover:underline",children:[o.jsx(Ta,{size:16,className:"mr-1"}),"Back to study materials"]})]})}),o.jsx(en,{})]})})},$u=({className:t,size:e})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[o.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),o.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),o.jsx("path",{d:"M4 22h16"}),o.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),o.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),o.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),pB={y:[0,-15,0],transition:{duration:6,repeat:1/0,ease:"easeInOut"}},dm={scale:[1,1.05,1],transition:{duration:3,repeat:1/0,ease:"easeInOut"}},yu={textShadow:["0 0 0px rgba(244, 91, 105, 0)","0 0 10px rgba(244, 91, 105, 0.5)","0 0 0px rgba(244, 91, 105, 0)"],transition:{duration:3,repeat:1/0,repeatType:"reverse"}},Oo={scale:[1,1.2,1],opacity:[.3,.5,.3],transition:{duration:8,repeat:1/0,ease:"easeInOut"}},gB=()=>{var w,k,P,L;const{currentUser:t}=Bn(),[e,n]=A.useState("global"),[r,s]=A.useState(""),[i,a]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState([]),[f,p]=A.useState([]),[x,b]=A.useState(null),[E,j]=A.useState(null);A.useEffect(()=>{(async()=>{a(!0);try{const{data:N,error:re}=await a_("global",20);if(re)throw new Error(re);h(N);const{data:ee,error:H}=await a_("rankPoints",20);if(H)throw new Error(H);if(p(ee),t){const{data:G}=await on(t.uid);if(G){b({id:t.uid,name:G.name||"You",coderName:G.coderName||"",selectedAvatar:G.selectedAvatar||"boy1",stats:G.stats||{}});const V=await o_(t.uid,"global"),W=await o_(t.uid,"rankPoints");!V.error&&!W.error&&j(e==="global"?V.rank:W.rank)}}}catch(N){console.error("Error fetching leaderboard:",N),c(N.message)}finally{a(!1)}})()},[t,e]);const T=d.filter(R=>R.name.toLowerCase().includes(r.toLowerCase())||R.coderName&&R.coderName.toLowerCase().includes(r.toLowerCase())),v=f.filter(R=>R.name.toLowerCase().includes(r.toLowerCase())||R.coderName&&R.coderName.toLowerCase().includes(r.toLowerCase())),g=e==="global"?T:e==="ranked"?v:[],S=R=>{switch(R){case"global":return"totalPoints";case"ranked":return"totalRankPoints";default:return"score"}},D=R=>{switch(R){case"global":return"Points";case"ranked":return"Rank Points";default:return"Score"}},C=R=>{switch(R){case"Diamond":return{icon:"",color:"text-blue-400 bg-blue-400 bg-opacity-20"};case"Platinum":return{icon:"",color:"text-cyan-300 bg-cyan-300 bg-opacity-20"};case"Gold":return{icon:"",color:"text-yellow-400 bg-yellow-400 bg-opacity-20"};case"Silver":return{icon:"",color:"text-gray-300 bg-gray-300 bg-opacity-20"};case"Bronze":return{icon:"",color:"text-amber-700 bg-amber-700 bg-opacity-20"};default:return{icon:"",color:"text-blue-400 bg-blue-400 bg-opacity-20"}}},_=R=>{const N=["boy1","boy2","girl1","girl2"];return N[R%N.length]};return o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsxs("main",{className:"flex-grow py-12 relative overflow-hidden",children:[o.jsxs(M.div,{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[o.jsx(M.div,{className:"absolute top-1/4 right-1/4 w-[600px] h-[600px] rounded-full bg-[var(--accent)] filter blur-[200px] opacity-5",animate:Oo}),o.jsx(M.div,{className:"absolute bottom-1/3 left-1/4 w-[500px] h-[500px] rounded-full bg-[var(--accent-secondary)] filter blur-[180px] opacity-5",animate:{...Oo,transition:{...Oo.transition,delay:2}}}),o.jsx(M.div,{className:"absolute top-1/2 left-1/3 w-[400px] h-[400px] rounded-full bg-purple-500 filter blur-[150px] opacity-3",animate:{...Oo,transition:{...Oo.transition,delay:4}}})]}),o.jsx("div",{className:"container-custom relative z-10",children:o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(M.div,{whileHover:{rotate:360},transition:{duration:.8},children:o.jsx($u,{className:"text-[var(--accent)] mr-3",size:28})}),o.jsx(M.h1,{className:"text-3xl font-bold",animate:yu,children:"Leaderboard"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:g.slice(0,3).map((R,N)=>{var G,V;const re=S(e),ee=((G=R.stats)==null?void 0:G[re])||0,H=R.selectedAvatar||_(N);return o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:N*.1},className:"card relative flex flex-col items-center p-8",whileHover:{y:-5},children:[o.jsx(M.div,{className:`absolute top-0 right-0 left-0 h-2 rounded-t-lg ${N===0?"bg-yellow-500":N===1?"bg-gray-400":"bg-amber-700"}`,initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.3+N*.1}}),o.jsxs(M.div,{className:"relative mb-2",whileHover:{y:-5},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:15,delay:.4+N*.1},children:[o.jsx(Da,{type:H,size:100,interval:8e3+N*1e3}),o.jsx(M.div,{className:`absolute -bottom-2 -right-2 w-8 h-8 rounded-full flex items-center justify-center ${N===0?"bg-yellow-500":N===1?"bg-gray-400":"bg-amber-700"}`,initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:15,delay:.6+N*.1},children:o.jsx("span",{className:"text-white font-bold",children:N+1})})]}),o.jsx(M.h3,{className:"text-xl font-bold mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5+N*.1},animate:{...yu},children:R.name}),R.coderName&&o.jsx(M.p,{className:"text-sm text-[var(--text-secondary)]",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6+N*.1},children:R.coderName}),o.jsxs(M.p,{className:"text-[var(--accent)] font-semibold mt-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7+N*.1},animate:dm,children:[ee.toLocaleString()," ",D(e)]}),((V=R.stats)==null?void 0:V.rank)&&e==="ranked"&&o.jsxs(M.div,{className:`mt-2 px-3 py-1 rounded-full text-xs font-medium ${C(R.stats.rank).color}`,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300,damping:15,delay:.8+N*.1},children:[R.stats.rank," ",o.jsx(M.span,{animate:{rotate:[0,10,0,-10,0],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:C(R.stats.rank).icon})]}),o.jsx(M.div,{className:`mt-4 px-3 py-1 rounded-full text-xs font-medium ${N===0?"bg-yellow-500 bg-opacity-20 text-yellow-500":N===1?"bg-gray-400 bg-opacity-20 text-gray-400":"bg-amber-700 bg-opacity-20 text-amber-700"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.9+N*.1},children:N===0?"Gold ":N===1?"Silver ":"Bronze "})]},R.id)})}),o.jsxs(M.div,{className:"card mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-6",children:[o.jsxs("div",{className:"flex space-x-4 mb-4 md:mb-0 overflow-x-auto py-2 md:py-0",children:[o.jsxs(M.button,{onClick:()=>n("global"),className:`flex items-center px-4 py-2 rounded-full whitespace-nowrap ${e==="global"?"bg-[var(--accent)] text-white":"text-[var(--text-secondary)] hover:text-[var(--text)] hover:bg-[var(--primary)]"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx($u,{size:16,className:"mr-2"}),"Overall Points"]}),o.jsxs(M.button,{onClick:()=>n("ranked"),className:`flex items-center px-4 py-2 rounded-full whitespace-nowrap ${e==="ranked"?"bg-[var(--accent)] text-white":"text-[var(--text-secondary)] hover:text-[var(--text)] hover:bg-[var(--primary)]"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(Ln,{size:16,className:"mr-2"}),"Ranked Matches"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(aN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-secondary)]",size:16}),o.jsx(M.input,{type:"text",placeholder:"Search users...",value:r,onChange:R=>s(R.target.value),className:"w-full pl-9 pr-4 py-2 bg-[var(--primary)] rounded-full focus:outline-none focus:ring-2 focus:ring-[var(--accent)]",whileFocus:{boxShadow:"0 0 0 3px rgba(244, 91, 105, 0.3)"}})]})]}),o.jsx("div",{className:"overflow-x-auto",children:i?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(M.div,{className:"rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--accent)]",animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"}})}):o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs(M.tr,{className:"border-b border-gray-700",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"User"}),e==="ranked"&&o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:D(e)})]})}),o.jsx("tbody",{children:g.length>0?g.map((R,N)=>{var V,W;const re=t&&R.id===t.uid,ee=S(e),H=((V=R.stats)==null?void 0:V[ee])||0,G=R.selectedAvatar||_(N);return o.jsxs(M.tr,{className:`border-b border-gray-800 hover:bg-[var(--primary)] hover:bg-opacity-30 transition-colors ${re?"bg-[var(--accent)] bg-opacity-10":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.7+N*.03},whileHover:{backgroundColor:"rgba(30, 30, 46, 0.5)"},children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(M.div,{className:`flex items-center justify-center w-8 h-8 rounded-full ${N===0?"bg-yellow-500 bg-opacity-20 text-yellow-500":N===1?"bg-gray-400 bg-opacity-20 text-gray-400":N===2?"bg-amber-700 bg-opacity-20 text-amber-700":"bg-[var(--primary)] text-[var(--text-secondary)]"}`,whileHover:{scale:1.2},children:N+1})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(M.div,{className:"h-10 w-10 flex-shrink-0",whileHover:{y:-3},children:o.jsx(Da,{type:G,size:40,interval:12e3+N*500})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs(M.div,{className:"text-sm font-medium text-[var(--text)]",whileHover:{color:"var(--accent)"},children:[R.name,re&&o.jsx("span",{className:"ml-2 text-xs text-[var(--accent)]",children:"(You)"})]}),R.coderName&&o.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:R.coderName})]})]})}),e==="ranked"&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(W=R.stats)!=null&&W.rank?o.jsxs(M.span,{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C(R.stats.rank).color}`,whileHover:{scale:1.1},children:[o.jsx(M.span,{animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{duration:3,repeat:1/0},className:"mr-1",children:C(R.stats.rank).icon}),R.stats.rank]}):o.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:"Unranked"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsx(M.span,{className:`font-semibold ${N===0?"text-yellow-400":N===1?"text-gray-300":N===2?"text-amber-400":"text-[var(--accent)]"}`,whileHover:{scale:1.1},children:H.toLocaleString()})})]},R.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:e==="ranked"?4:3,className:"px-6 py-8 text-center text-[var(--text-secondary)]",children:l?`Error loading leaderboard: ${l}`:"No users found matching your search criteria."})})})]})})]}),o.jsxs(M.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[o.jsx(M.h2,{className:"text-xl font-bold mb-4",animate:yu,children:"Your Position"}),t?x?o.jsxs(M.div,{className:"bg-[var(--primary)] p-4 rounded-lg",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300,damping:25},whileHover:{scale:1.01},children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(M.div,{className:"flex items-center",whileHover:{x:5},children:[o.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-4",children:o.jsx(Da,{type:x.selectedAvatar||"boy1",size:48,interval:1e4})}),o.jsxs("div",{children:[o.jsx(M.p,{className:"font-medium",animate:{...yu},children:x.name}),x.coderName&&o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:x.coderName})]})]}),o.jsxs(M.div,{className:"flex flex-col justify-center",whileHover:{y:-3},children:[o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx(M.div,{whileHover:{rotate:360},transition:{duration:.8},children:o.jsx($u,{size:16,className:"text-[var(--accent)] mr-2"})}),o.jsx("span",{className:"text-sm",children:"Overall Points:"}),o.jsx(M.span,{className:"ml-auto font-semibold",animate:dm,children:((w=x.stats)==null?void 0:w.totalPoints)||0})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(M.div,{animate:{rotate:[0,15,0,-15,0]},transition:{duration:2,repeat:1/0},children:o.jsx(Ln,{size:16,className:"text-[var(--accent)] mr-2"})}),o.jsx("span",{className:"text-sm",children:"Rank Points:"}),o.jsx(M.span,{className:"ml-auto font-semibold",animate:dm,children:((k=x.stats)==null?void 0:k.totalRankPoints)||0})]})]}),o.jsxs(M.div,{className:"flex flex-col justify-center",whileHover:{y:-3},children:[o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx(_r,{size:16,className:"text-[var(--accent)] mr-2"}),o.jsx("span",{className:"text-sm",children:"Problems Solved:"}),o.jsx("span",{className:"ml-auto font-semibold",children:((P=x.stats)==null?void 0:P.problemsSolved)||0})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(HU,{size:16,className:"text-[var(--accent)] mr-2"}),o.jsx("span",{className:"text-sm",children:"Current Rank:"}),o.jsx("span",{className:"ml-auto",children:(L=x.stats)!=null&&L.rank?o.jsxs(M.span,{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${C(x.stats.rank).color}`,whileHover:{scale:1.1},children:[o.jsx(M.span,{animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"mr-1",children:C(x.stats.rank).icon}),x.stats.rank]}):o.jsx("span",{className:"font-semibold",children:"Unranked"})})]})]})]}),E&&o.jsx(M.div,{className:"mt-4 pt-4 border-t border-gray-700",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(M.div,{className:"bg-[var(--accent)] bg-opacity-20 px-4 py-2 rounded-lg inline-flex items-center",whileHover:{scale:1.05},animate:{boxShadow:["0 0 0px rgba(244, 91, 105, 0)","0 0 10px rgba(244, 91, 105, 0.3)","0 0 0px rgba(244, 91, 105, 0)"]},transition:{boxShadow:{duration:2,repeat:1/0}},children:[o.jsx(SU,{className:"text-[var(--accent)] mr-2",size:16}),o.jsxs("span",{children:["Your position: ",o.jsx("strong",{children:E})," of ",g.length,"+ users"]})]})})})]}):o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg flex items-center justify-center",children:[o.jsx(M.div,{className:"h-6 w-6 border-t-2 border-b-2 border-[var(--accent)] rounded-full mr-3",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),o.jsx("p",{children:"Loading your stats..."})]}):o.jsx(M.div,{className:"bg-[var(--primary)] p-4 rounded-lg text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300,damping:25},children:o.jsx("p",{className:"text-[var(--text-secondary)]",children:"Please log in to see your ranking."})}),o.jsx(M.p,{className:"text-sm text-[var(--text-secondary)] mt-4",animate:pB,children:"Solve coding problems and win ranked matches to earn points and climb the leaderboard rankings."})]})]})})]}),o.jsx(en,{})]})})},vu=[{id:1,name:"First Steps",description:"Solve your first coding problem",icon:"",criteria:{problemsSolved:1}},{id:2,name:"Getting Started",description:"Solve 5 coding problems",icon:"",criteria:{problemsSolved:5}},{id:3,name:"Problem Solver",description:"Solve 25 coding problems",icon:"",criteria:{problemsSolved:25}},{id:4,name:"Code Warrior",description:"Solve 100 coding problems",icon:"",criteria:{problemsSolved:100}},{id:5,name:"Coding Master",description:"Solve 250 coding problems",icon:"",criteria:{problemsSolved:250}},{id:6,name:"Streak Starter",description:"Maintain a 3-day coding streak",icon:"",criteria:{currentStreak:3}},{id:7,name:"Streak Warrior",description:"Maintain a 7-day coding streak",icon:"",criteria:{currentStreak:7}},{id:8,name:"Streak Master",description:"Maintain a 30-day coding streak",icon:"",criteria:{currentStreak:30}},{id:9,name:"Bronze Competitor",description:"Reach Bronze rank in Ranked Matches",icon:"",criteria:{rank:"Bronze"}},{id:10,name:"Silver Competitor",description:"Reach Silver rank in Ranked Matches",icon:"",criteria:{rank:"Silver"}},{id:11,name:"Gold Competitor",description:"Reach Gold rank in Ranked Matches",icon:"",criteria:{rank:"Gold"}},{id:12,name:"Platinum Competitor",description:"Reach Platinum rank in Ranked Matches",icon:"",criteria:{rank:"Platinum"}},{id:13,name:"Diamond Competitor",description:"Reach Diamond rank in Ranked Matches",icon:"",criteria:{rank:"Diamond"}},{id:14,name:"First Victory",description:"Win your first ranked match",icon:"",criteria:{rankWins:1}},{id:15,name:"Victorious",description:"Win 10 ranked matches",icon:"",criteria:{rankWins:10}},{id:16,name:"Champion",description:"Win 50 ranked matches",icon:"",criteria:{rankWins:50}}],yB=()=>{const{currentUser:t}=Bn(),[e,n]=A.useState(!0),[r,s]=A.useState(null),[i,a]=A.useState({problemsSolved:0,currentStreak:0,bestStreak:0,averageSolveTime:0,solvedProblems:[],totalRankPoints:0,rank:"",rankWins:0,rankMatches:0}),[l,c]=A.useState([]),[d,h]=A.useState([1,2]),[f,p]=A.useState(!1),[x,b]=A.useState(null);A.useEffect(()=>{(async()=>{var _,w,k,P,L,R,N,re;if(!t){n(!1);return}try{const{data:ee,error:H}=await on(t.uid);if(H)throw new Error(H);if(ee){a({problemsSolved:((_=ee.stats)==null?void 0:_.problemsSolved)||0,currentStreak:((w=ee.stats)==null?void 0:w.currentStreak)||0,bestStreak:((k=ee.stats)==null?void 0:k.bestStreak)||0,averageSolveTime:((P=ee.stats)==null?void 0:P.averageSolveTime)||0,solvedProblems:ee.solvedProblems||[],totalRankPoints:((L=ee.stats)==null?void 0:L.totalRankPoints)||0,rank:((R=ee.stats)==null?void 0:R.rank)||"",rankWins:((N=ee.stats)==null?void 0:N.rankWins)||0,rankMatches:((re=ee.stats)==null?void 0:re.rankMatches)||0}),c(ee.achievements||[]),h(ee.showcasedAchievements||[1,2]);const G=E(ee);G.length>0&&(await j(ee,G),b(vu.find(V=>V.id===G[0])),p(!0),setTimeout(()=>{p(!1)},5e3))}}catch(ee){s(ee.message)}finally{n(!1)}})()},[t]);const E=C=>{if(!C||!C.stats)return[];const _=C.stats,w=C.achievements||[],k=[];return vu.forEach(P=>{if(w.includes(P.id))return;let L=!0;for(const[R,N]of Object.entries(P.criteria))if(R==="rank"){if(_.rank!==N){L=!1;break}}else if(_[R]<N){L=!1;break}L&&k.push(P.id)}),k},j=async(C,_)=>{if(t)try{const k=[...C.achievements||[],..._];await us(t.uid,{achievements:k}),c(k),console.log("New achievements saved:",_)}catch(w){console.error("Failed to save achievements:",w)}},T=C=>{l.includes(C)&&(d.includes(C)?d.length>1&&h(d.filter(_=>_!==C)):d.length<3&&h([...d,C]),t&&us(t.uid,{showcasedAchievements:d.includes(C)?d.filter(_=>_!==C):[...d,C].slice(0,3)}).catch(_=>{console.error("Failed to save showcased achievements:",_)}))},v=()=>{const C=$t.filter(_=>i.solvedProblems.includes(_.id));return{Easy:{solved:C.filter(_=>_.difficulty==="Easy").length,total:$t.filter(_=>_.difficulty==="Easy").length},Medium:{solved:C.filter(_=>_.difficulty==="Medium").length,total:$t.filter(_=>_.difficulty==="Medium").length},Hard:{solved:C.filter(_=>_.difficulty==="Hard").length,total:$t.filter(_=>_.difficulty==="Hard").length}}},g=()=>{const C=new Map;return $t.forEach(_=>{_.tags.forEach(w=>{C.has(w)||C.set(w,{total:0,solved:0}),C.get(w).total++,i.solvedProblems.includes(_.id)&&C.get(w).solved++})}),Array.from(C.entries()).sort((_,w)=>w[1].total-_[1].total).slice(0,4)};if(!t)return o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow py-16",children:o.jsx("div",{className:"container-custom",children:o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Please Log In"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"You need to be logged in to view your stats"}),o.jsx("a",{href:"/login",className:"btn-primary inline-block",children:"Log In"})]})})}),o.jsx(en,{})]})});const S=v(),D=g();return o.jsxs(wt,{children:[o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(Ja,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Your Statistics"})]}),e?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--accent)]"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{title:"Problems Solved",value:i.problemsSolved.toString(),icon:o.jsx(IU,{className:"text-[var(--accent)]",size:20}),change:`${i.problemsSolved>0?"+":""}${i.problemsSolved} total`},{title:"Coding Streak",value:`${i.currentStreak} days`,icon:o.jsx(n9,{className:"text-[var(--accent)]",size:20}),change:`Best: ${i.bestStreak} days`},{title:"Avg. Solve Time",value:i.averageSolveTime>0?`${Math.round(i.averageSolveTime/60)} min`:"-- min",icon:o.jsx(Wh,{className:"text-[var(--accent)]",size:20}),change:i.averageSolveTime>0?`${i.averageSolveTime} seconds`:"No data yet"},{title:"Current Rank",value:i.rank||(i.totalRankPoints>0?"Bronze":"Unranked"),icon:o.jsx(e9,{className:"text-[var(--accent)]",size:20}),change:`${i.totalRankPoints} Rank Points`}].map((C,_)=>o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:_*.1},className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h2",{className:"text-[var(--text-secondary)]",children:C.title}),C.icon]}),o.jsx("p",{className:"text-2xl font-bold mb-1",children:C.value}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:C.change})]},_))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"card lg:col-span-1",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx($u,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h2",{className:"text-xl font-bold",children:"Your Rankings"})]}),o.jsx("div",{className:"space-y-4",children:[{category:"Country",rank:"Unranked",total:"??"},{category:"Local Area",rank:"Unranked",total:"??"},{category:"Friends",rank:"Unranked",total:"??"}].map((C,_)=>o.jsx("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:C.category}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-semibold",children:C.rank}),o.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:["of ",C.total]})]})]})},_))}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-800",children:o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Solve coding problems to improve your rank in the global leaderboards."})})]}),o.jsxs("div",{className:"card lg:col-span-2",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(Tc,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h2",{className:"text-xl font-bold",children:"Problem Solving"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:Object.entries(S).map(([C,_],w)=>o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:[o.jsx("h3",{className:`text-sm font-medium mb-2 ${C==="Easy"?"text-green-400":C==="Medium"?"text-yellow-400":"text-red-400"}`,children:C}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-2xl font-bold",children:_.solved}),o.jsxs("span",{className:"text-xs text-[var(--text-secondary)]",children:["of ",_.total," solved"]})]}),o.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 mt-2",children:o.jsx("div",{className:`h-2 rounded-full ${C==="Easy"?"bg-green-400":C==="Medium"?"bg-yellow-400":"bg-red-400"}`,style:{width:`${_.solved/_.total*100}%`}})})]},w))}),o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg mb-4",children:[o.jsx("h3",{className:"text-sm font-medium mb-3",children:"Problem Categories"}),o.jsx("div",{className:"space-y-3",children:D.map(([C,_],w)=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[o.jsx("span",{children:C}),o.jsxs("span",{className:"text-[var(--text-secondary)]",children:[_.solved,"/",_.total]})]}),o.jsx("div",{className:"w-full bg-gray-800 rounded-full h-1.5",children:o.jsx("div",{className:"bg-[var(--accent)] h-1.5 rounded-full",style:{width:`${_.solved/_.total*100}%`}})})]},w))})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium mb-3",children:"Recent Activity"}),i.solvedProblems.length>0?o.jsx("div",{className:"space-y-2",children:$t.filter(C=>i.solvedProblems.includes(C.id)).slice(0,5).map((C,_)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:C.title}),o.jsx("span",{className:`text-xs ${C.difficulty==="Easy"?"text-green-400":C.difficulty==="Medium"?"text-yellow-400":"text-red-400"}`,children:C.difficulty})]},_))}):o.jsx("div",{className:"flex justify-center items-center py-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ql,{className:"mx-auto text-[var(--text-secondary)] mb-3",size:24}),o.jsx("p",{className:"text-[var(--text-secondary)]",children:"No recent activity"}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:"Start solving problems to see your activity"})]})})]})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(Ni,{className:"text-[var(--accent)] mr-2",size:24}),o.jsx("h2",{className:"text-2xl font-bold",children:"Achievements & Badges"})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Showcased Achievements"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:"Select up to 3 achievements to showcase on your profile. Click on an earned achievement to toggle showcase status."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:vu.filter(C=>d.includes(C.id)).map(C=>{const _=l.includes(C.id);return o.jsxs(M.div,{className:`flex items-center p-4 rounded-xl cursor-pointer ${_?"bg-[var(--accent)] bg-opacity-15 border border-[var(--accent)] shadow-lg":"bg-[var(--primary)] opacity-60"}`,whileHover:{scale:_?1.02:1},onClick:()=>T(C.id),children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--secondary)] flex items-center justify-center mr-4 text-xl",children:o.jsx("span",{children:C.icon})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-base",children:C.name}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:C.description}),o.jsx("div",{className:"mt-1 text-xs text-[var(--accent)]",children:"Showcased"})]})]},C.id)})})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:vu.map(C=>{let _=0,w=0;for(const[L,R]of Object.entries(C.criteria))if(L==="rank"){const N=["Bronze","Silver","Gold","Platinum","Diamond"],re=N.indexOf(i.rank||""),ee=N.indexOf(R);re>=ee&&ee>=0?(_=1,w=1):(_=0,w=1)}else{const N=i[L]||0;_=Math.min(N,R),w=R}const k=l.includes(C.id),P=d.includes(C.id);return o.jsx("div",{className:`bg-[var(--primary)] p-4 rounded-lg border cursor-pointer ${k?P?"border-[var(--accent)]":"border-transparent":"border-transparent opacity-60"}`,onClick:()=>k&&T(C.id),children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--secondary)] flex items-center justify-center mr-3 text-xl",children:C.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-sm mb-1",children:C.name}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)] mb-2",children:C.description}),o.jsx("div",{className:"w-full bg-gray-800 rounded-full h-1.5 mb-1",children:o.jsx("div",{className:`h-1.5 rounded-full ${k?"bg-green-400":"bg-[var(--accent)]"}`,style:{width:w>0?`${_/w*100}%`:"0%"}})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[_,"/",w]}),k&&o.jsxs("span",{className:"text-xs text-green-400 flex items-center",children:["Earned",P&&o.jsx("span",{className:"ml-1 bg-[var(--accent)] bg-opacity-20 px-1 py-0.5 rounded text-[var(--accent)] text-xs",children:""})]})]})]})]})},C.id)})})]})]})]})]})})}),o.jsx(en,{})]}),o.jsx(an,{children:f&&x&&o.jsx(M.div,{className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50",initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},transition:{type:"spring",damping:15,stiffness:300},children:o.jsxs(M.div,{className:"bg-gradient-to-r from-[var(--secondary)] to-[var(--accent)] p-6 rounded-xl shadow-xl flex items-center gap-5 relative overflow-hidden",animate:{boxShadow:["0 0 0px rgba(244, 91, 105, 0.3)","0 0 30px rgba(244, 91, 105, 0.6)","0 0 0px rgba(244, 91, 105, 0.3)"]},transition:{duration:2,repeat:3},children:[o.jsx(M.div,{className:"absolute inset-0 pointer-events-none",children:[...Array(20)].map((C,_)=>o.jsx(M.div,{className:"absolute w-2 h-2 rounded-full bg-white",initial:{x:Math.random()*100+"%",y:Math.random()*100+"%",opacity:0},animate:{x:[null,Math.random()*100+"%"],y:[null,Math.random()*100+"%"],opacity:[0,.7,0]},transition:{duration:2+Math.random()*3,repeat:1/0,repeatType:"loop"}},_))}),o.jsx(M.div,{className:"w-16 h-16 bg-[var(--secondary)] rounded-full flex items-center justify-center text-4xl shrink-0",animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1.5,repeat:2},children:x.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx(M.h3,{className:"text-xl font-bold",animate:{scale:[1,1.1,1]},transition:{duration:.8,repeat:3},children:"Achievement Unlocked!"}),o.jsx("p",{className:"text-lg font-medium",children:x.name}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:x.description})]})]})})})]})},vB=()=>{const[t,e]=A.useState({name:"",email:"",subject:"",message:""}),n=s=>{const{name:i,value:a}=s.target;e(l=>({...l,[i]:a}))},r=s=>{s.preventDefault(),alert("Your message has been sent!"),e({name:"",email:"",subject:"",message:""})};return o.jsx(wt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(At,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(Yl,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Contact Us"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold mb-6",children:"Get in Touch"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"mr-4",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--accent)] bg-opacity-20 flex items-center justify-center text-[var(--accent)]",children:o.jsx(Yl,{size:20})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Email"}),o.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"support@codepractice.com"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"For general inquiries"})]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"mr-4",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--accent)] bg-opacity-20 flex items-center justify-center text-[var(--accent)]",children:o.jsx(YU,{size:20})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Phone"}),o.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"+1 (555) 123-4567"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Mon-Fri, 9AM-5PM EST"})]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"mr-4",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--accent)] bg-opacity-20 flex items-center justify-center text-[var(--accent)]",children:o.jsx(sN,{size:20})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Location"}),o.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"123 Coding Lane"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Tech City, TC 10101"})]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"mr-4",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--accent)] bg-opacity-20 flex items-center justify-center text-[var(--accent)]",children:o.jsx(GU,{size:20})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Support"}),o.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"help@codepractice.com"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Technical support & issues"})]})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Connect With Us"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-4",children:"Follow us on social media to stay updated with the latest coding challenges, tips, and community events."}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[var(--primary)] flex items-center justify-center hover:bg-[var(--accent)] hover:bg-opacity-20 transition-colors",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--accent)]",children:o.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),o.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[var(--primary)] flex items-center justify-center hover:bg-[var(--accent)] hover:bg-opacity-20 transition-colors",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--accent)]",children:o.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})}),o.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[var(--primary)] flex items-center justify-center hover:bg-[var(--accent)] hover:bg-opacity-20 transition-colors",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--accent)]",children:[o.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),o.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),o.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),o.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[var(--primary)] flex items-center justify-center hover:bg-[var(--accent)] hover:bg-opacity-20 transition-colors",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--accent)]",children:[o.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),o.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),o.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),o.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[var(--primary)] flex items-center justify-center hover:bg-[var(--accent)] hover:bg-opacity-20 transition-colors",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--accent)]",children:[o.jsx("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),o.jsx("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})]})})]})]})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold mb-6",children:"Send Us a Message"}),o.jsxs("form",{onSubmit:r,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Your Name"}),o.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0,className:"w-full px-4 py-2 rounded-lg bg-[var(--primary)] border border-gray-700 focus:outline-none focus:border-[var(--accent)]"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Your Email"}),o.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0,className:"w-full px-4 py-2 rounded-lg bg-[var(--primary)] border border-gray-700 focus:outline-none focus:border-[var(--accent)]"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Subject"}),o.jsxs("select",{id:"subject",name:"subject",value:t.subject,onChange:n,required:!0,className:"w-full px-4 py-2 rounded-lg bg-[var(--primary)] border border-gray-700 focus:outline-none focus:border-[var(--accent)]",children:[o.jsx("option",{value:"",children:"Select a subject"}),o.jsx("option",{value:"general",children:"General Inquiry"}),o.jsx("option",{value:"support",children:"Technical Support"}),o.jsx("option",{value:"feedback",children:"Feedback"}),o.jsx("option",{value:"bug",children:"Report a Bug"}),o.jsx("option",{value:"feature",children:"Feature Request"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Message"}),o.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,required:!0,rows:6,className:"w-full px-4 py-2 rounded-lg bg-[var(--primary)] border border-gray-700 focus:outline-none focus:border-[var(--accent)]"})]}),o.jsxs("button",{type:"submit",className:"btn-primary flex items-center justify-center",children:[o.jsx(ZU,{size:16,className:"mr-2"}),"Send Message"]})]})]}),o.jsxs("div",{className:"card mt-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-6",children:"Frequently Asked Questions"}),o.jsx("div",{className:"space-y-4",children:[{question:"How do I change my account details?",answer:"You can update your account information from your profile page. Click on your profile picture, then select the edit icon next to your name or other details you wish to change."},{question:"Can I use multiple programming languages?",answer:"Yes, our platform supports multiple programming languages including Java, Python, C, C++, and JavaScript. You can select your preferred language from the dropdown menu in the code editor."},{question:"How are ranked matches scored?",answer:"Ranked matches are scored based on solution correctness, efficiency, and completion time. If both solutions are correct, the faster coder wins. Points awarded also depend on the difficulty of the problem and your current rank."},{question:"Is there a mobile app available?",answer:"We're currently developing mobile apps for iOS and Android. In the meantime, our website is fully responsive and optimized for mobile browsers."}].map((s,i)=>o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:s.question}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:s.answer})]},i))})]})]})]})]})})}),o.jsx(en,{})]})})},xB=({children:t})=>{const{currentUser:e}=Bn();return e?o.jsx(o.Fragment,{children:t}):o.jsx(tC,{to:"/login"})};function wB(){const t=Ks();return Bn(),o.jsx(an,{mode:"wait",children:o.jsxs(rC,{location:t,children:[o.jsx(yn,{path:"/",element:o.jsx(l9,{})}),o.jsx(yn,{path:"/login",element:o.jsx(c9,{})}),o.jsx(yn,{path:"/profile",element:o.jsx(xB,{children:o.jsx(h9,{})})}),o.jsx(yn,{path:"/code",element:o.jsx(m9,{})}),o.jsx(yn,{path:"/code/:id",element:o.jsx(B9,{})}),o.jsx(yn,{path:"/question-of-the-day",element:o.jsx(H9,{})}),o.jsx(yn,{path:"/ranked-match",element:o.jsx(K9,{})}),o.jsx(yn,{path:"/study",element:o.jsx(oB,{})}),o.jsx(yn,{path:"/study/:topic",element:o.jsx(mB,{})}),o.jsx(yn,{path:"/leaderboard",element:o.jsx(gB,{})}),o.jsx(yn,{path:"/stats",element:o.jsx(yB,{})}),o.jsx(yn,{path:"/contact",element:o.jsx(vB,{})})]},t.pathname)})}PT(document.getElementById("root")).render(o.jsx(A.StrictMode,{children:o.jsx(uC,{children:o.jsx(bU,{children:o.jsx(wB,{})})})}));
